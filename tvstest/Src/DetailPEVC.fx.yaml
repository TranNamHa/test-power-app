"DetailPEVC As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    Fill: =RGBA(248, 248, 249, 1)
    OnVisible: |-
        =// Không có quyền xem, tiễn khách
        If(!("VIEW" in LookUp(currenUserV2.permissionList, process_code = "Process5", action) && currenUserV2.status = "ACTIVE"), Select(Button2_7));
        UpdateContext({ShowNotification: false});
        Set(isShowSubmitButton, false);
        Set(isShowSaveButton, false);
        Set(isShowApproveButton, false);
        Set(isShowReviseButton, false);
        Set(isShowRejectButton, false);
        
        Set(Language, "En");
        Set(isDotFormat, Text(1.1) = "1.1");
        // Set show/hide buttons
        Set(isShowSaveButton, false); Set(isShowSubmitButton, false); Set(isShowApproveButton, false); Set(isShowRejectButton, false); Set(isShowReviseButton, false); 
        // Dat Ngo last edit 18:54 19/01/2024
        Set(isSubmited, false);
        Set(CompanyNameSelectedValueOld, Blank());
        Set(MenuSelect,"Business process");
        Set(MenuSelect2,If(App.Width > 800, "Process of Private Equity Investment", "PEVC"));
        Set(HeaderText,"");
        Set(isSaveFromApprove, false);
        Set(showProgress, false);
        // reset attachment
        Reset(NEW_LEAD_CREATION_Att);Reset(NEW_LEAD_CREATION_PENDING_Att);Reset(NDA_APPROVAL_Att);Reset(COMPLETE_DISCUSSION_PAPER_Att);Reset(INVESTMENT_MEMO_PENDING_Att);Reset(COMPLETE_TERM_SHEET_Att);Reset(INVESTMENT_MEMO_Att);Reset(DD_CONTRACT_Att);Reset(LEGAL_CONTRACT_Att);Reset(INVESTMENT_CONTRACT_Att);Reset(COMPLETE_DISBURSEMENT_Att);Reset(APPROVE_RESOLUTIONS_Att);Reset(LEGAL_CONTRACTS_Att);Reset(APPROVE_THE_DIVESTMENT_CONTRACT_Att);Reset(COMPLETED_DIVESTMENT_Att);
        // Reset fields
        If(IsBlank(prePEVCInfoEdit), Set(dealTypeSelectedValue, Blank()));
        Reset(PEVC_PrimaryShare_Input); Reset(PEVC_SecondaryShare_Input); Reset(PEVC_DebtPortion_Input); Reset(PEVC_InterestRate_Input); Reset(PEVC_Maturity_Input); Reset(PEVC_CompanyPre_Input); Reset(PEVC_CompanyPost_Input); Reset(PEVC_PercentOwnership_Input);
        
        Reset(Divestment_CompanyValue_Input); Reset(Divestment_PriceOerShare_Input); Reset(Divestment_TotalGrossSalesProceeds_Input); Reset(Divestment_Buyer_Input); Reset(Divestment_ExpectedFee_Input); Reset(ExpectedEndingTime_Datepicker); Reset(Divestment_EquityPortion_Input); Reset(Divestment_DebtPortion_Input); Reset(Divestment_Ownership_Input);
        
        If(!IsBlank(prePEVCInfoEdit),
            Set(currentStatus, If(prePEVCInfoEdit.status in ["APPROVED", "REJECTED"], If(isDivestment, "PROPOSED_DIVESTMENT_NEW", "NEW_LEAD_CREATION_NEW"), prePEVCInfoEdit.status));
            Set(PEVCCurrentStatus, prePEVCInfoEdit.status);,
            Set(currentStatus, "BLANK"); Set(PEVCCurrentStatus, "BLANK");
        ); 
        
        Set(dealTypeValue, Blank());
        // setup status to test
        Set(DealDetailTab, 1);
        If(currentStatus = "BLANK", Set(roleDealUserCurrent, "deal_lead"));
        Set(pevcAction, Blank());
        Set(pevcDealStatus, If(currentStatus = "BLANK" || IsBlank(prePEVCInfoEdit.deal_status), "Draft", prePEVCInfoEdit.deal_status));
        
        // Set filter log status
        Set(statusFilterLog, First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in ThisRecord.currentStatus)).statusLogFilter);
        Select(SetNumberFormatVariables);
        Set(isLazyload, false);

    RectQuickActionBar8_2 As rectangle:
        Height: =56
        Width: =Parent.Width
        ZIndex: =1

    Canvas10_2 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =Parent.Height - Self.Y
        Width: =Parent.Width
        Y: =RectQuickActionBar8_2.Y + RectQuickActionBar8_2.Height
        ZIndex: =2

        DataCard10_2 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =Parent.Height - 100
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            WhiteBackground_10 As htmlViewer:
                Font: =Font.Arial
                Height: |-
                    =If(DealDetailTab = 1,
                        If(!isDivestment,
                            Switch(currentStatus,
                            "BLANK", PEVC_DealTypeDropdown.Y + PEVC_DealTypeDropdown.Height + 100,
                            "NEW_LEAD_CREATION_NEW", ButtonAddContact_10.Y + ButtonAddContact_10.Height,
                            ButtonAddContact_10.Y + ButtonAddContact_10.Height),
                            Switch(currentStatus,
                            "BLANK", PEVC_DealTypeDropdown.Y + PEVC_DealTypeDropdown.Height + 100,
                            ButtonAddContact_10.Y + ButtonAddContact_10.Height)
                        ),
                        PEVC_Logs.Y + PEVC_Logs.Height + 20
                    )
                HtmlText: |-
                    ="<div style='width: calc(100% - 10px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                    '></div>"
                PaddingRight: =5.00
                PaddingTop: =5.00
                Size: =11.00
                Width: =If(Parent.Width > 800, Parent.Width - If(MobileShowMenu, 285, 100) - 250, Parent.Width + 10)
                X: =If(Parent.Width > 800, If(MobileShowMenu, 270, 75) + 260, If(showProgress, App.Width + 20, 0))
                Y: =SubHeaderBg_3.Y + SubHeaderBg_3.Height - 45 + If(App.Width > 800, 0, 20)
                ZIndex: =1

            "ListProgessItemsPEVC As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =Self.AllItemsCount * Self.TemplateHeight
                Items: |
                    =If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC)
                Layout: =Layout.Vertical
                TemplatePadding: =0
                TemplateSize: =50
                Visible: =false
                Width: =If(Parent.Width > 1050, 220, Parent.Width > 1000, 200, 150)
                X: =If(Parent.Width > 800, If(MobileShowMenu, 256, 66), 0)
                Y: =66 + If(App.Width <= 800 && showProgress, 25, 0)
                ZIndex: =2

                Label9_7 As label:
                    Align: =Align.Right
                    Color: |-
                        =If( currentStatus in ThisItem.currentStatus, RGBA(17,79,144,1),
                            IsBlank(prePEVCInfoEdit) && "DRAFT" in ThisItem.currentStatus ||
                            If(PEVCCurrentStatus = "REJECTED",PEVCCurrentStatus,PEVCCurrentStatus) in ThisItem.currentStatus,
                            If(PEVCCurrentStatus = "REJECTED", RGBA(255, 0, 0, 1), RGBA(17,79,144,1)),
                            If(PEVCCurrentStatus = "REJECTED",PEVCCurrentStatus,PEVCCurrentStatus) in ThisItem.activeArray,
                            RGBA(36,201,72,1)
                        )
                    Fill: =If(IsBlank(prePEVCInfoEdit) && "DRAFT" in ThisItem.currentStatus || PEVCCurrentStatus in ThisItem.currentStatus, RGBA(209, 221, 255, 0.5), RGBA(209, 221, 255, 0))
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    OnSelect: =Select(Parent)
                    PaddingRight: =10
                    Size: =If(App.Width > 1000, 10, 9)
                    Text: =ThisItem.Text
                    VerticalAlign: =If(Label9_10.Visible, VerticalAlign.Top, VerticalAlign.Middle)
                    Visible: =If(ThisItem.Text = "CEO" && !IsBlank(proposalInfoEdit), If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "PENDING_REVIEW_BY_CEO", "APPROVED"], ThisItem.Text <> "CEO")
                    Width: =Parent.Width - Self.X
                    X: =20
                    Y: =9
                    ZIndex: =1

                Label9_10 As label:
                    Align: =Align.Right
                    Color: =Label9_7.Color
                    Fill: =RGBA(0,0,0,0)
                    Font: =Font.Arial
                    Height: =17
                    Italic: =true
                    OnSelect: =Select(Parent)
                    PaddingRight: =10
                    PaddingTop: =0
                    Size: =8
                    Text: =Switch(LookUp(fileAndlistIC.list_time_status, level = ThisItem.level, status), "APPROVE", "Approved", "REJECT", "Rejected", "REVISE", "Revised", If(fileAndlistIC.isResubmit, "Resubmitted", "Submitted")) & " on " & Text(DateValue(LookUp(fileAndlistIC.list_time_status, level = ThisItem.level, created_date)), "dd/mm/yyyy")
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =Label9_7.Visible && App.Width > 1200 && !IsBlank(LookUp(fileAndlistIC.list_time_status, level = ThisItem.level, created_date)) && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["DRAFT", "PARTIALLY_REJECTED"]) && Self.Color <>  RGBA(0,0,0,1)
                    Width: =Parent.Width - Self.X
                    X: =40
                    Y: =33
                    ZIndex: =3

                Button5_1 As button:
                    DisabledFill: =Self.Fill
                    Fill: =RGBA(0, 0, 0, 0)
                    Font: =Font.Arial
                    Height: =Label9_7.Height
                    HoverFill: =Self.Fill
                    OnSelect: |
                        =// Set(currentStatus, If(PEVCCurrentStatus = "BLANK" && (ThisItem.Text = "New Lead Creation" || ThisItem.Text = "Proposed divestment"), "BLANK", ThisItem.clickScreen));
                        // Set(statusFilterLog,ThisItem.statusLogFilter);
                    PressedFill: =Self.Fill
                    Text: =""
                    Width: =Label9_7.Width
                    X: =Label9_7.X
                    Y: =Label9_7.Y
                    ZIndex: =4

            Menu3LevelControl1 As Menu3LevelControl.pcfdataset:
                currentStep: =PEVCCurrentStatus
                defaultStep: =If(!(PEVCCurrentStatus in ["APPROVED", "REJECTED"]), PEVCCurrentStatus, If(isDivestment, "PROPOSED_DIVESTMENT_NEW", "NEW_LEAD_CREATION_NEW"))
                DisplayMode: =DisplayMode.Edit
                Height: =Self.Data.heightTree
                Items: =AddColumns(listProgessPEVCForTracking, showGroup, false)
                OnChange: |-
                    =Set(currentStatus,
                    If(
                        (PEVCCurrentStatus in ["BLANK"] && (Self.Data.Text = "New Lead Creation" || Self.Data.Text = "Proposed divestment")) || IsBlank(Self.Data.Text),
                        "BLANK",
                        (PEVCCurrentStatus in ["APPROVED", "REJECTED"] && (Self.Data.Text = "New Lead Creation" || Self.Data.Text = "Proposed divestment")) || IsBlank(Self.Data.Text),
                        If(isDivestment, "PROPOSED_DIVESTMENT_NEW", "NEW_LEAD_CREATION_NEW"),
                        Self.Data.clickScreen));
                    Set(statusFilterLog, Self.Data.statusLogFilter);
                    Set(DealDetailTab, 1);
                    If(calledFindByID, Select(SetShowHideButtonsById));
                    Select(UpdateIsDisable);
                Width: =If(App.Width > 800, ListProgessItemsPEVC.Width + 10, App.Width)
                X: =If(App.Width > 800, ListProgessItemsPEVC.X + 20, If(showProgress, ListProgessItemsPEVC.X + 20, 9999))
                Y: =ListProgessItemsPEVC.Y
                ZIndex: =3

            HrProgress_4 As rectangle:
                Fill: =RGBA(191, 191, 192, 1)
                Height: =If(IsBlank(Menu3LevelControl1.Data), WhiteBackground_10.Height - 10, Max(Menu3LevelControl1.Data.heightTree, WhiteBackground_10.Height - 10))
                Visible: =App.Width > 800
                Width: =1
                X: =ListProgessItemsPEVC.X + ListProgessItemsPEVC.Width + 42
                Y: =WhiteBackground_10.Y
                ZIndex: =4

            HrQT2_11 As rectangle:
                BorderColor: =RGBA(176, 176, 176, 1)
                BorderThickness: =0.5
                Fill: =RGBA(246, 246, 246, 1)
                Height: =0.5
                Visible: =QT2Tabs_12.Visible && !COMPLETE_TERM_SHEET_Att.Visible && !COMPLETED_DIVESTMENT_Att.Visible
                Width: =If(App.Width > 600, layout_ip_issuer.X + layout_ip_issuer.Width - Self.X, QT2Tabs_12.AllItemsCount * QT2Tabs_12.TemplateWidth - 2)
                X: =QT2Tabs_12.X
                Y: =QT2Tabs_12.Y + QT2Tabs_12.Height - 7
                ZIndex: =79

            QT2Tabs_12 As gallery.galleryHorizontal:
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =47
                Items: |-
                    =If(COMPLETE_TERM_SHEET_Att.Visible, [{text: "Term sheet", tab: 1}],
                       COMPLETED_DIVESTMENT_Att.Visible, [{text: "Payment vouchers", tab: 1}],
                        [{text:
                            If( currentStatus in First(Filter(listProgessPEVC, Text = "NDA Approval")).currentStatus, "NDA Approval",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Complete Discussion Paper")).currentStatus, "Discussion Paper",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo")).currentStatus, "Investment Memo",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Complete Term Sheet")).currentStatus, "Term sheet",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo (adjusted)")).currentStatus, "Investment Memo",
                                currentStatus in First(Filter(listProgessPEVC, Text = "DD Contract")).currentStatus, "DD contract",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Legal contract")).currentStatus, "Legal contract",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Investment contract")).currentStatus, "Investment contract",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Complete disbursement")).currentStatus, "Disbursement",
                                currentStatus in First(Filter(listProgessPEVC, Text = "Approve resolution")).currentStatus, "Resolution",
                                currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve resolutions")).currentStatus, "Resolution",
                                currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Legal contracts")).currentStatus, "Legal contract",
                                currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve the divestment contract")).currentStatus, "Divestment contract",
                                currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Completed divestment")).currentStatus, "Payment",
                                currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Proposed divestment")).currentStatus, "Proposed divestment",
                                "NDA Approval")
                        , tab: 1},
                        {text: "Approval Logs", tab: 2}]
                    )
                ShowScrollbar: =false
                TemplatePadding: =0
                TemplateSize: |-
                    =If( currentStatus in First(Filter(listProgessPEVC, Text = "NDA Approval")).currentStatus, If(App.Width > 800, 115, 150),  //"NDA Approval",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Complete Discussion Paper")).currentStatus, If(App.Width > 800, 135, 150),  //"Discussion Paper",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo")).currentStatus, If(App.Width > 800, 135, 150),  //"Investment Memo",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Complete Term Sheet")).currentStatus, 92,  //"Term sheet",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo (adjusted)")).currentStatus, If(App.Width > 800, 135, 150),  //"Investment Memo",
                        currentStatus in First(Filter(listProgessPEVC, Text = "DD Contract")).currentStatus, If(App.Width > 800, 105, 150),  //"DD contract",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Legal contract")).currentStatus, If(App.Width > 800, 115, 150),  //"Legal contract",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Investment contract")).currentStatus, If(App.Width > 800, 150, 150),  //"Investment contract",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Complete disbursement")).currentStatus, If(App.Width > 800, 110, 150),  //"Disbursement",
                        currentStatus in First(Filter(listProgessPEVC, Text = "Approve resolutions")).currentStatus, If(App.Width > 800, 100, 150),  //"Resolution",
                        currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve resolutions")).currentStatus, If(App.Width > 800, 105, 150),  //"Resolution",
                        currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve resolution")).currentStatus, If(App.Width > 800, 105, 150),  //"Resolution",
                        currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Legal contracts")).currentStatus, If(App.Width > 800, 115, 150),  //"Legal contract",
                        currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve the divestment contract")).currentStatus, 150,  //"Divestment contract",
                        currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Completed divestment")).currentStatus, 145,  //"Payment vouchers",
                        currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Proposed divestment")).currentStatus, 180,  //"Proposed divestment",
                        150
                    )
                Visible: =!(currentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW"])
                Width: =If(Parent.Width > 600,1100, Parent.Width - 20)
                X: =WhiteBackground_10.X + If(App.Width > 600, 15, 10)
                Y: =WhiteBackground_10.Y + 10
                ZIndex: =80

                Button8_38 As button:
                    BorderStyle: =BorderStyle.None
                    Color: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                    DisabledFill: =RGBA(244, 244, 244, 0)
                    Fill: =RGBA(0, 0, 0, 0)
                    Font: =Font.Arial
                    Height: =35
                    HoverColor: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                    HoverFill: =RGBA(248, 248, 249, 0)
                    OnSelect: |-
                        =Select(Parent);
                        Set(DealDetailTab, ThisItem.tab);
                    PaddingLeft: =0
                    PaddingRight: =0
                    PressedBorderColor: =Self.Color
                    PressedColor: =Self.Color
                    PressedFill: =RGBA(0, 0, 0, 0)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =10.5
                    Text: =ThisItem.text
                    Tooltip: =ThisItem.text
                    Width: =QT2Tabs_12.TemplateWidth
                    Y: =5
                    ZIndex: =1

                BottomBorder1_45 As rectangle:
                    BorderColor: =If(DealDetailTab = ThisItem.tab, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                    BorderThickness: =If(DealDetailTab = ThisItem.tab, 2, 0)
                    Fill: =RGBA(246, 246, 246, 1)
                    Height: =If(ThisItem.tab = DealDetailTab, 2, 0)
                    Visible: =!COMPLETE_TERM_SHEET_Att.Visible && !COMPLETED_DIVESTMENT_Att.Visible
                    Width: =QT2Tabs_12.TemplateWidth
                    Y: =40
                    ZIndex: =2

            "PEVC_Logs As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =Self.AllItemsCount * Self.TemplateHeight + 10
                Items: =Sort(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && action in ["APPROVE", "REJECT", "REVISE"]), created_date, SortOrder.Descending)
                Layout: =Layout.Vertical
                TemplatePadding: =0
                TemplateSize: =If(App.Width > 1100, 95, 110)
                Visible: =DealDetailTab = 2
                Width: =If(App.Width > 1100, 720, App.Width)
                X: =QT2Tabs_12.X
                Y: =QT2Tabs_12.Y + QT2Tabs_12.Height + 10
                ZIndex: =81

                Title5_6 As label:
                    Font: =Font.Arial
                    Height: =If(App.Width > 1100, 26, 40)
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: |-
                        =If(ThisItem.action = "APPROVE" , "Approved by " ,ThisItem.action = "REJECT", "Rejected by ", "Revised by ")
                        & ThisItem.name_employee
                        & " on "
                        & Text(DateTimeValue(ThisItem.created_date), "dd/mm/yyyy hh:mm:ss")
                        & " with comments:"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.Width - 40
                    X: =10
                    Y: =4
                    ZIndex: =2

                TextInput4_6 As text:
                    BorderThickness: =0
                    Default: =ThisItem.note
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =DisplayMode.Disabled
                    Font: =Font.Arial
                    Height: =60
                    HintText: ="N/A"
                    LineHeight: =1.65
                    Mode: =TextMode.MultiLine
                    OnSelect: =Select(Parent)
                    PaddingBottom: =8
                    PaddingRight: =8
                    PaddingTop: =8
                    Size: =10.5
                    Width: =Parent.Width - 40
                    X: =Title5_6.X
                    Y: =Title5_6.Y + Title5_6.Height
                    ZIndex: =3

                Label3_1 As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =TextInput4_6.Height
                    OnSelect: =Select(Parent)
                    Overflow: =Overflow.Scroll
                    PaddingBottom: =TextInput4_6.PaddingBottom
                    PaddingLeft: =TextInput4_6.PaddingLeft
                    PaddingRight: =TextInput4_6.PaddingRight
                    PaddingTop: =TextInput4_6.PaddingTop
                    Size: =TextInput4_6.Size
                    Text: =ThisItem.note
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =App.Width <= 600
                    Width: =TextInput4_6.Width
                    X: =TextInput4_6.X
                    Y: =TextInput4_6.Y
                    ZIndex: =4

            NEW_LEAD_CREATION_DRAFT_2 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =86

                retangleBack1 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =If(Parent.Width > 1025 , WhiteBackground_10.Width * 0.25 - 50, WhiteBackground_10.Width * 0.45 - 50)
                    X: =WhiteBackground_10.X + If(App.Width > 600, 30, 15)
                    Y: =If(Self.Visible, WhiteBackground_10.Y + 40, 0)
                    ZIndex: =14

                retangleBack1_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(244, 244, 244, 1)
                    Height: =retangleBack1.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =WhiteBackground_10.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8)
                    X: =retangleBack1.X + retangleBack1.Width
                    Y: =retangleBack1.Y
                    ZIndex: =15

                retangleBack2 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack1.X
                    Y: =retangleBack1.Y + retangleBack1.Height
                    ZIndex: =16

                retangleBack2_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(244, 244, 244, 1)
                    Height: =retangleBack2.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack2.X + retangleBack2.Width
                    Y: =retangleBack2.Y
                    ZIndex: =17

                retangleBack3 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack1.X
                    Y: =retangleBack2.Y + retangleBack2.Height
                    ZIndex: =18

                retangleBack3_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack3.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack3.X + retangleBack3.Width
                    Y: =retangleBack3.Y
                    ZIndex: =19

                retangleBack4 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack3.X
                    Y: =retangleBack3.Y + retangleBack3.Height
                    ZIndex: =20

                retangleBack4_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack4.X + retangleBack4.Width
                    Y: =retangleBack4.Y
                    ZIndex: =21

                retangleBack5 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack3.X
                    Y: =retangleBack4.Y + retangleBack4.Height
                    ZIndex: =22

                retangleBack5_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack4.X + retangleBack4.Width
                    Y: =retangleBack5.Y
                    ZIndex: =23

                retangleBack5_2 As rectangle:
                    BorderColor: =If((PEVC_PrimaryShare_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_PrimaryShare_Input.Text))) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack5_1.X + retangleBack5_1.Width
                    Y: =retangleBack5.Y
                    ZIndex: =24

                retangleBack6 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack3.X
                    Y: =retangleBack5.Y + retangleBack5.Height
                    ZIndex: =25

                retangleBack6_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack4.X + retangleBack4.Width
                    Y: =retangleBack6.Y
                    ZIndex: =26

                retangleBack6_2 As rectangle:
                    BorderColor: =If((PEVC_SecondaryShare_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_SecondaryShare_Input.Text))) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack6_1.X + retangleBack6_1.Width
                    Y: =retangleBack6.Y
                    ZIndex: =27

                retangleBack7 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack3.X
                    Y: =retangleBack6.Y + retangleBack6.Height
                    ZIndex: =28

                retangleBack7_1 As rectangle:
                    BorderColor: =If((PEVC_DebtPortion_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_DebtPortion_Input.Text))) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack7.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack7.X + retangleBack7.Width
                    Y: =retangleBack7.Y
                    ZIndex: =29

                retangleBack8 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack3.X
                    Y: =retangleBack7.Y + retangleBack7.Height
                    ZIndex: =30

                retangleBack8_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack7.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack7.X + retangleBack7.Width
                    Y: =retangleBack8.Y
                    ZIndex: =31

                retangleBack8_2 As rectangle:
                    BorderColor: =If(((PEVC_InterestRate_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_InterestRate_Input.Text))) || (PEVC_InterestRate_Input.DisplayMode = DisplayMode.Edit && Value(PEVC_InterestRate_Input.Text) > 100)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack7.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack8_1.X + retangleBack8_1.Width
                    Y: =retangleBack8.Y
                    ZIndex: =32

                retangleBack9 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack3.X
                    Y: =retangleBack8.Y + retangleBack8.Height
                    ZIndex: =33

                retangleBack9_1 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack7.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack7.X + retangleBack7.Width
                    Y: =retangleBack9.Y
                    ZIndex: =34

                retangleBack9_2 As rectangle:
                    BorderColor: =If((PEVC_Maturity_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_Maturity_Input.Text))) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack7.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width / 2
                    X: =retangleBack9_1.X + retangleBack9_1.Width
                    Y: =retangleBack9.Y
                    ZIndex: =35

                retangleBack10 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack1.X
                    Y: =retangleBack9.Y + retangleBack9.Height
                    ZIndex: =36

                retangleBack10_1 As rectangle:
                    BorderColor: =If((IsBlank(Trim(PEVC_CompanyPre_Input.Text))) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack10.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack10.X + retangleBack10.Width
                    Y: =retangleBack10.Y
                    ZIndex: =37

                retangleBack11 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack1.X
                    Y: =retangleBack10.Y + retangleBack10.Height
                    ZIndex: =38

                retangleBack11_1 As rectangle:
                    BorderColor: =If((IsBlank(Trim(PEVC_CompanyPost_Input.Text))) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack11.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack11.X + retangleBack11.Width
                    Y: =retangleBack11.Y
                    ZIndex: =39

                retangleBack12 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack11.X
                    Y: =retangleBack11.Y + retangleBack11.Height
                    ZIndex: =40

                retangleBack12_1 As rectangle:
                    BorderColor: |-
                        =If(((IsBlank(Trim(PEVC_PercentOwnership_Input.Text))) ||
                        (Value(PEVC_PercentOwnership_Input.Text) + Value(If(IsBlank(percentOwnership), "0", percentOwnership))) > 100)
                        && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack12.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack12.X + retangleBack12.Width
                    Y: =retangleBack12.Y
                    ZIndex: =41

                retangleBack13 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack12.Width
                    X: =retangleBack12.X
                    Y: =retangleBack12.Y + retangleBack12.Height
                    ZIndex: =42

                retangleBack13_1 As rectangle:
                    BorderColor: |-
                        =If((
                        IsEmpty(levelOfApprovalList) ||
                        dealTypeSelectedValue = "Equity & Debt" && !(("ISC-VC" in levelOfApprovalList && "ISC-PE" in levelOfApprovalList && !("IC" in levelOfApprovalList))
                            || ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))) ||
                        dealTypeSelectedValue = "Equity" && !(
                            ("ISC-PE" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("IC" in levelOfApprovalList)) ||
                            ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))
                        ) ||
                        dealTypeSelectedValue = "Debt" && !(
                            ("ISC-VC" in levelOfApprovalList && !("ISC-PE" in levelOfApprovalList) && !("IC" in levelOfApprovalList)) ||
                            ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))
                        )
                        )
                        && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack13.Height
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack13.X + retangleBack13.Width
                    Y: =retangleBack13.Y
                    ZIndex: =43

                PEVC_CompanyName_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack1.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Company name"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1.Width
                    X: =retangleBack1.X
                    Y: =retangleBack1.Y
                    ZIndex: =44

                PEVC_Industry_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack2.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Industry"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack2.Width
                    X: =retangleBack2.X
                    Y: =retangleBack2.Y
                    ZIndex: =45

                PEVC_DealValue_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack3.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Deal value"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack3.Width
                    X: =retangleBack3.X
                    Y: =retangleBack3.Y
                    ZIndex: =46

                PEVC_EquityPortion_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack4.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="- Equity portion"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack4.Width
                    X: =retangleBack4.X
                    Y: =retangleBack4.Y
                    ZIndex: =47

                PEVC_PrimaryShare_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack5_1.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Primary share"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack5_1.Width
                    X: =retangleBack5_1.X
                    Y: =retangleBack5_1.Y
                    ZIndex: =48

                PEVC_SecondaryShare_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack6_1.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Secondary Share"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack6_1.Width
                    X: =retangleBack6_1.X
                    Y: =retangleBack6_1.Y
                    ZIndex: =49

                PEVC_DebtPortion_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack7.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="- Debt portion"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack7.Width
                    X: =retangleBack7.X
                    Y: =retangleBack7.Y
                    ZIndex: =50

                PEVC_InterestRate_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack8_1.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Interest rate"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack8_1.Width
                    X: =retangleBack8_1.X
                    Y: =retangleBack8_1.Y
                    ZIndex: =51

                PEVC_Maturity_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack9_1.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Maturity (months)"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack9_1.Width
                    X: =retangleBack9_1.X
                    Y: =retangleBack9_1.Y
                    ZIndex: =52

                PEVC_CompanyPre_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack10.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Company Pre-money Valuation"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack10.Width
                    X: =retangleBack10.X
                    Y: =retangleBack10.Y
                    ZIndex: =53

                PEVC_CompanyPost_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack11.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Company Post-money Valuation"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack11.Width
                    X: =retangleBack11.X
                    Y: =retangleBack11.Y
                    ZIndex: =54

                PEVC_PercentOwnership_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack12.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Percentage Ownership"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack12.Width
                    X: =retangleBack12.X
                    Y: =retangleBack12.Y
                    ZIndex: =55

                PEVC_LevelOfApproval_Label As label:
                    Font: =Font.Arial
                    Height: =retangleBack13.Height
                    PaddingBottom: =10
                    PaddingLeft: =If(App.Width > 380, 10, 5)
                    PaddingRight: =If(App.Width > 380, 10, 5)
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Level of approval"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack13.Width
                    X: =retangleBack13.X
                    Y: =retangleBack13.Y
                    ZIndex: =56

                PEVC_CompanyNameValue_Label As label:
                    Align: =Align.Right
                    DisplayMode: =DisplayMode.Disabled
                    Font: =Font.Arial
                    Height: =retangleBack1_1.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: =First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).company_name
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack1_1.Width
                    X: =retangleBack1_1.X
                    Y: =retangleBack1_1.Y
                    ZIndex: =57

                PEVC_IndustryValue_Label As label:
                    Align: =Align.Right
                    DisplayMode: =DisplayMode.Disabled
                    Font: =Font.Arial
                    Height: =retangleBack2_1.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: |-
                        =If(IsEmpty(Filter(materDataNonList.industry, code = First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).industry)),
                        First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).industry,
                        First(Filter(materDataNonList.industry, code = First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).industry)).value)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack2_1.Width
                    X: =retangleBack2_1.X
                    Y: =retangleBack2_1.Y
                    ZIndex: =58

                PEVC_DealValue_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_DealValue_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: |-
                        =Text(Value(If(isDotFormat, PEVC_DebtPortion_Input.Text, Substitute(PEVC_DebtPortion_Input.Text, ".", ","))) +
                        Value(If(isDotFormat, PEVC_EquityPortion_Input.Text, Substitute(PEVC_EquityPortion_Input.Text, ".", ","))))
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack3_1.Height - 2
                    HoverFill: =
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack3_1.Width - 2
                    X: =retangleBack3_1.X + 1
                    Y: =retangleBack3_1.Y + 1
                    ZIndex: =59

                PEVC_EquityPortion_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_EquityPortion_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: |-
                        =Text(Value(If(isDotFormat, PEVC_PrimaryShare_Input.Text, Substitute(PEVC_PrimaryShare_Input.Text, ".", ","))) +
                        Value(If(isDotFormat, PEVC_SecondaryShare_Input.Text, Substitute(PEVC_SecondaryShare_Input.Text, ".", ","))))
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack4_1.Height - 2
                    HoverFill: =
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack4_1.Width - 2
                    X: =retangleBack4_1.X + 1
                    Y: =retangleBack4_1.Y + 1
                    ZIndex: =60

                PEVC_PrimaryShare_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_PrimaryShare_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =prePrimaryShareValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable || !("EQUITY" in Upper(dealTypeSelectedValue)), DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack5_2.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(prePrimaryShareValue, Blank()), Set(prePrimaryShareValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack5_2.Width - 2
                    X: =retangleBack5_2.X + 1
                    Y: =retangleBack5_2.Y + 1
                    ZIndex: =61

                PEVC_SecondaryShare_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_SecondaryShare_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =preSecondaryShareValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable || !("EQUITY" in Upper(dealTypeSelectedValue)), DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack6_2.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(preSecondaryShareValue, Blank()), Set(preSecondaryShareValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack6_2.Width - 2
                    X: =retangleBack6_2.X + 1
                    Y: =retangleBack6_2.Y + 1
                    ZIndex: =62

                PEVC_DebtPortion_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_DebtPortion_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =preDebtPortionValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable || !("DEBT" in Upper(dealTypeSelectedValue)), DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack7_1.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(preDebtPortionValue, Blank()), Set(preDebtPortionValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack7_1.Width - 2
                    X: =retangleBack7_1.X + 1
                    Y: =retangleBack7_1.Y + 1
                    ZIndex: =63

                PEVC_InterestRate_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_InterestRate_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =preInterestRateValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable || !("DEBT" in Upper(dealTypeSelectedValue)), DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack8_2.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(preInterestRateValue, Blank()), Set(preInterestRateValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =20
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack8_2.Width - 2
                    X: =retangleBack8_2.X + 1
                    Y: =retangleBack8_2.Y + 1
                    ZIndex: =64

                PEVC_Maturity_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_Maturity_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =preMaturityValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable || !("DEBT" in Upper(dealTypeSelectedValue)), DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack9_2.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);Set(preMaturityValue, Blank()), Set(preMaturityValue, Trim(ModifiedText)));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack9_2.Width - 2
                    X: =retangleBack9_2.X + 1
                    Y: =retangleBack9_2.Y + 1
                    ZIndex: =65

                PEVC_CompanyPre_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_CompanyPre_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =preCompanyPreValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack10_1.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(preCompanyPreValue, Blank()), Set(preCompanyPreValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack10_1.Width - 2
                    X: =retangleBack10_1.X + 1
                    Y: =retangleBack10_1.Y + 1
                    ZIndex: =66

                PEVC_CompanyPost_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_CompanyPost_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =preCompanyPostValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack11_1.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(preCompanyPostValue, Blank()), Set(preCompanyPostValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack11_1.Width - 2
                    X: =retangleBack11_1.X + 1
                    Y: =retangleBack11_1.Y + 1
                    ZIndex: =67

                PEVC_PercentOwnership_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_PercentOwnership_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =preOwnershipValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack12_1.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Self.Text, ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(preOwnershipValue, Blank()), Set(preOwnershipValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =20
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack12_1.Width - 2
                    X: =retangleBack12_1.X + 1
                    Y: =retangleBack12_1.Y + 1
                    ZIndex: =68

                PEVC_LevelOfApproval_Filter As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_LevelOfApproval_Filter.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =""
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack13_1.Height - 2
                    HoverFill: =
                    OnSelect: =Set(reportTypeShowDropdown, !reportTypeShowDropdown);
                    PaddingRight: =40
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack13_1.Width - 2
                    X: =retangleBack13_1.X + 1
                    Y: =retangleBack13_1.Y + 1
                    ZIndex: =69

                ReportTypeChevron_2 As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        =If(reportTypeShowDropdown,
                        "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                        <g clip-path=""url(#clip0_1760_3688)"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                        </g>
                        <defs>
                        <clipPath id=""clip0_1760_3688"">
                        <rect width=""24"" height=""24"" fill=""white""/>
                        </clipPath>
                        </defs>
                        </svg></div>"
                        , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                        </svg></div>")
                    OnSelect: =If(PEVC_LevelOfApproval_Filter.DisplayMode = DisplayMode.Edit, Set(reportTypeShowDropdown, !reportTypeShowDropdown));
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =35
                    X: =PEVC_LevelOfApproval_Filter.X + PEVC_LevelOfApproval_Filter.Width - If(App.Width > 800, 40, 30)
                    Y: =PEVC_LevelOfApproval_Filter.Y + 2
                    ZIndex: =70

                "LevelOfApproval_Items As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Height: =PEVC_LevelOfApproval_Filter.Height
                    Items: =levelOfApprovalList
                    TemplatePadding: =0
                    TemplateSize: =90
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =Min(PEVC_LevelOfApproval_Filter.Width - 50, If(CountRows(levelOfApprovalList) > 8, 8, CountRows(levelOfApprovalList)) * Self.TemplateWidth)
                    X: =PEVC_LevelOfApproval_Filter.X
                    Y: =PEVC_LevelOfApproval_Filter.Y
                    ZIndex: =71

                    Button4_3 As button:
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderThickness: =1
                        Color: =RGBA(0, 0, 0, 1)
                        DisplayMode: =PEVC_LevelOfApproval_Filter.DisplayMode
                        Fill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =1
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        Height: =30
                        HoverColor: =Self.Color
                        HoverFill: =Self.Fill
                        OnSelect: =Select(Parent)
                        PaddingLeft: =20
                        PressedColor: =Self.Color
                        PressedFill: =Self.HoverFill
                        Size: =9
                        Text: =Switch(ThisItem.Value, "ISC-PE", "ISC-Equity", "ISC-VC", "ISC-Debt", "IC")
                        Width: =Parent.TemplateWidth - Self.X - 2
                        X: =5
                        Y: =7
                        ZIndex: =4

                    HtmlText2_11 As htmlViewer:
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        HtmlText: |-
                            ="<svg xmlns=""http://www.w3.org/2000/svg"" width=""10"" height=""10"" viewBox=""0 0 10 10"" fill=""none"">
                              <g clip-path=""url(#clip0_8063_67963)"">
                                <path d=""M5 0C2.21429 0 0 2.21429 0 5C0 7.78571 2.21429 10 5 10C7.78571 10 10 7.78571 10 5C10 2.21429 7.78571 0 5 0ZM6.92857 7.5L5 5.57143L3.07143 7.5L2.5 6.92857L4.42857 5L2.5 3.07143L3.07143 2.5L5 4.42857L6.92857 2.5L7.5 3.07143L5.57143 5L7.5 6.92857L6.92857 7.5Z"" fill=""black""/>
                              </g>
                              <defs>
                                <clipPath id=""clip0_8063_67963"">
                                  <rect width=""10"" height=""10"" fill=""white""/>
                                </clipPath>
                              </defs>
                            </svg>"
                        OnSelect: =If(Button4_3.DisplayMode = DisplayMode.Edit, RemoveIf(levelOfApprovalList, ThisItem.Value = Value))
                        Width: =25
                        X: =Button4_3.X + 2
                        Y: =7
                        ZIndex: =6

                "FoundersGallery As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =Self.AllItemsCount * Self.TemplateHeight
                    Items: =SortByColumns(PEVC_founderData, "isTotal", SortOrder.Descending)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack13.Width + retangleBack13_1.Width
                    X: =retangleBack13.X
                    Y: =retangleBack13.Y + retangleBack13.Height + 20 
                    ZIndex: =72

                    retangleBack1_2 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =44
                        Visible: =true 
                        Width: =If(App.Width > 1025 , WhiteBackground_10.Width * 0.25 - 50, WhiteBackground_10.Width * 0.45 - 50)
                        ZIndex: =3

                    retangleBack1_3 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(244, 244, 244, 1)
                        Height: =retangleBack1_2.Height
                        Visible: =ThisItem.isTotal
                        Width: =WhiteBackground_10.Width * If(App.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8)
                        X: =retangleBack1_2.X + retangleBack1_2.Width 
                        Y: =retangleBack1_2.Y
                        ZIndex: =4

                    retangleBack1_4 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =retangleBack1_2.Height
                        Visible: =!ThisItem.isTotal
                        Width: =(WhiteBackground_10.Width * If(App.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8))/2
                        X: =retangleBack1_2.X + retangleBack1_2.Width 
                        Y: =retangleBack1_2.Y
                        ZIndex: =5

                    retangleBack1_5 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(244, 244, 244, 1)
                        Height: =retangleBack1_2.Height
                        Visible: =!ThisItem.isTotal
                        Width: =(WhiteBackground_10.Width * If(App.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8))/2
                        X: =retangleBack1_4.X + retangleBack1_4.Width 
                        Y: =retangleBack1_2.Y
                        ZIndex: =6

                    FounderTotal_Label As label:
                        Font: =Font.Arial
                        Height: =retangleBack1_2.Height
                        PaddingBottom: =10
                        PaddingLeft: =If(App.Width > 380, 10, 5)
                        PaddingRight: =If(App.Width > 380, 10, 5)
                        PaddingTop: =10
                        Size: =10.5
                        Text: ="Founder(s)"
                        Visible: =ThisItem.isTotal
                        Width: =retangleBack1_2.Width
                        X: =retangleBack1_2.X
                        ZIndex: =7

                    FounderTotal_Value As label:
                        Align: =Align.Right
                        Font: =Font.Arial
                        Height: =retangleBack1_3.Height
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Size: =10.5
                        Text: =ThisItem.ownership & "%"
                        Visible: =ThisItem.isTotal
                        Width: =retangleBack1_3.Width
                        X: =retangleBack1_3.X
                        ZIndex: =8

                    FounderElement_Label As label:
                        Font: =Font.Arial
                        Height: =retangleBack1_4.Height
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Size: =10.5
                        Text: =ThisItem.name
                        Visible: =!ThisItem.isTotal
                        Width: =retangleBack1_4.Width
                        X: =retangleBack1_4.X
                        ZIndex: =9

                    FounderElement_Value As label:
                        Align: =Align.Right
                        Font: =Font.Arial
                        Height: =retangleBack1_5.Height
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Size: =10.5
                        Text: =ThisItem.ownership & "%"
                        Visible: =!ThisItem.isTotal
                        Width: =retangleBack1_5.Width
                        X: =retangleBack1_5.X
                        ZIndex: =10

                "ShareholderGallery As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =Self.AllItemsCount * Self.TemplateHeight
                    Items: =SortByColumns(PEVC_shareholderData, "isTotal", SortOrder.Descending)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =44
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =retangleBack13.Width + retangleBack13_1.Width
                    X: =retangleBack13.X
                    Y: =FoundersGallery.Y + FoundersGallery.Height + 20 
                    ZIndex: =73

                    retangleBack1_6 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =44
                        Visible: =true 
                        Width: =If(App.Width > 1025 , WhiteBackground_10.Width * 0.25 - 50, WhiteBackground_10.Width * 0.45 - 50)
                        ZIndex: =3

                    retangleBack1_8 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(244, 244, 244, 1)
                        Height: =retangleBack1_6.Height
                        Visible: =ThisItem.isTotal
                        Width: =WhiteBackground_10.Width * If(App.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8)
                        X: =retangleBack1_6.X + retangleBack1_6.Width 
                        Y: =retangleBack1_6.Y
                        ZIndex: =4

                    retangleBack1_7 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =retangleBack1_6.Height
                        Visible: =!ThisItem.isTotal
                        Width: =(WhiteBackground_10.Width * If(App.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8))/2
                        X: =retangleBack1_6.X + retangleBack1_6.Width 
                        Y: =retangleBack1_6.Y
                        ZIndex: =5

                    retangleBack1_9 As rectangle:
                        BorderColor: =RGBA(191, 191, 192, 1)
                        BorderThickness: =0.5
                        Fill: =RGBA(244, 244, 244, 1)
                        Height: =retangleBack1_6.Height
                        Visible: =!ThisItem.isTotal
                        Width: =(WhiteBackground_10.Width * If(App.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8))/2
                        X: =retangleBack1_7.X + retangleBack1_7.Width 
                        Y: =retangleBack1_6.Y
                        ZIndex: =6

                    FounderTotal_Label_1 As label:
                        Font: =Font.Arial
                        Height: =retangleBack1_6.Height
                        PaddingBottom: =10
                        PaddingLeft: =If(App.Width > 380, 10, 5)
                        PaddingRight: =If(App.Width > 380, 10, 5)
                        PaddingTop: =10
                        Size: =10.5
                        Text: ="Other shareholder (s)"
                        Visible: =ThisItem.isTotal
                        Width: =retangleBack1_6.Width
                        X: =retangleBack1_6.X
                        ZIndex: =7

                    FounderTotal_Value_1 As label:
                        Align: =Align.Right
                        Font: =Font.Arial
                        Height: =retangleBack1_8.Height
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Size: =10.5
                        Text: =ThisItem.ownership & "%"
                        Visible: =ThisItem.isTotal
                        Width: =retangleBack1_8.Width
                        X: =retangleBack1_8.X
                        ZIndex: =8

                    FounderElement_Label_1 As label:
                        Font: =Font.Arial
                        Height: =retangleBack1_7.Height
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Size: =10.5
                        Text: =ThisItem.name
                        Visible: =!ThisItem.isTotal
                        Width: =retangleBack1_7.Width
                        X: =retangleBack1_7.X
                        ZIndex: =9

                    FounderElement_Value_1 As label:
                        Align: =Align.Right
                        Font: =Font.Arial
                        Height: =retangleBack1_9.Height
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Size: =10.5
                        Text: =ThisItem.ownership & "%"
                        Visible: =!ThisItem.isTotal
                        Width: =retangleBack1_9.Width
                        X: =retangleBack1_9.X
                        ZIndex: =10

                AttachmentLabel_5 As label:
                    Color: =RGBA(14, 63, 115, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Bold
                    Height: =50
                    PaddingBottom: =20
                    PaddingTop: =20
                    Size: =10.5
                    Text: ="Attachment"
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =130
                    X: =ShareholderGallery.X
                    Y: =ShareholderGallery.Y + ShareholderGallery.Height + 10
                    ZIndex: =74

                NEW_LEAD_CREATION_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =!isDivestment && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =NDA_APPROVAL_Att.Width 
                    X: =QT2Tabs_12.X + 5
                    Y: =AttachmentLabel_5.Y + AttachmentLabel_5.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =75

                "listAttachFileItems_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =listAttachFileItems_2.AllItemsCount * listAttachFileItems_2.TemplateHeight
                    Items: |-
                        =AddColumns(
                            Filter(pevcNoteFileLog.file,
                                stage = If(
                                    NEW_LEAD_CREATION_Att.Visible, "NEW_LEAD_CREATION",
                                    NEW_LEAD_CREATION_PENDING_Att.Visible, "NEW_LEAD_CREATION_PENDING",
                                    NDA_APPROVAL_Att.Visible, "NDA_APPROVAL",
                                    COMPLETE_DISCUSSION_PAPER_Att.Visible, "COMPLETE_DISCUSSION_PAPER",
                                    INVESTMENT_MEMO_PENDING_Att.Visible, "INVESTMENT_MEMO_PENDING",
                                    COMPLETE_TERM_SHEET_Att.Visible, "COMPLETE_TERM_SHEET",
                                    INVESTMENT_MEMO_Att.Visible, "INVESTMENT_MEMO",
                                    DD_CONTRACT_Att.Visible, "DD_CONTRACT",
                                    LEGAL_CONTRACT_Att.Visible, "LEGAL_CONTRACT",
                                    INVESTMENT_CONTRACT_Att.Visible, "INVESTMENT_CONTRACT",
                                    COMPLETE_DISBURSEMENT_Att.Visible, "COMPLETE_DISBURSEMENT",
                                    APPROVE_RESOLUTIONS_Att.Visible, "APPROVE_RESOLUTIONS",
                                    LEGAL_CONTRACTS_Att.Visible, "LEGAL_CONTRACTS",
                                    APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, "APPROVE_THE_DIVESTMENT_CONTRACT",
                                    COMPLETED_DIVESTMENT_Att.Visible, "COMPLETED_DIVESTMENT",
                                    APPROVE_RESOLUTION_Att.Visible, "APPROVE_RESOLUTION",
                                    "COMPLETED_DIVESTMENT"
                                )&& !(id in pevcListDeleteFiles.id)
                            )
                        , Name, file_name, Size, "", Value, "")
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =If(App.Width > 600, 50, 60)
                    Visible: |-
                        =NEW_LEAD_CREATION_Att.Visible ||
                        NEW_LEAD_CREATION_PENDING_Att.Visible ||
                        NDA_APPROVAL_Att.Visible ||
                        COMPLETE_DISCUSSION_PAPER_Att.Visible ||
                        INVESTMENT_MEMO_PENDING_Att.Visible ||
                        COMPLETE_TERM_SHEET_Att.Visible ||
                        INVESTMENT_MEMO_Att.Visible ||
                        DD_CONTRACT_Att.Visible ||
                        LEGAL_CONTRACT_Att.Visible ||
                        INVESTMENT_CONTRACT_Att.Visible ||
                        COMPLETE_DISBURSEMENT_Att.Visible ||
                        APPROVE_RESOLUTIONS_Att.Visible ||
                        LEGAL_CONTRACTS_Att.Visible ||
                        APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible ||
                        COMPLETED_DIVESTMENT_Att.Visible ||
                        APPROVE_RESOLUTION_Att.Visible
                    Width: =NEW_LEAD_CREATION_Att.Width + 3
                    X: =NEW_LEAD_CREATION_Att.X
                    Y: |-
                        =If( NEW_LEAD_CREATION_Att.Visible, NEW_LEAD_CREATION_Att.Y + NEW_LEAD_CREATION_Att.Height,
                            NEW_LEAD_CREATION_PENDING_Att.Visible, NEW_LEAD_CREATION_PENDING_Att.Y + NEW_LEAD_CREATION_PENDING_Att.Height,
                            NDA_APPROVAL_Att.Visible, NDA_APPROVAL_Att.Y + NDA_APPROVAL_Att.Height,
                            COMPLETE_DISCUSSION_PAPER_Att.Visible, COMPLETE_DISCUSSION_PAPER_Att.Y + COMPLETE_DISCUSSION_PAPER_Att.Height,
                            INVESTMENT_MEMO_PENDING_Att.Visible, INVESTMENT_MEMO_PENDING_Att.Y + INVESTMENT_MEMO_PENDING_Att.Height,
                            COMPLETE_TERM_SHEET_Att.Visible, COMPLETE_TERM_SHEET_Att.Y + COMPLETE_TERM_SHEET_Att.Height,
                            INVESTMENT_MEMO_Att.Visible, INVESTMENT_MEMO_Att.Y + INVESTMENT_MEMO_Att.Height,
                            DD_CONTRACT_Att.Visible, DD_CONTRACT_Att.Y + DD_CONTRACT_Att.Height,
                            LEGAL_CONTRACT_Att.Visible, LEGAL_CONTRACT_Att.Y + LEGAL_CONTRACT_Att.Height,
                            INVESTMENT_CONTRACT_Att.Visible, INVESTMENT_CONTRACT_Att.Y + INVESTMENT_CONTRACT_Att.Height,
                            COMPLETE_DISBURSEMENT_Att.Visible, COMPLETE_DISBURSEMENT_Att.Y + COMPLETE_DISBURSEMENT_Att.Height,
                            APPROVE_RESOLUTIONS_Att.Visible, APPROVE_RESOLUTIONS_Att.Y + APPROVE_RESOLUTIONS_Att.Height,
                            LEGAL_CONTRACTS_Att.Visible, LEGAL_CONTRACTS_Att.Y + LEGAL_CONTRACTS_Att.Height,
                            APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, APPROVE_THE_DIVESTMENT_CONTRACT_Att.Y + APPROVE_THE_DIVESTMENT_CONTRACT_Att.Height,
                            COMPLETED_DIVESTMENT_Att.Visible, COMPLETED_DIVESTMENT_Att.Y + COMPLETED_DIVESTMENT_Att.Height,
                            APPROVE_RESOLUTION_Att.Visible, APPROVE_RESOLUTION_Att.Y + APPROVE_RESOLUTION_Att.Height,
                            NEW_LEAD_CREATION_Att.Y + NEW_LEAD_CREATION_Att.Height
                        )
                    ZIndex: =76

                    Rectangle5_2 As rectangle:
                        Height: =
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =1

                    HtmlText7_13 As htmlViewer:
                        Font: =Font.Arial
                        Height: =listAttachFileItems_2.TemplateHeight
                        HtmlText: |-
                            ="<svg xmlns=""http://www.w3.org/2000/svg"" width=""16"" height=""20"" viewBox=""0 0 16 20"" fill=""none"">
                              <path d=""M10.7503 2.66732H2.50033V17.334H13.5003V5.41732H10.7503V2.66732ZM2.50033 0.833984H11.667L15.3337 4.50065V17.334C15.3337 17.8202 15.1405 18.2865 14.7967 18.6303C14.4529 18.9742 13.9866 19.1673 13.5003 19.1673H2.50033C2.0141 19.1673 1.54778 18.9742 1.20396 18.6303C0.860146 18.2865 0.666992 17.8202 0.666992 17.334V2.66732C0.666992 2.18109 0.860146 1.71477 1.20396 1.37096C1.54778 1.02714 2.0141 0.833984 2.50033 0.833984ZM4.33366 9.08398H11.667V10.9173H4.33366V9.08398ZM4.33366 12.7507H11.667V14.584H4.33366V12.7507Z"" fill=""#114F90""/>
                            </svg>"
                        OnSelect: =Select(Parent)
                        PaddingLeft: =10
                        PaddingTop: =If(App.Width > 600, 13, 20)
                        Width: =If(App.Width > 600, 40, 30)
                        ZIndex: =2

                    Image1_4 As image:
                        Height: =listAttachFileItems_2.TemplateHeight
                        Image: =ThisItem.Value
                        OnSelect: =Select(Parent)
                        Visible: =false
                        X: =532.1458333333333
                        ZIndex: =3

                    SizeAttIssuer_2 As label:
                        Font: =Font.Arial
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =listAttachFileItems_2.TemplateHeight
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10.5
                        Text: =ThisItem.Size
                        Width: =50
                        X: =449
                        ZIndex: =4

                    FileName_Link_2 As button:
                        Align: =Align.Left
                        BorderThickness: =0
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(202, 202, 202, 1)
                        DisabledFill: =Self.Fill
                        DisplayMode: =If("DOWNLOADFILE" in LookUp(currenUserV2.permissionList, process_code = "Process5", action), DisplayMode.Edit, DisplayMode.Disabled)
                        Fill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =0
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Lighter
                        Height: =FileName_LinkText_2.Height
                        HoverColor: =RGBA(56, 96, 178, 1)
                        HoverFill: =Self.Fill
                        OnSelect: |-
                            =Set(urlPEVC,'TVS->DownloadFileExpTime-V1'.Run(bucketPEVCAttach,ThisItem.Name).url);
                            Launch(urlPEVC);
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedBorderColor: =Self.Color
                        PressedColor: =Self.Color
                        PressedFill: =Self.Fill
                        Size: =10.5
                        Text: =If(Len(ThisItem.Name) < If(App.Width > 800, 150, 80), ThisItem.Name, Left(ThisItem.Name, If(App.Width > 800, 150, 80)) & "...")
                        Width: =Min(If(App.Width > 1550 || App.Width < 1300, 600, 550) - If(App.Width > 600, 30, 0), Parent.Width - 80)
                        X: =HtmlText7_13.X + HtmlText7_13.Width
                        ZIndex: =5

                    FileName_LinkText_2 As label:
                        Color: =RGBA(16, 17, 18, 1)
                        DisabledColor: =RGBA(202, 202, 202, 1)
                        DisplayMode: =If("DOWNLOADFILE" in LookUp(currenUserV2.permissionList, process_code = "Process5", action), DisplayMode.Edit, DisplayMode.Disabled)
                        Font: =Font.Arial
                        Height: =listAttachFileItems_2.TemplateHeight
                        OnSelect: |-
                            =Set(urlPEVC,'TVS->DownloadFileExpTime-V1'.Run(bucketPEVCAttach,ThisItem.Name).url);
                            Launch(urlPEVC);
                        PaddingBottom: =0
                        PaddingLeft: =If(App.Width > 800, 0, 5)
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10.5
                        Text: =If(Len(ThisItem.Name) < If(App.Width > 800, 150, 80), ThisItem.Name, Left(ThisItem.Name, If(App.Width > 800, 150, 80)) & "...")
                        Visible: =false
                        Width: =Min(If(App.Width > 1550 || App.Width < 1300, 600, 550) - If(App.Width > 600, 30, 0), Parent.Width - 80)
                        X: =HtmlText7_13.X + HtmlText7_13.Width
                        ZIndex: =7

                    RemoveAttachmentIcon_2 As icon.Cancel:
                        Color: =RGBA(0, 0, 0, 1)
                        FocusedBorderThickness: =3
                        Height: =18
                        Icon: =Icon.Cancel
                        OnSelect: =Collect(pevcListDeleteFiles, ThisItem);
                        Visible: |-
                            =!isDisable && !isLazyload &&
                            (!ThisItem.is_approved || (currentStatus in First(Filter(listProgessPEVC, Text = "Complete Term Sheet")).currentStatus && (isLeadOrSpPEVC || isDirectorPEVCUser)))
                        Width: =18
                        X: =Parent.Width - If(App.Width > 800, 33, 37)
                        Y: =If(App.Width > 600, 17.5, 17.5)
                        ZIndex: =8

                    CreatedDate_Text_2 As label:
                        Align: =Align.Right
                        Font: =Font.Arial
                        Height: =FileName_LinkText_2.Height
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingRight: =10
                        PaddingTop: =0
                        Size: =10.5
                        Text: =ThisItem.name_employee
                        Width: =Parent.Width - 80 - FileName_LinkText_2.Width
                        X: =FileName_LinkText_2.X + FileName_LinkText_2.Width
                        ZIndex: =9

                SearchCloseDropdown_11 As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =Parent.Height - Self.Y
                    OnSelect: |-
                        =Set(reportTypeShowDropdown, false);
                        Reset(PEVC_LevelOfApproval_Filter);
                    Visible: =!isDivestment && reportTypeShowDropdown && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =Parent.Width
                    X: =40
                    Y: =80
                    ZIndex: =77

                "ReportTypeItems_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                    Items: |-
                        =If(!IsEmpty(Filter([{value: "IC", text: "IC"}, {value: "ISC-PE", text: "ISC_Equity"}, {value: "ISC-VC", text: "ISC-Debt"}], PEVC_LevelOfApproval_Filter.Text in value)),
                        Filter([{value: "IC", text: "IC"}, {value: "ISC-PE", text: "ISC_Equity"}, {value: "ISC-VC", text: "ISC-Debt"}], PEVC_LevelOfApproval_Filter.Text in value),
                        [{value: "Empty data.", text: "Empty data."}])
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =!isDivestment && reportTypeShowDropdown && currentStatus = "NEW_LEAD_CREATION_NEW"
                    Width: =PEVC_LevelOfApproval_Filter.Width
                    X: =PEVC_LevelOfApproval_Filter.X
                    Y: =PEVC_LevelOfApproval_Filter.Y + 50
                    ZIndex: =78

                    Button6_86 As button:
                        Align: =Align.Left
                        BorderThickness: =0
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: =If(ThisItem.value in levelOfApprovalList, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                        FocusedBorderThickness: =0
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: |-
                            =If(Self.Text <> "Empty data.",
                            If(ThisItem.value in levelOfApprovalList, RemoveIf(levelOfApprovalList, ThisItem.value = Value), Collect(levelOfApprovalList, ThisItem.value));
                            Reset(PEVC_LevelOfApproval_Filter);
                            Set(reportTypeShowDropdown, false);,
                            Select(SearchCloseDropdown_11);
                            );
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10.5
                        Text: =ThisItem.text
                        Width: =Parent.Width
                        X: =0.00
                        ZIndex: =1

            BLANK_Form As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =135

                PEVC_CompanyName_Input As label:
                    Font: =Font.Arial
                    Height: =44
                    PaddingLeft: =0
                    Size: =10.5
                    Text: ="Company name"
                    Visible: =currentStatus = "BLANK"
                    Width: =120
                    X: =WhiteBackground_10.X + 20 
                    Y: =WhiteBackground_10.Y + 20
                    ZIndex: =5

                CompanyDowndown_Input As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: =First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).company_name
                    DisplayMode: =If(!IsBlank(prePEVCInfoEdit) && prePEVCInfoEdit.status = "REJECTED", DisplayMode.Disabled, DisplayMode.Edit)
                    FocusedBorderColor: =Self.HoverBorderColor
                    FocusedBorderThickness: =1
                    Font: =Font.Arial
                    Height: =44
                    HintText: ="Search company name ..."
                    HoverFill: =RGBA(186, 202, 226, 0)
                    OnSelect: |-
                        =Set(CompanyNameSelectedValueOld, Text(CompanyNameSelectedValue));
                        Set(ShowCompanyNameSelectPopup, !ShowCompanyNameSelectPopup);
                        Set(CompanyNameSelectedValue, Blank());
                    PaddingRight: =40
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =currentStatus = "BLANK"
                    Width: =WhiteBackground_10.X + WhiteBackground_10.Width - Self.X - 30
                    X: =PEVC_CompanyName_Input.X + PEVC_CompanyName_Input.Width
                    Y: =PEVC_CompanyName_Input.Y
                    ZIndex: =6

                CompanyNameChevron As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        =If(ShowStatusSelectPopup,
                        "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                        <g clip-path=""url(#clip0_1760_3688)"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                        </g>
                        <defs>
                        <clipPath id=""clip0_1760_3688"">
                        <rect width=""24"" height=""24"" fill=""white""/>
                        </clipPath>
                        </defs>
                        </svg></div>"
                        , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                        </svg></div>")
                    OnSelect: =If(CompanyDowndown_Input.DisplayMode = DisplayMode.Edit, Select(CompanyDowndown_Input))
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Visible: =currentStatus = "BLANK"
                    Width: =35
                    X: =CompanyDowndown_Input.X + CompanyDowndown_Input.Width - 40
                    Y: =CompanyDowndown_Input.Y + 5
                    ZIndex: =7

                PEVC_DealType_Input As label:
                    Font: =Font.Arial
                    Height: =44
                    PaddingLeft: =0
                    Size: =10.5
                    Text: ="Deal Type"
                    Visible: =currentStatus = "BLANK"
                    Width: =120
                    X: =WhiteBackground_10.X + 20 
                    Y: =PEVC_CompanyName_Input.Y + PEVC_CompanyName_Input.Height + 10
                    ZIndex: =8

                PEVC_DealTypeDropdown As button:
                    Align: =Align.Left
                    BorderColor: =If(ShowStatusSelectPopup, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                    BorderThickness: =1
                    Color: =RGBA(0, 0, 0, 1)
                    DisplayMode: =If(!IsBlank(prePEVCInfoEdit) && prePEVCInfoEdit.status = "REJECTED", DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(255, 255, 255, 1)
                    FocusedBorderThickness: =1
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: =Set(ShowDealTypeSelectPopup, !ShowDealTypeSelectPopup)
                    PaddingLeft: =15
                    PaddingRight: =40
                    PaddingTop: =5.27
                    PressedBorderColor: =
                    PressedColor: =
                    PressedFill: =
                    RadiusBottomLeft: =5
                    RadiusBottomRight: =5
                    RadiusTopLeft: =5
                    RadiusTopRight: =5
                    Size: =10.5
                    Text: =dealTypeSelectedValue
                    Visible: =currentStatus = "BLANK"
                    Width: =If(App.Width > 800, (WhiteBackground_10.X + WhiteBackground_10.Width - Self.X - 30) / 3, CompanyDowndown_Input.Width)
                    X: =PEVC_DealType_Input.X + PEVC_DealType_Input.Width
                    Y: =PEVC_DealType_Input.Y
                    ZIndex: =9

                PEVC_DealTypeChevron As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        =If(ShowStatusSelectPopup,
                        "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                        <g clip-path=""url(#clip0_1760_3688)"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                        </g>
                        <defs>
                        <clipPath id=""clip0_1760_3688"">
                        <rect width=""24"" height=""24"" fill=""white""/>
                        </clipPath>
                        </defs>
                        </svg></div>"
                        , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                        </svg></div>")
                    OnSelect: =If(PEVC_DealTypeDropdown.DisplayMode = DisplayMode.Edit, Set(ShowDealTypeSelectPopup, !ShowDealTypeSelectPopup))
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Visible: =currentStatus = "BLANK"
                    Width: =35
                    X: =PEVC_DealTypeDropdown.X + PEVC_DealTypeDropdown.Width - 40
                    Y: =PEVC_DealTypeDropdown.Y + 5
                    ZIndex: =10

                CloseDropDown_PEVC As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =App.Height - 56
                    OnSelect: |-
                        =Set(ShowCompanyNameSelectPopup, false);
                        Set(ShowDealTypeSelectPopup, false);
                        If(IsBlank(CompanyNameSelectedValue) && !IsBlank(CompanyNameSelectedValueOld), Set(CompanyNameSelectedValue, CompanyNameSelectedValueOld));
                        Set(CompanyNameSelectedValueOld, Blank());
                        Reset(CompanyDowndown_Input);
                    Visible: =(ShowCompanyNameSelectPopup || ShowDealTypeSelectPopup) && currentStatus = "BLANK"
                    Width: =Parent.Width
                    X: =40
                    Y: =40
                    ZIndex: =11

                "CompanyName_Items As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                    Items: |-
                        =If(!IsEmpty(Filter(companyPEVC, If(IsBlank(CompanyDowndown_Input.Text), "", CompanyDowndown_Input.Text) in company_name)),
                        Filter(companyPEVC, If(IsBlank(CompanyDowndown_Input.Text), "", CompanyDowndown_Input.Text) in company_name),
                        [{id: "emptydata", company_name: "Empty data.", id_company: "emptydata"}]
                        )
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =ShowCompanyNameSelectPopup && currentStatus = "BLANK"
                    Width: =CompanyDowndown_Input.Width
                    X: =CompanyDowndown_Input.X
                    Y: =CompanyDowndown_Input.Y + 50
                    ZIndex: =12

                    Button6_85 As button:
                        Align: =Align.Left
                        BorderThickness: =
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: =If(CompanyNameSelectedValue = ThisItem.company_name, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                        FocusedBorderThickness: =
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: =If(Self.Text<>"Empty data.",Set(CompanyNameSelectedValue,ThisItem.id_company);Set(ShowCompanyNameSelectPopup, false );,Select(CloseDropDown_PEVC));
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10.5
                        Text: =ThisItem.company_name
                        Width: =Parent.Width
                        X: =0.00
                        ZIndex: =1

                "PEVC_DealType_Items As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                    Items: |-
                        =[{value: "Equity"}, {value: "Debt"}, {value: "Equity & Debt"}]
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =ShowDealTypeSelectPopup && currentStatus = "BLANK"
                    Width: =PEVC_DealTypeDropdown.Width
                    X: =PEVC_DealTypeDropdown.X
                    Y: =PEVC_DealTypeDropdown.Y + 50
                    ZIndex: =13

                    Button6_84 As button:
                        Align: =Align.Left
                        BorderThickness: =
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: =If(dealTypeSelectedValue = ThisItem.value, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                        FocusedBorderThickness: =
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: |-
                            =Set(dealTypeSelectedValue, ThisItem.value);
                            Set(ShowDealTypeSelectPopup, false);
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10.5
                        Text: =ThisItem.value
                        Width: =Parent.Width
                        X: =0.00
                        ZIndex: =1

            BtnAddNote_1 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =138

                ButtonAddContact_10 As button:
                    BorderStyle: =BorderStyle.None
                    Fill: =RGBA(17, 79, 144, 1)
                    Font: =Font.Arial
                    Height: =44
                    OnSelect: |-
                        =Collect(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION),
                        Table(
                            {
                                created_by: "",
                                created_date: "",
                                id_deal_note: "",
                                isLastest: "true",
                                location: Text(Max(
                                    If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                        NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                        NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                        COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                        INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                        COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                        INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                        DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                        LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                        INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                        COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                        APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                        LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                        APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                        COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT,
                                        APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION)
                                , location) + 1),
                                note: "",
                                note_old: "",
                                isSelected: true,
                                screen: If(NEW_LEAD_CREATION_PENDING_Att.Visible, "NEW_LEAD_CREATION_PENDING",
                                        NEW_LEAD_CREATION_Att.Visible, "NEW_LEAD_CREATION",
                                        NDA_APPROVAL_Att.Visible, "NDA_APPROVAL",
                                        COMPLETE_DISCUSSION_PAPER_Att.Visible, "COMPLETE_DISCUSSION_PAPER",
                                        INVESTMENT_MEMO_PENDING_Att.Visible, "INVESTMENT_MEMO_PENDING",
                                        COMPLETE_TERM_SHEET_Att.Visible, "COMPLETE_TERM_SHEET",
                                        INVESTMENT_MEMO_Att.Visible, "INVESTMENT_MEMO",
                                        DD_CONTRACT_Att.Visible, "DD_CONTRACT",
                                        LEGAL_CONTRACT_Att.Visible, "LEGAL_CONTRACT",
                                        INVESTMENT_CONTRACT_Att.Visible, "INVESTMENT_CONTRACT",
                                        COMPLETE_DISBURSEMENT_Att.Visible, "COMPLETE_DISBURSEMENT",
                                        APPROVE_RESOLUTIONS_Att.Visible, "APPROVE_RESOLUTIONS",
                                        LEGAL_CONTRACTS_Att.Visible, "LEGAL_CONTRACTS",
                                        APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, "APPROVE_THE_DIVESTMENT_CONTRACT",
                                        COMPLETED_DIVESTMENT_Att.Visible, "COMPLETED_DIVESTMENT",
                                        APPROVE_RESOLUTION_Att.Visible, "APPROVE_RESOLUTION"),
                                write_by: "",
                                write_date: "",
                                guid_mark: GUID()
                            }
                        ))
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    RadiusBottomLeft: =8
                    RadiusBottomRight: =8
                    RadiusTopLeft: =8
                    RadiusTopRight: =8
                    Text: =""
                    Visible: |-
                        =(!isDisable && currentStatus in First(Filter(listProgessPEVC, Text = "Complete Term Sheet")).currentStatus && (isLeadOrSpPEVC || isDirectorPEVCUser)) ||
                        (!isDisable && (currentStatus in First(Filter(listProgessPEVC, Text = "New Lead Creation")).currentStatus && (isLeadOrSpPEVC || isDirectorPEVCUser)) && !PEVC_CompanyName_Input.Visible) ||
                        (LabelNote_4.Visible && !isDisable &&
                        Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).level) =
                        Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress, currentStatus in progress.currentStatus)).level))
                    Width: =44
                    X: =GalleryNote_1.X + GalleryNote_1.Width - Self.Width - If(App.Width > 800, 45, 45)
                    Y: |-
                        =GalleryNote_1.Y + GalleryNote_1.Height
                        - CountRows(Filter(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        isLastest = "true" && IsBlank(created_date))) * 25
                    ZIndex: =142

                HtmlText2_13 As htmlViewer:
                    Font: =Font.Arial
                    Height: =46
                    HtmlText: |-
                        ="<div style=""display:flex ;align-items:center; justify-content: center;width: 44px;height: 44px;cursor:pointer;""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                          <path d=""M18 13H13V18C13 18.55 12.55 19 12 19C11.45 19 11 18.55 11 18V13H6C5.45 13 5 12.55 5 12C5 11.45 5.45 11 6 11H11V6C11 5.45 11.45 5 12 5C12.55 5 13 5.45 13 6V11H18C18.55 11 19 11.45 19 12C19 12.55 18.55 13 18 13Z"" fill=""#FEFEFE""/>
                        </svg></div>"
                    OnSelect: =Select(ButtonAddContact_10)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Visible: =ButtonAddContact_10.Visible
                    Width: =44
                    X: =ButtonAddContact_10.X
                    Y: =ButtonAddContact_10.Y
                    ZIndex: =143

            LabelNote_4 As label:
                Color: =RGBA(14, 63, 115, 1)
                Font: =Font.Arial
                FontWeight: =FontWeight.Semibold
                Height: =30
                Size: =10.5
                Text: ="Note"
                Visible: =!(currentStatus in ["BLANK", "PROPOSED_DIVESTMENT"]) && DealDetailTab = 1
                X: =NEW_LEAD_CREATION_Att.X + If(PEVC_CompanyName_Label.Visible, 10, 0)
                Y: |-
                    =If(Self.Visible,
                    If(DD_CONTRACT_Fee.Visible, DD_CONTRACT_Fee.Y + DD_CONTRACT_Fee.Height,
                    LEGAL_CONTRACT_Fee.Visible, LEGAL_CONTRACT_Fee.Y + LEGAL_CONTRACT_Fee.Height,
                    listAttachFileItems_2.Y + listAttachFileItems_2.Height),
                    0) + If(Container14_1.Visible || currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Completed divestment")).currentStatus, 10, 0)
                ZIndex: =139

            CloseGalleryNoteDropdown_Total_1 As rectangle:
                Fill: =RGBA(255, 255, 255, 0)
                Height: =Parent.Height 
                OnSelect: =Set(GalleryNoteMark, Blank());
                Visible: =!IsBlank(GalleryNoteMark)
                Width: =Parent.Width
                X: =40
                Y: =40
                ZIndex: =140

            "GalleryNote_1 As gallery.'BrowseLayout_Flexible_SocialFeed_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =Self.AllItemsCount * Self.TemplateHeight
                Items: |-
                    =Sort(Filter(
                        If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                            NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                            NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                            COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                            INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                            COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                            INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                            DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                            LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                            INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                            COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                            APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                            LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                            APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                            APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                            COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        isLastest = "true"),
                    location)
                Layout: =Layout.Vertical
                ShowScrollbar: =false
                TemplatePadding: =4
                TemplateSize: =TextNote_7.Height + GalleryNoteDropdown_2.Height + 30 + 20
                Visible: =LabelNote_4.Visible
                Width: =(WhiteBackground_10.Width + WhiteBackground_10.X - Self.X - 33) + If(App.Width > 800, 17, 37)
                X: =LabelNote_4.X
                Y: =LabelNote_4.Y + LabelNote_4.Height
                ZIndex: =141

                TextNote_7 As text:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                    Default: |-
                        =First(Filter(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION),
                        isSelected && location = ThisItem.location)).note
                    DisabledColor: =RGBA(166, 166, 166, If(App.Width <= 600, 0, 1))
                    DisplayMode: |-
                        =If(!isDisable && (currentStatus in First(Filter(listProgessPEVC, Text = "Complete Term Sheet")).currentStatus && (isLeadOrSpPEVC || isDirectorPEVCUser)),
                        DisplayMode.Edit,
                        !isDisable && (currentStatus in First(Filter(listProgessPEVC, Text = "New Lead Creation")).currentStatus && (isLeadOrSpPEVC || isDirectorPEVCUser)),
                        DisplayMode.Edit,
                        isDisable ||
                        Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).level) <>
                        Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress, currentStatus in progress.currentStatus)).level)
                        , DisplayMode.Disabled, DisplayMode.Edit)
                    FocusedBorderColor: =Self.HoverBorderColor
                    FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                    Font: =Font.Arial
                    Height: =105
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Mode: =TextMode.MultiLine
                    OnChange: |-
                        =UpdateIf(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        isSelected && location = ThisItem.location, {note: Self.Text})
                    OnSelect: =false 
                    PaddingBottom: =10
                    PaddingTop: =10
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =Parent.Visible
                    Width: =GalleryNote_1.Width - 50
                    X: =LabelNote_8.X
                    Y: =GalleryNoteDropdown_2.Y + GalleryNoteDropdown_2.Height + 10
                    ZIndex: =1

                LabelNote_8 As label:
                    Font: =Font.Arial
                    Height: =38
                    PaddingLeft: =0
                    Size: =10.5
                    Text: ="Note list"
                    Visible: =LabelNote_4.Visible
                    Width: =If(App.Width > 600, 80, 60)
                    Y: =3
                    ZIndex: =2

                Label_LabelHistory_1 As label:
                    Font: =Font.Arial
                    Height: =If(IsBlank(Trim(Self.Text)), 10, 30)
                    Italic: =true
                    OnSelect: =Select(Parent)
                    Size: =10.5
                    Text: |-
                        =If(IsBlank(First(Filter(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        isSelected && location = ThisItem.location)
                            ).name), "  ",
                            "Last noted by "&
                            First(Filter(
                                If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                            isSelected && location = ThisItem.location)
                            ).name &
                            " " &
                            Text(DateTimeValue(First(Filter(
                                If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                            isSelected && location = ThisItem.location)
                            ).created_date), "dd/mm/yyyy hh:mm:ss")
                        )
                    VerticalAlign: =VerticalAlign.Top
                    Width: =TextNote_7.Width
                    Y: =TextNote_7.Y + TextNote_7.Height
                    ZIndex: =3

                GalleryNoteDropdown_2 As button:
                    Align: =Align.Left
                    BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                    Color: =RGBA(82, 82, 82, 1)
                    DisplayMode: =If(IsBlank(Trim(Self.Text)), DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(255, 255, 255, 1)
                    FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: =Set(GalleryNoteMark, ThisItem.guid_mark)
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedBorderColor: =
                    PressedColor: =
                    PressedFill: =
                    RadiusBottomLeft: =5
                    RadiusBottomRight: =5
                    RadiusTopLeft: =5
                    RadiusTopRight: =5
                    Size: =If(App.Width > 600, 10.5, 11)
                    Text: |-
                        =First(Filter(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        isSelected && ThisItem.location = location)).name &
                        " " & Text(DateTimeValue(First(Filter(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        isSelected && ThisItem.location = location)).created_date), "dd/mm/yyyy hh:mm:ss")
                    Visible: =Parent.Visible
                    Width: =If(App.Width > 800, 300, Parent.Width - Self.X - 50)
                    X: =LabelNote_8.X + LabelNote_8.Width
                    ZIndex: =4

                iconGalleryNoteDropdown_2 As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        =If(GalleryNoteDropdown_Items_2.Visible,
                        "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                        <g clip-path=""url(#clip0_1760_3688)"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#"&If(GalleryNoteDropdown_2.DisplayMode = DisplayMode.Disabled, "b6b6c0", "525252")&"""/>
                        </g>
                        <defs>
                        <clipPath id=""clip0_1760_3688"">
                        <rect width=""24"" height=""24"" fill=""white""/>
                        </clipPath>
                        </defs>
                        </svg></div>"
                        , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#"&If(GalleryNoteDropdown_2.DisplayMode = DisplayMode.Disabled, "b6b6c0", "525252")&"""/>
                        </svg></div>")
                    OnSelect: =If(GalleryNoteDropdown_2.DisplayMode = DisplayMode.Disabled, false, Set(GalleryNoteMark, ThisItem.guid_mark))
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Visible: =GalleryNoteDropdown_2.Visible
                    Width: =35
                    X: =GalleryNoteDropdown_2.X + GalleryNoteDropdown_2.Width - Self.Width
                    Y: =GalleryNoteDropdown_2.Y + 5
                    ZIndex: =5

                TextInput4_1_MB_5 As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =TextNote_7.Height
                    Overflow: =Overflow.Scroll
                    PaddingLeft: =TextNote_7.PaddingLeft
                    PaddingRight: =TextNote_7.PaddingRight
                    PaddingTop: =TextNote_7.PaddingTop
                    Size: =TextNote_7.Size
                    Text: =TextNote_7.Text
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =TextNote_7.DisplayMode = DisplayMode.Disabled && App.Width <= 600 && TextNote_7.Visible
                    Width: =TextNote_7.Width
                    X: =TextNote_7.X
                    Y: =TextNote_7.Y
                    ZIndex: =6

                CloseGalleryNoteDropdown_2 As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =Parent.TemplateHeight - 10
                    OnSelect: =Set(GalleryNoteMark, Blank());
                    Visible: =!IsBlank(GalleryNoteMark)
                    Width: =861
                    ZIndex: =7

                "GalleryNoteDropdown_Items_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Min(Self.AllItemsCount, 3) * Self.TemplateHeight + 10
                    Items: |-
                        =Sort(Filter(
                            If(  APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        First(Filter(
                            If( APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        guid_mark = GalleryNoteMark)).location = location && !IsBlank(created_date)), write_date, SortOrder.Descending)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =Parent.Visible && ThisItem.guid_mark = GalleryNoteMark && Self.AllItemsCount > 0
                    Width: =GalleryNoteDropdown_2.Width
                    X: =GalleryNoteDropdown_2.X
                    Y: =GalleryNoteDropdown_2.Y + GalleryNoteDropdown_2.Height + 5
                    ZIndex: =8

                    Button6_83 As button:
                        Align: =Align.Left
                        BorderThickness: =0
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: |-
                            =//If(dealSelected.state = ThisItem.created_date, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                            RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =0
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: |-
                            =UpdateIf(
                                If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                    NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                    NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                    COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                    INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                    COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                    INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                    DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                    LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                    INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                    COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                    APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                    APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                    LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                    APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                    COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                                location = ThisItem.location,
                                {isSelected: If(guid_mark = ThisItem.guid_mark, true, false)}
                            );
                            
                            Set(GalleryNoteMark, Blank());
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedColor: =Self.Color
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 10.5, 11)
                        Text: |-
                            =ThisItem.name & " " & Text(DateTimeValue(ThisItem.created_date), "dd/mm/yyyy hh:mm:ss")
                        Width: =Parent.Width
                        X: =0.00
                        ZIndex: =1

                DeleteIcon_Note_1 As htmlViewer:
                    Fill: =RGBA(0,0,0,0)
                    Font: =Font.Arial
                    HtmlText: |-
                        ="<div style=""cursor:pointer; width:40px; display:flex; justify-content:center; align-items:center""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 16 16"" fill=""none"">
                          <path d=""M4.66683 2.66634C4.66683 2.31272 4.8073 1.97358 5.05735 1.72353C5.3074 1.47348 5.64654 1.33301 6.00016 1.33301H10.0002C10.3538 1.33301 10.6929 1.47348 10.943 1.72353C11.193 1.97358 11.3335 2.31272 11.3335 2.66634V3.99967H14.0002C14.177 3.99967 14.3465 4.06991 14.4716 4.19494C14.5966 4.31996 14.6668 4.48953 14.6668 4.66634C14.6668 4.84315 14.5966 5.01272 14.4716 5.13775C14.3465 5.26277 14.177 5.33301 14.0002 5.33301H13.2875L12.7095 13.4277C12.6856 13.7641 12.535 14.0789 12.2882 14.3087C12.0415 14.5386 11.7167 14.6663 11.3795 14.6663H4.62016C4.28292 14.6663 3.95821 14.5386 3.71142 14.3087C3.46463 14.0789 3.31411 13.7641 3.29016 13.4277L2.7135 5.33301H2.00016C1.82335 5.33301 1.65378 5.26277 1.52876 5.13775C1.40373 5.01272 1.3335 4.84315 1.3335 4.66634C1.3335 4.48953 1.40373 4.31996 1.52876 4.19494C1.65378 4.06991 1.82335 3.99967 2.00016 3.99967H4.66683V2.66634ZM6.00016 3.99967H10.0002V2.66634H6.00016V3.99967ZM4.0495 5.33301L4.62083 13.333H11.3802L11.9515 5.33301H4.0495ZM6.66683 6.66634C6.84364 6.66634 7.01321 6.73658 7.13823 6.8616C7.26326 6.98663 7.3335 7.1562 7.3335 7.33301V11.333C7.3335 11.5098 7.26326 11.6794 7.13823 11.8044C7.01321 11.9294 6.84364 11.9997 6.66683 11.9997C6.49002 11.9997 6.32045 11.9294 6.19542 11.8044C6.0704 11.6794 6.00016 11.5098 6.00016 11.333V7.33301C6.00016 7.1562 6.0704 6.98663 6.19542 6.8616C6.32045 6.73658 6.49002 6.66634 6.66683 6.66634ZM9.3335 6.66634C9.51031 6.66634 9.67988 6.73658 9.8049 6.8616C9.92992 6.98663 10.0002 7.1562 10.0002 7.33301V11.333C10.0002 11.5098 9.92992 11.6794 9.8049 11.8044C9.67988 11.9294 9.51031 11.9997 9.3335 11.9997C9.15668 11.9997 8.98712 11.9294 8.86209 11.8044C8.73707 11.6794 8.66683 11.5098 8.66683 11.333V7.33301C8.66683 7.1562 8.73707 6.98663 8.86209 6.8616C8.98712 6.73658 9.15668 6.66634 9.3335 6.66634Z"" fill=""#D00C0C""/>
                        </svg></div>"
                    OnSelect: |-
                        =RemoveIf(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT),
                        guid_mark = ThisItem.guid_mark);
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Visible: |-
                        =IsBlank(ThisItem.created_date) &&
                        First(
                            If( NEW_LEAD_CREATION_PENDING_Att.Visible, note_NEW_LEAD_CREATION_PENDING,
                                NEW_LEAD_CREATION_Att.Visible, note_NEW_LEAD_CREATION,
                                NDA_APPROVAL_Att.Visible, note_NDA_APPROVAL,
                                COMPLETE_DISCUSSION_PAPER_Att.Visible, note_COMPLETE_DISCUSSION_PAPER,
                                INVESTMENT_MEMO_PENDING_Att.Visible, note_INVESTMENT_MEMO_PENDING,
                                COMPLETE_TERM_SHEET_Att.Visible, note_COMPLETE_TERM_SHEET,
                                INVESTMENT_MEMO_Att.Visible, note_INVESTMENT_MEMO,
                                DD_CONTRACT_Att.Visible, note_DD_CONTRACT,
                                LEGAL_CONTRACT_Att.Visible, note_LEGAL_CONTRACT,
                                INVESTMENT_CONTRACT_Att.Visible, note_INVESTMENT_CONTRACT,
                                COMPLETE_DISBURSEMENT_Att.Visible, note_COMPLETE_DISBURSEMENT,
                                APPROVE_RESOLUTIONS_Att.Visible, note_APPROVE_RESOLUTIONS,
                                LEGAL_CONTRACTS_Att.Visible, note_LEGAL_CONTRACTS,
                                APPROVE_THE_DIVESTMENT_CONTRACT_Att.Visible, note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                APPROVE_RESOLUTION_Att.Visible, note_APPROVE_RESOLUTION,
                                COMPLETED_DIVESTMENT_Att.Visible, note_COMPLETED_DIVESTMENT)
                        ).guid_mark <> ThisItem.guid_mark
                    Width: =40
                    X: =TextNote_7.X + TextNote_7.Width - If(App.Width < 800, 5, 0)
                    Y: =TextNote_7.Y + TextNote_7.Height - Self.Height + 10 
                    ZIndex: =9

            EmptyLogsPEVC As label:
                Font: =Font.Arial
                Height: =25
                Size: =10.5
                Text: ="There are no items."
                Visible: =PEVC_Logs.Visible && PEVC_Logs.AllItemsCount = 0
                Width: =PEVC_Logs.Width
                X: =PEVC_Logs.X
                Y: =PEVC_Logs.Y
                ZIndex: =144

            CurrencyUSD_Label As label:
                Align: =Align.Right
                Color: =RGBA(82, 82, 82, 1)
                Font: =Font.Arial
                Height: =25
                PaddingRight: =0
                Size: =9
                Text: |-
                    ="Currency: USD"
                Visible: =retangleBack1_1.Visible || retangleBack1_11.Visible
                Width: =retangleBack1_1.Width
                X: =retangleBack1_1.X + retangleBack1_1.Width - Self.Width
                Y: =If(retangleBack1_11.Visible, retangleBack1_11.Y, retangleBack1_1.Y) - Self.Height
                ZIndex: =145

            DD_CONTRACT_Fee As label:
                Font: =Font.Arial
                Height: =44
                Size: =10.5
                Text: ="Estimated DD Fee"
                Visible: =DD_CONTRACT_Att.Visible
                X: =DD_CONTRACT_Att.X
                Y: =listAttachFileItems_2.Y + listAttachFileItems_2.Height
                ZIndex: =146

            DD_CONTRACT_Fee_Input As text:
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                Default: =estimatedDDFeeValue
                DisplayMode: |-
                    =If(isDisable ||
                    Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).level) <>
                    Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress, currentStatus in progress.currentStatus)).level)
                    , DisplayMode.Disabled, DisplayMode.Edit)
                FocusedBorderColor: =Self.HoverBorderColor
                FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                Font: =Font.Arial
                Height: =44
                HintText: =""
                HoverFill: =RGBA(186, 202, 226, 0)
                OnChange: |-
                    =Set(OriginalText, Substitute(Self.Text, ",", ""));
                    Set(FirstDotIndex, Find(".", OriginalText));
                    Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                    Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                    
                    Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                    If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);Set(estimatedDDFeeValue, Blank()), Set(estimatedDDFeeValue, Trim(ModifiedText)));
                PaddingRight: =40
                Size: =If(App.Width > 600, 10.5, 12)
                Visible: =DD_CONTRACT_Fee.Visible
                Width: =GalleryNoteDropdown_2.X + GalleryNoteDropdown_2.Width + GalleryNote_1.X - Self.X + 2
                X: =DD_CONTRACT_Fee.X + DD_CONTRACT_Fee.Width 
                Y: =DD_CONTRACT_Fee.Y
                ZIndex: =147

            DD_CONTRACT_Fee_Currency As label:
                Color: =If(DD_CONTRACT_Fee_Input.DisplayMode = DisplayMode.Disabled, RGBA(192, 192, 192, 1), RGBA(0, 0, 0, 1))
                Font: =Font.Arial
                Height: =44
                Size: =10.5
                Text: ="USD"
                Visible: =DD_CONTRACT_Fee_Input.Visible
                Width: =40
                X: =DD_CONTRACT_Fee_Input.X + DD_CONTRACT_Fee_Input.Width - Self.Width
                Y: =DD_CONTRACT_Fee_Input.Y
                ZIndex: =148

            LEGAL_CONTRACT_Fee As label:
                Font: =Font.Arial
                Height: =44
                Size: =10.5
                Text: ="Estimated Legal Fee"
                Visible: =LEGAL_CONTRACT_Att.Visible || LEGAL_CONTRACTS_Att.Visible
                X: =DD_CONTRACT_Att.X
                Y: =listAttachFileItems_2.Y + listAttachFileItems_2.Height
                ZIndex: =149

            LEGAL_CONTRACT_Fee_Input As text:
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                Default: =estimatedLegalFeeValue
                DisplayMode: |-
                    =If(isDisable ||
                    Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).level) <>
                    Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress, currentStatus in progress.currentStatus)).level)
                    , DisplayMode.Disabled, DisplayMode.Edit)
                FocusedBorderColor: =Self.HoverBorderColor
                FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
                Font: =Font.Arial
                Height: =44
                HintText: =""
                HoverFill: =RGBA(186, 202, 226, 0)
                OnChange: |-
                    =Set(OriginalText, Substitute(Self.Text, ",", ""));
                    Set(FirstDotIndex, Find(".", OriginalText));
                    Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                    Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                    
                    Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                    If(!IsNumeric(ModifiedText), Substitute(Self.Text, Self.Text, ""); Reset(Self);Set(estimatedLegalFeeValue, Blank()), Set(estimatedLegalFeeValue, Trim(ModifiedText)));
                PaddingRight: =40
                Size: =If(App.Width > 600, 10.5, 12)
                Visible: =LEGAL_CONTRACT_Fee.Visible
                Width: =GalleryNoteDropdown_2.X + GalleryNoteDropdown_2.Width + GalleryNote_1.X - Self.X + 2
                X: =LEGAL_CONTRACT_Fee.X + LEGAL_CONTRACT_Fee.Width 
                Y: =LEGAL_CONTRACT_Fee.Y
                ZIndex: =150

            LEGAL_CONTRACT_Fee_Currency As label:
                Color: =If(LEGAL_CONTRACT_Fee_Input.DisplayMode = DisplayMode.Disabled, RGBA(192, 192, 192, 1), RGBA(0, 0, 0, 1))
                Font: =Font.Arial
                Height: =44
                Size: =10.5
                Text: ="USD"
                Visible: =LEGAL_CONTRACT_Fee_Input.Visible
                Width: =40
                X: =LEGAL_CONTRACT_Fee_Input.X + LEGAL_CONTRACT_Fee_Input.Width - Self.Width
                Y: =LEGAL_CONTRACT_Fee_Input.Y
                ZIndex: =151

            Attachment_PEVC As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =151

                AttachmentLabel_6 As label:
                    Color: =RGBA(14, 63, 115, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Bold
                    Height: =If(Self.Text = "", 0, 50)
                    PaddingBottom: =20
                    PaddingTop: =20
                    Size: =10.5
                    Text: |-
                        =If( currentStatus in First(Filter(listProgessPEVC, Text = "NDA Approval")).currentStatus, "Attachment",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Complete Discussion Paper")).currentStatus, "Attachment",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo")).currentStatus, "Attachment",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Complete Term Sheet")).currentStatus, "",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo (adjusted)")).currentStatus, "Investment memo and meeting minutes",
                            currentStatus in First(Filter(listProgessPEVC, Text = "DD Contract")).currentStatus, "DD contract",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Approve resolution")).currentStatus, "Attach Resolution",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Legal contract")).currentStatus, "Legal contract",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Investment contract")).currentStatus, "Investment contract",
                            currentStatus in First(Filter(listProgessPEVC, Text = "Complete disbursement")).currentStatus, "Disbursement",
                            currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve resolutions")).currentStatus, "Attach Resolution",
                            currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Legal contracts")).currentStatus, "Legal contract",
                            currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve the divestment contract")).currentStatus, "Divestment contract",
                            currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Completed divestment")).currentStatus, "",
                            NEW_LEAD_CREATION_PENDING_Att.Visible, "Attachment",
                            "Attachment")
                    Visible: =DealDetailTab = 1 && !(currentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW"])
                    Width: =NDA_APPROVAL_Att.Width
                    X: =QT2Tabs_12.X + 5
                    Y: =If(currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"], Container14_1.Y + Container14_1.Height - 10, QT2Tabs_12.Y + QT2Tabs_12.Height + 10) - If(COMPLETED_DIVESTMENT_Att.Visible, 20, 10) - 10
                    ZIndex: =123

                NDA_APPROVAL_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "NDA Approval")).currentStatus
                    Width: =If(App.Width > 1600, TextNote_7.Width * 2/ 3, App.Width > 800, TextNote_7.Width * 2.3/ 3, TextNote_7.Width + 20)
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =124

                COMPLETE_DISCUSSION_PAPER_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "Complete Discussion Paper")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =125

                INVESTMENT_MEMO_PENDING_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =126

                COMPLETE_TERM_SHEET_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "Complete Term Sheet")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =127

                INVESTMENT_MEMO_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "Investment Memo (adjusted)")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =128

                DD_CONTRACT_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "DD Contract")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =129

                LEGAL_CONTRACT_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && !isDivestment && currentStatus in First(Filter(listProgessPEVC, Text = "Legal contract")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =130

                INVESTMENT_CONTRACT_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "Investment contract")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =131

                COMPLETE_DISBURSEMENT_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "Complete disbursement")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =132

                APPROVE_RESOLUTIONS_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve resolutions")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =133

                LEGAL_CONTRACTS_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && isDivestment && currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Legal contracts")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =134

                APPROVE_THE_DIVESTMENT_CONTRACT_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Approve the divestment contract")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =135

                COMPLETED_DIVESTMENT_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Completed divestment")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: |-
                        =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                        + If(AttachmentLabel_6.Height > 0, 0, 15)
                    ZIndex: =136

                NEW_LEAD_CREATION_PENDING_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessDivestmentPEVC, Text = "Proposed divestment")).currentStatus && !(currentStatus in ["BLANK"])
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =137

                APPROVE_RESOLUTION_Att As attachments:
                    AddAttachmentText: ="Attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(!isDisable, DisplayMode.Edit, DisplayMode.Disabled)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15)))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(listAttachFileItems_2.AllItemsCount = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && currentStatus in First(Filter(listProgessPEVC, Text = "Approve resolution")).currentStatus
                    Width: =NDA_APPROVAL_Att.Width
                    X: =AttachmentLabel_6.X
                    Y: =AttachmentLabel_6.Y + AttachmentLabel_6.Height - 5 - If(Self.NoAttachmentsText = "" && Self.Height > 0 && CountRows(Self.Attachments) = 0, 35, 0)
                    ZIndex: =138

            PecentIcon_Pre_InterestRate As label:
                Align: =Align.Center
                Color: =If(PEVC_InterestRate_Input.DisplayMode = DisplayMode.Disabled, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                Font: =Font.Arial
                Height: =input_interest.Height
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =10.5
                Text: ="%"
                Visible: =PEVC_InterestRate_Input.Visible
                Width: =20
                X: =PEVC_InterestRate_Input.X + PEVC_InterestRate_Input.Width - Self.Width
                Y: =PEVC_InterestRate_Input.Y
                ZIndex: =152

            PecentIcon_Pre_Ownership As label:
                Align: =Align.Center
                Color: =If(PEVC_InterestRate_Input.DisplayMode = DisplayMode.Disabled, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                Font: =Font.Arial
                Height: =input_interest.Height
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =10.5
                Text: ="%"
                Visible: =PEVC_PercentOwnership_Input.Visible
                Width: =20
                X: =PEVC_PercentOwnership_Input.X + PEVC_PercentOwnership_Input.Width - Self.Width
                Y: =PEVC_PercentOwnership_Input.Y
                ZIndex: =153

            Divestment_PROPOSED_DIVESTMENT As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =153

                retangleBack1_10 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =If(Parent.Width > 1025 , WhiteBackground_10.Width * 0.25 - 50, WhiteBackground_10.Width * 0.45 - 50)
                    X: =WhiteBackground_10.X + If(App.Width > 600, 30, 15)
                    Y: =If(Self.Visible, HrQT2_11.Y + 30, 0)
                    ZIndex: =82

                retangleBack1_11 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(244, 244, 244, 1)
                    Height: =retangleBack1_10.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =WhiteBackground_10.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8)
                    X: =retangleBack1_10.X + retangleBack1_10.Width
                    Y: =retangleBack1_10.Y
                    ZIndex: =83

                retangleBack2_2 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack1_10.Y + retangleBack1_10.Height
                    ZIndex: =84

                retangleBack2_3 As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(244, 244, 244, 1)
                    Height: =retangleBack2_2.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack2_2.X + retangleBack2_2.Width
                    Y: =retangleBack2_2.Y
                    ZIndex: =85

                retangleBack3_2 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack2_2.Y + retangleBack2_2.Height
                    ZIndex: =86

                retangleBack3_3 As rectangle:
                    BorderColor: =If(IsBlank(Trim(Divestment_CompanyValue_Input.Text)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack3_2.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack3_2.X + retangleBack3_2.Width
                    Y: =retangleBack3_2.Y
                    ZIndex: =87

                retangleBack4_2 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack3_2.X
                    Y: =retangleBack3_2.Y + retangleBack3_2.Height
                    ZIndex: =88

                retangleBack4_3 As rectangle:
                    BorderColor: =If(IsBlank(Trim(Divestment_PriceOerShare_Input.Text)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4_2.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack4_2.X + retangleBack4_2.Width
                    Y: =retangleBack4_2.Y
                    ZIndex: =89

                retangleBack3_4 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack4_2.Y + retangleBack4_2.Height
                    ZIndex: =90

                retangleBack3_5 As rectangle:
                    BorderColor: =If(IsBlank(Trim(Divestment_TotalGrossSalesProceeds_Input.Text)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack3_4.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack3_4.X + retangleBack3_4.Width
                    Y: =retangleBack3_4.Y
                    ZIndex: =91

                retangleBack4_4 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack3_4.X
                    Y: =retangleBack3_4.Y + retangleBack3_4.Height
                    ZIndex: =92

                retangleBack4_5 As rectangle:
                    BorderColor: =If(IsBlank(Trim(Divestment_Buyer_Input.Text)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4_4.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack4_4.X + retangleBack4_4.Width
                    Y: =retangleBack4_4.Y
                    ZIndex: =93

                retangleBack4_6 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack3_2.X
                    Y: =retangleBack4_4.Y + retangleBack4_4.Height
                    ZIndex: =94

                retangleBack4_7 As rectangle:
                    BorderColor: =If(IsBlank(Trim(Divestment_ExpectedFee_Input.Text)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4_6.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack4_6.X + retangleBack4_6.Width
                    Y: =retangleBack4_6.Y
                    ZIndex: =95

                retangleBack3_6 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack4_6.Y + retangleBack4_6.Height
                    ZIndex: =96

                retangleBack3_7 As rectangle:
                    BorderColor: =If(IsBlank(ExpectedEndingTime_Datepicker.SelectedDate) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack3_6.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack3_6.X + retangleBack3_6.Width
                    Y: =retangleBack3_6.Y
                    ZIndex: =97

                retangleBack4_8 As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack3_6.X
                    Y: =retangleBack3_6.Y + retangleBack3_6.Height
                    ZIndex: =98

                retangleBack4_9 As rectangle:
                    BorderColor: |-
                        =If((
                        IsEmpty(levelOfApprovalList) ||
                        dealTypeSelectedValue = "Equity & Debt" && !(("ISC-VC" in levelOfApprovalList && "ISC-PE" in levelOfApprovalList && !("IC" in levelOfApprovalList))
                            || ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))) ||
                        dealTypeSelectedValue = "Equity" && !("ISC-PE" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList)) ||
                        dealTypeSelectedValue = "Debt" && !("ISC-VC" in levelOfApprovalList && !("ISC-PE" in levelOfApprovalList))
                        ) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =retangleBack4_8.Height
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack4_8.X + retangleBack4_8.Width
                    Y: =retangleBack4_8.Y
                    ZIndex: =99

                PEVC_CompanyName_Label_1 As label:
                    Font: =Font.Arial
                    Height: =retangleBack1_10.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Company name"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_10.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack1_10.Y
                    ZIndex: =100

                PEVC_Industry_Label_1 As label:
                    Font: =Font.Arial
                    Height: =retangleBack2.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Industry"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack2_2.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack2_2.Y
                    ZIndex: =101

                PEVC_Company_Label_1 As label:
                    Font: =Font.Arial
                    Height: =retangleBack3.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Company value"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack3_2.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack3_2.Y
                    ZIndex: =102

                PEVC_PricePerShare_Label_1 As label:
                    Font: =Font.Arial
                    Height: =retangleBack4.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Price per share"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_2.Width
                    X: =retangleBack1_10.X
                    Y: =retangleBack4_2.Y
                    ZIndex: =103

                PEVC_CompanyNameValue_Label_1 As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =retangleBack1_11.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: =First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).company_name
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack1_11.Width
                    X: =retangleBack1_11.X
                    Y: =retangleBack1_11.Y
                    ZIndex: =104

                PEVC_IndustryValue_Label_1 As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =retangleBack2_3.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: |-
                        =If(IsEmpty(Filter(materDataNonList.industry, code = First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).industry)),
                        First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).industry,
                        First(Filter(materDataNonList.industry, code = First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).industry)).value)
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack2_3.Width
                    X: =retangleBack2_3.X
                    Y: =retangleBack2_3.Y
                    ZIndex: =105

                PEVC_PricePerShare_Label_2 As label:
                    Font: =Font.Arial
                    Height: =retangleBack3_4.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Total gross sales proceeds"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack3_4.Width
                    X: =retangleBack3_4.X
                    Y: =retangleBack3_4.Y
                    ZIndex: =106

                PEVC_PricePerShare_Label_3 As label:
                    Font: =Font.Arial
                    Height: =retangleBack4_4.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Buyer"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_4.Width
                    X: =retangleBack4_4.X
                    Y: =retangleBack4_4.Y
                    ZIndex: =107

                PEVC_PricePerShare_Label_4 As label:
                    Font: =Font.Arial
                    Height: =retangleBack4_6.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Expected fee"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_6.Width
                    X: =retangleBack4_6.X
                    Y: =retangleBack4_6.Y
                    ZIndex: =108

                PEVC_PricePerShare_Label_5 As label:
                    Font: =Font.Arial
                    Height: =retangleBack3_6.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Expected ending time"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack3_6.Width
                    X: =retangleBack3_6.X
                    Y: =retangleBack3_6.Y
                    ZIndex: =109

                PEVC_PricePerShare_Label_6 As label:
                    Font: =Font.Arial
                    Height: =retangleBack4_8.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Level of approval"
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_8.Width
                    X: =retangleBack4_8.X
                    Y: =retangleBack4_8.Y
                    ZIndex: =110

                Divestment_CompanyValue_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(Divestment_CompanyValue_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =divestmentCompanyValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack3_3.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Substitute(Self.Text, "%", ""), ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText) || Value(Trim(ModifiedText)) < 0,Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(divestmentCompanyValue, Blank()), Set(divestmentCompanyValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack3_3.Width - 2
                    X: =retangleBack3_3.X + 1
                    Y: =retangleBack3_3.Y + 1
                    ZIndex: =111

                Divestment_PriceOerShare_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(Divestment_PriceOerShare_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =divestmentPricePerShareValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack4_3.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Substitute(Self.Text, "%", ""), ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText) || Value(Trim(ModifiedText)) < 0,Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(divestmentPricePerShareValue, Blank()), Set(divestmentPricePerShareValue, If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_3.Width - 2
                    X: =retangleBack4_3.X + 1
                    Y: =retangleBack4_3.Y + 1
                    ZIndex: =112

                Divestment_TotalGrossSalesProceeds_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(Divestment_TotalGrossSalesProceeds_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =divestmentTotalGrossValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack3_5.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Substitute(Self.Text, "%", ""), ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText) || Value(Trim(ModifiedText)) < 0,Substitute(Self.Text, Self.Text, ""); Reset(Self);
                        Set(divestmentTotalGrossValue, Blank()), Set(divestmentTotalGrossValue,If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack3_5.Width - 2
                    X: =retangleBack3_5.X + 1
                    Y: =retangleBack3_5.Y + 1
                    ZIndex: =113

                Divestment_Buyer_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(Divestment_Buyer_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =detailPEVCById.buyer
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack4_5.Height - 2
                    HoverFill: =
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_5.Width - 2
                    X: =retangleBack4_5.X + 1
                    Y: =retangleBack4_5.Y + 1
                    ZIndex: =114

                Divestment_ExpectedFee_Input As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(Divestment_ExpectedFee_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =divestmentExpectedFeeValue
                    DisabledColor: |-
                        =// If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                        RGBA(166, 166, 166, 1)
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack4_7.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(OriginalText, Substitute(Substitute(Self.Text, "%", ""), ",", ""));
                        Set(FirstDotIndex, Find(".", OriginalText));
                        Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                        Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                        
                        Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                        If(!IsNumeric(ModifiedText) || Value(Trim(ModifiedText)) < 0,Substitute(Self.Text, Self.Text, "");Reset(Self);
                        Set(divestmentExpectedFeeValue,Blank()),Set(divestmentExpectedFeeValue,If(StartsWith(Trim(ModifiedText), "."), "0"&Trim(ModifiedText), Trim(ModifiedText))));
                        Reset(Self);
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_7.Width - 2
                    X: =retangleBack4_7.X + 1
                    Y: =retangleBack4_7.Y + 1
                    ZIndex: =115

                PEVC_LevelOfApproval_Filter_1 As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(PEVC_LevelOfApproval_Filter_1.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =""
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =retangleBack4_9.Height - 2
                    HoverFill: =
                    OnSelect: =Set(reportTypeShowDropdown, !reportTypeShowDropdown);
                    PaddingRight: =40
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =retangleBack4_9.Width - 2
                    X: =retangleBack4_9.X + 1
                    Y: =retangleBack4_9.Y + 1
                    ZIndex: =116

                ReportTypeChevron_3 As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        =If(reportTypeShowDropdown,
                        "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                        <g clip-path=""url(#clip0_1760_3688)"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                        </g>
                        <defs>
                        <clipPath id=""clip0_1760_3688"">
                        <rect width=""24"" height=""24"" fill=""white""/>
                        </clipPath>
                        </defs>
                        </svg></div>"
                        , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                        </svg></div>")
                    OnSelect: =If(PEVC_LevelOfApproval_Filter_1.DisplayMode = DisplayMode.Edit, Set(reportTypeShowDropdown, !reportTypeShowDropdown));
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =35
                    X: =PEVC_LevelOfApproval_Filter_1.X + PEVC_LevelOfApproval_Filter_1.Width - If(App.Width > 800, 40, 30)
                    Y: =PEVC_LevelOfApproval_Filter_1.Y + 2
                    ZIndex: =117

                "LevelOfApproval_Items_1 As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Height: =PEVC_LevelOfApproval_Filter_1.Height
                    Items: =levelOfApprovalList
                    TemplatePadding: =0
                    TemplateSize: =90
                    Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =Min(PEVC_LevelOfApproval_Filter_1.Width - 50, If(CountRows(levelOfApprovalList) > 8, 8, CountRows(levelOfApprovalList)) * Self.TemplateWidth)
                    X: =PEVC_LevelOfApproval_Filter_1.X
                    Y: =PEVC_LevelOfApproval_Filter_1.Y
                    ZIndex: =118

                    Button4_4 As button:
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderThickness: =1
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =1
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        Height: =30
                        HoverColor: =Self.Color
                        HoverFill: =Self.Fill
                        OnSelect: =Select(Parent)
                        PaddingLeft: =20
                        PressedColor: =Self.Color
                        PressedFill: =Self.HoverFill
                        Size: =9
                        Text: =ThisItem.Value
                        Width: =Parent.TemplateWidth - Self.X - 5
                        X: =10
                        Y: =7
                        ZIndex: =4

                    HtmlText2_12 As htmlViewer:
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        HtmlText: |-
                            ="<svg xmlns=""http://www.w3.org/2000/svg"" width=""10"" height=""10"" viewBox=""0 0 10 10"" fill=""none"">
                              <g clip-path=""url(#clip0_8063_67963)"">
                                <path d=""M5 0C2.21429 0 0 2.21429 0 5C0 7.78571 2.21429 10 5 10C7.78571 10 10 7.78571 10 5C10 2.21429 7.78571 0 5 0ZM6.92857 7.5L5 5.57143L3.07143 7.5L2.5 6.92857L4.42857 5L2.5 3.07143L3.07143 2.5L5 4.42857L6.92857 2.5L7.5 3.07143L5.57143 5L7.5 6.92857L6.92857 7.5Z"" fill=""black""/>
                              </g>
                              <defs>
                                <clipPath id=""clip0_8063_67963"">
                                  <rect width=""10"" height=""10"" fill=""white""/>
                                </clipPath>
                              </defs>
                            </svg>"
                        OnSelect: =If(Button4_4.DisplayMode = DisplayMode.Edit, RemoveIf(levelOfApprovalList, ThisItem.Value = Value))
                        Width: =25
                        X: =Button4_4.X + 5
                        Y: =5
                        ZIndex: =6

                Container14_1 As groupContainer.horizontalAutoLayoutContainer:
                    DropShadow: =DropShadow.None
                    Height: =260
                    LayoutMode: =LayoutMode.Auto
                    LayoutOverflowX: =LayoutOverflow.Scroll
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Visible: =retangleBack4_8.Visible
                    Width: =retangleBack4_9.X + retangleBack4_9.Width - Self.X
                    X: =retangleBack4_8.X
                    Y: =retangleBack4_8.Y + retangleBack4_8.Height + 20
                    ZIndex: =119

                    Container16_3 As groupContainer.manualLayoutContainer:
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =retangleBack1_15.X + retangleBack1_15.Width
                        ZIndex: =1

                        retangleBack1_12 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =60
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =If(App.Width > 1025 , WhiteBackground_10.Width * 0.25 - 50, WhiteBackground_10.Width * 0.45 - 50)
                            ZIndex: =1

                        retangleBack1_13 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_12 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =Max((WhiteBackground_10.Width * If(App.Width > 1025, 0.745, 0.55) + If(App.Width > 600, -10, 8)) / 4, 200)
                            X: =retangleBack1_12.X + retangleBack1_12.Width
                            Y: =retangleBack1_12.Y
                            ZIndex: =2

                        retangleBack1_14 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_12 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_13.Width
                            X: =retangleBack1_13_Add.X + retangleBack1_13_Add.Width
                            ZIndex: =3

                        retangleBack1_15 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_12 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_13.Width
                            X: =retangleBack1_14.X + retangleBack1_14.Width
                            ZIndex: =4

                        retangleBack1_16 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =44
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_12.Width
                            X: =retangleBack1_12.X
                            Y: =retangleBack1_12.Y + retangleBack1_12.Height
                            ZIndex: =5

                        retangleBack1_17 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_16 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_13.Width 
                            X: =retangleBack1_16.X + retangleBack1_16.Width
                            Y: =retangleBack1_16.Y
                            ZIndex: =6

                        retangleBack1_18 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_16 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_32.Width
                            X: =retangleBack1_32.X + retangleBack1_32.Width
                            Y: =retangleBack1_32.Y
                            ZIndex: =7

                        retangleBack1_19 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_16 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_18.Width
                            X: =retangleBack1_18.X + retangleBack1_18.Width
                            Y: =retangleBack1_18.Y
                            ZIndex: =8

                        retangleBack1_20 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =44
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_16.Width
                            X: =retangleBack1_12.X
                            Y: =retangleBack1_16.Y + retangleBack1_16.Height
                            ZIndex: =9

                        retangleBack1_21 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_20 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_20.X + retangleBack1_20.Width 
                            Y: =retangleBack1_20.Y
                            ZIndex: =10

                        retangleBack1_22 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_20 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_21.Width 
                            X: =retangleBack1_33.X + retangleBack1_33.Width
                            Y: =retangleBack1_21.Y
                            ZIndex: =11

                        retangleBack1_23 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_20 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_22.Width 
                            X: =retangleBack1_22.X + retangleBack1_22.Width
                            Y: =retangleBack1_22.Y
                            ZIndex: =12

                        retangleBack1_24 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =44
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_20.Width
                            X: =retangleBack1_20.X
                            Y: =retangleBack1_20.Y + retangleBack1_20.Height
                            ZIndex: =13

                        retangleBack1_25 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_24 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_24.Width 
                            Y: =retangleBack1_24.Y
                            ZIndex: =14

                        retangleBack1_26 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_24 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_34.X + retangleBack1_34.Width
                            Y: =retangleBack1_34.Y
                            ZIndex: =15

                        retangleBack1_27 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_24 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_26.X + retangleBack1_26.Width
                            Y: =retangleBack1_26.Y
                            ZIndex: =16

                        retangleBack1_28 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =44
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_20.Width
                            X: =retangleBack1_20.X
                            Y: =retangleBack1_24.Y + retangleBack1_24.Height
                            ZIndex: =17

                        retangleBack1_29 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_28 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_28.X + retangleBack1_28.Width
                            Y: =retangleBack1_28.Y
                            ZIndex: =18

                        retangleBack1_30 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_28 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_35.X + retangleBack1_35.Width
                            Y: =retangleBack1_29.Y
                            ZIndex: =19

                        retangleBack1_31 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_28 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_30.X + retangleBack1_30.Width
                            Y: =retangleBack1_30.Y
                            ZIndex: =20

                        PEVC_CompanyName_Label_2 As label:
                            Align: =Align.Center
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =retangleBack1_13.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            Size: =10.5
                            Text: |-
                                ="Original Investment Cost (USD)
                                (1)"
                            VerticalAlign: =VerticalAlign.Top
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_13.Width
                            X: =retangleBack1_13.X
                            Y: =retangleBack1_13.Y
                            ZIndex: =21

                        PEVC_CompanyName_Label_3 As label:
                            Align: =Align.Center
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =retangleBack1_14.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            Size: =10.5
                            Text: |-
                                ="Cost of divested portions (USD)
                                (3)"
                            VerticalAlign: =VerticalAlign.Top
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_14.Width
                            X: =retangleBack1_14.X
                            Y: =retangleBack1_14.Y
                            ZIndex: =22

                        PEVC_CompanyName_Label_4 As label:
                            Align: =Align.Center
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =retangleBack1_15.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            Size: =10.5
                            Text: |-
                                ="Net Equity & Debt iinvestment cost (USD)
                                (4) = (1) - (2) - (3)"
                            VerticalAlign: =VerticalAlign.Top
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_15.Width
                            X: =retangleBack1_15.X
                            Y: =retangleBack1_15.Y
                            ZIndex: =23

                        PEVC_CompanyName_Label_5 As label:
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: ="Total investment"
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_16.Width
                            X: =retangleBack1_16.X
                            Y: =retangleBack1_16.Y
                            ZIndex: =24

                        PEVC_CompanyName_Label_6 As label:
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: ="- Equity portion"
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_16.Width
                            X: =retangleBack1_16.X
                            Y: =retangleBack1_20.Y
                            ZIndex: =25

                        PEVC_CompanyName_Label_7 As label:
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: ="- Debt portion"
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_16.Width
                            X: =retangleBack1_16.X
                            Y: =retangleBack1_24.Y
                            ZIndex: =26

                        PEVC_CompanyName_Label_8 As label:
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: ="% ownership"
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_16.Width
                            X: =retangleBack1_16.X
                            Y: =retangleBack1_28.Y
                            ZIndex: =27

                        PEVC_CompanyName_Label_9 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: =Value(PEVC_CompanyName_Label_10.Text) + Value(PEVC_CompanyName_Label_11.Text)
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_17.X
                            Y: =retangleBack1_17.Y
                            ZIndex: =28

                        PEVC_CompanyName_Label_10 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =If(isDotFormat, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_equity_investment_cost,
                                Substitute(First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_equity_investment_cost, ".", ","))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_17.X
                            Y: =retangleBack1_21.Y
                            ZIndex: =29

                        PEVC_CompanyName_Label_11 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =If(isDotFormat, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_debt_investment_cost,
                                Substitute(First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_debt_investment_cost, ".", ","))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_17.X
                            Y: =retangleBack1_24.Y
                            ZIndex: =30

                        PEVC_CompanyName_Label_12 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =If(isDotFormat, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_percentage_ownership_investment_cost,
                                Substitute(First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_percentage_ownership_investment_cost, ".", ","))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_17.Width
                            X: =retangleBack1_17.X
                            Y: =retangleBack1_29.Y
                            ZIndex: =31

                        PEVC_CompanyName_Label_13 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: =Value(PEVC_CompanyName_Label_14.Text) + Value(PEVC_CompanyName_Label_15.Text)
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_32.Width
                            X: =retangleBack1_19.X
                            Y: =retangleBack1_32.Y
                            ZIndex: =32

                        PEVC_CompanyName_Label_14 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =Value(PEVC_CompanyName_Label_10.Text) - Value(PEVC_CompanyName_Label_19.Text)
                                - Value(If(isDotFormat, Divestment_EquityPortion_Input.Text, Substitute(Divestment_EquityPortion_Input.Text, ".", ",")))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_35.Width 
                            X: =retangleBack1_19.X
                            Y: =retangleBack1_23.Y
                            ZIndex: =33

                        PEVC_CompanyName_Label_15 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =Value(PEVC_CompanyName_Label_11.Text) - Value(PEVC_CompanyName_Label_20.Text)
                                - Value(If(isDotFormat, Divestment_DebtPortion_Input.Text, Substitute(Divestment_DebtPortion_Input.Text, ".", ",")))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_35.Width 
                            X: =retangleBack1_19.X
                            Y: =retangleBack1_27.Y
                            ZIndex: =34

                        PEVC_CompanyName_Label_16 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =Value(PEVC_CompanyName_Label_12.Text) - Value(PEVC_CompanyName_Label_21.Text)
                                - Value(If(isDotFormat, Divestment_Ownership_Input.Text, Substitute(Divestment_Ownership_Input.Text, ".", ",")))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_35.Width 
                            X: =retangleBack1_19.X
                            Y: =retangleBack1_31.Y
                            ZIndex: =35

                        Divestment_TotalInvestment_Input As text:
                            BorderColor: =If(IsBlank(Divestment_TotalInvestment_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                            BorderThickness: =0
                            Color: =RGBA(166, 166, 166, 1)
                            Default: =Value(Divestment_EquityPortion_Input.Text) + Value(Divestment_DebtPortion_Input.Text)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =RGBA(0, 18, 107, 1)
                            FocusedBorderThickness: =2
                            Font: =Font.Arial
                            Height: =retangleBack1_18.Height - 2
                            HoverFill: =
                            PaddingRight: =12
                            PaddingTop: =5.27
                            PressedBorderColor: =RGBA(0, 18, 107, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =If(App.Width > 600, 10.5, 12)
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_18.Width - 2
                            X: =retangleBack1_18.X + 1
                            Y: =retangleBack1_18.Y + 1
                            ZIndex: =36

                        Divestment_EquityPortion_Input As text:
                            BorderColor: =If(IsBlank(Divestment_EquityPortion_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                            BorderThickness: =0
                            Default: =divestmentEquityPortionValue
                            DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                            DisplayMode: =If(isDisable || !("Equity" in dealTypeSelectedValue), DisplayMode.Disabled, DisplayMode.Edit)
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =RGBA(0, 18, 107, 1)
                            FocusedBorderThickness: =2
                            Font: =Font.Arial
                            Height: =retangleBack1_18.Height - 2
                            HoverFill: =
                            OnChange: |-
                                =Set(OriginalText, Substitute(Substitute(Self.Text, "%", ""), ",", ""));
                                Set(FirstDotIndex, Find(".", OriginalText));
                                Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                                Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                                
                                Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                                If(!IsNumeric(ModifiedText) || Value(Trim(ModifiedText)) < 0,Substitute(Self.Text, Self.Text, "");Reset(Self);Set(divestmentEquityPortionValue,Blank()),Set(divestmentEquityPortionValue,Trim(ModifiedText)));
                                Reset(Self);
                            PaddingRight: =12
                            PaddingTop: =5.27
                            PressedBorderColor: =RGBA(0, 18, 107, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =If(App.Width > 600, 10.5, 12)
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_18.Width - 2
                            X: =retangleBack1_18.X + 1
                            Y: =retangleBack1_22.Y + 1
                            ZIndex: =37

                        Divestment_DebtPortion_Input As text:
                            BorderColor: =If(IsBlank(Divestment_DebtPortion_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                            BorderThickness: =0
                            Default: =divestmentDebtPortionValue
                            DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                            DisplayMode: =If(isDisable || !("Debt" in dealTypeSelectedValue), DisplayMode.Disabled, DisplayMode.Edit)
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =RGBA(0, 18, 107, 1)
                            FocusedBorderThickness: =2
                            Font: =Font.Arial
                            Height: =retangleBack1_18.Height - 2
                            HoverFill: =
                            OnChange: |-
                                =Set(OriginalText, Substitute(Substitute(Self.Text, "%", ""), ",", ""));
                                Set(FirstDotIndex, Find(".", OriginalText));
                                Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                                Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                                
                                Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                                If(!IsNumeric(ModifiedText) || Value(Trim(ModifiedText)) < 0,Substitute(Self.Text,Self.Text,""); Reset(Self);Set(divestmentDebtPortionValue,Blank()),Set(divestmentDebtPortionValue, Trim(ModifiedText)));
                                Reset(Self);
                            PaddingRight: =12
                            PaddingTop: =5.27
                            PressedBorderColor: =RGBA(0, 18, 107, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =If(App.Width > 600, 10.5, 12)
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_18.Width - 2
                            X: =retangleBack1_18.X + 1
                            Y: =retangleBack1_26.Y + 1
                            ZIndex: =38

                        Divestment_Ownership_Input As text:
                            BorderColor: =If(IsBlank(Divestment_Ownership_Input.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                            BorderThickness: =0
                            Default: =divestmentOwnershipValue
                            DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                            DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =RGBA(0, 18, 107, 1)
                            FocusedBorderThickness: =2
                            Font: =Font.Arial
                            Height: =retangleBack1_18.Height - 2
                            HoverFill: =
                            OnChange: |-
                                =Set(OriginalText, Substitute(Substitute(Self.Text, "%", ""), ",", ""));
                                Set(FirstDotIndex, Find(".", OriginalText));
                                Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                                Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                                
                                Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                                If(!IsNumeric(ModifiedText) || Value(Trim(ModifiedText)) < 0, Substitute(Self.Text, Self.Text, ""); Reset(Self);Set(divestmentOwnershipValue, Blank()), Set(divestmentOwnershipValue, Trim(ModifiedText)));
                                Reset(Self);
                            PaddingRight: =12
                            PaddingTop: =5.27
                            PressedBorderColor: =RGBA(0, 18, 107, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =If(App.Width > 600, 10.5, 12)
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_18.Width - 2
                            X: =retangleBack1_18.X + 1
                            Y: =retangleBack1_30.Y + 1
                            ZIndex: =39

                        retangleBack1_13_Add As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =retangleBack1_12 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_13.Width
                            X: =retangleBack1_13.X + retangleBack1_13.Width
                            Y: =retangleBack1_12.Y
                            ZIndex: =40

                        PEVC_CompanyName_Label_17 As label:
                            Align: =Align.Center
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =retangleBack1_13_Add.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            Size: =10.5
                            Text: |-
                                ="Accumulated Cost of Divested Portion (USD)
                                (2)"
                            VerticalAlign: =VerticalAlign.Top
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_13_Add.Width
                            X: =retangleBack1_13_Add.X
                            Y: =retangleBack1_13_Add.Y
                            ZIndex: =41

                        retangleBack1_32 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_16 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_13.Width
                            X: =retangleBack1_17.X + retangleBack1_17.Width
                            Y: =retangleBack1_16.Y
                            ZIndex: =42

                        PEVC_CompanyName_Label_18 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_16.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: =Value(PEVC_CompanyName_Label_20.Text) + Value(PEVC_CompanyName_Label_19.Text)
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_32.Width
                            X: =retangleBack1_32.X
                            Y: =retangleBack1_32.Y
                            ZIndex: =43

                        retangleBack1_33 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_20 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_21.Width
                            X: =retangleBack1_21.X + retangleBack1_21.Width
                            Y: =retangleBack1_20.Y
                            ZIndex: =44

                        PEVC_CompanyName_Label_19 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_33.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =If(!IsBlank(detailPEVCById) && !IsBlank(detailPEVCById.accumulated_cost_of_equity_portion),
                                If(isDotFormat, detailPEVCById.accumulated_cost_of_equity_portion, Substitute(detailPEVCById.accumulated_cost_of_equity_portion, ".", ",")),
                                If(isDotFormat, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_divested_equity,
                                    Substitute(First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_divested_equity, ".", ",")))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_33.Width
                            X: =retangleBack1_33.X
                            Y: =retangleBack1_33.Y
                            ZIndex: =45

                        retangleBack1_34 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_24 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_25.Width
                            X: =retangleBack1_25.X + retangleBack1_25.Width
                            Y: =retangleBack1_24.Y
                            ZIndex: =46

                        PEVC_CompanyName_Label_20 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_34.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =If(!IsBlank(detailPEVCById) && !IsBlank(detailPEVCById.accumulated_cost_of_debt_portion),
                                If(isDotFormat, detailPEVCById.accumulated_cost_of_debt_portion, Substitute(detailPEVCById.accumulated_cost_of_debt_portion, ".", ",")),
                                If(isDotFormat, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_divested_debt,
                                    Substitute(First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_divested_debt, ".", ",")))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_34.Width
                            X: =retangleBack1_34.X
                            Y: =retangleBack1_34.Y
                            ZIndex: =47

                        retangleBack1_35 As rectangle:
                            BorderColor: =RGBA(191, 191, 192, 1)
                            BorderThickness: =0.5
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =retangleBack1_28 .Height
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_29.Width 
                            X: =retangleBack1_29.X + retangleBack1_29.Width
                            Y: =retangleBack1_28.Y
                            ZIndex: =48

                        PEVC_CompanyName_Label_21 As label:
                            Color: =RGBA(166, 166, 166, 1)
                            Font: =Font.Arial
                            Height: =retangleBack1_35.Height
                            PaddingBottom: =10
                            PaddingLeft: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: |-
                                =If(!IsBlank(detailPEVCById) && !IsBlank(detailPEVCById.accumulated_cost_of_percentage_ownership),
                                If(isDotFormat, detailPEVCById.accumulated_cost_of_percentage_ownership, Substitute(detailPEVCById.accumulated_cost_of_percentage_ownership, ".", ",")),
                                If(isDotFormat, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_divested_percentage_ownership,
                                    Substitute(First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_divested_percentage_ownership, ".", ",")))
                            Visible: =isDivestment && DealDetailTab = 1 && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                            Width: =retangleBack1_35.Width
                            X: =retangleBack1_35.X
                            Y: =retangleBack1_35.Y
                            ZIndex: =49

                ExpectedEndingTime_Datepicker As datepicker:
                    BorderThickness: =0
                    DefaultDate: =detailPEVCById.expected_ending_time
                    DisplayMode: =Divestment_CompanyValue_Input.DisplayMode
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Format: ="dd/mm/yyyy"
                    Height: =retangleBack3_7.Height - 2
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =RGBA(0, 0, 0, 1)
                    InputTextPlaceholder: =
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =50
                    PaddingTop: =10
                    Size: =10.5
                    Visible: =retangleBack3_7.Visible
                    Width: =retangleBack3_7.Width - 2
                    X: =retangleBack3_7.X + 1
                    Y: =retangleBack3_7.Y + 1
                    ZIndex: =120

                SearchCloseDropdown_12 As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =Parent.Height- 60
                    OnSelect: |-
                        =Set(reportTypeShowDropdown, false);
                        Reset(PEVC_LevelOfApproval_Filter_1)
                    Visible: =ReportTypeItems_3.Visible
                    Width: =Parent.Width
                    X: =40
                    Y: =40
                    ZIndex: =121

                "ReportTypeItems_3 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                    Items: |-
                        =If(!IsEmpty(Filter([{value: "IC"}, {value: "ISC-PE"}, {value: "ISC-VC"}], PEVC_LevelOfApproval_Filter_1.Text in value)),
                        Filter([{value: "IC"}, {value: "ISC-PE"}, {value: "ISC-VC"}], PEVC_LevelOfApproval_Filter_1.Text in value),
                        [{value: "Empty data."}]
                        )
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =isDivestment && reportTypeShowDropdown && currentStatus in ["PROPOSED_DIVESTMENT_NEW", "PROPOSED_DIVESTMENT_PENDING_MANAGER"]
                    Width: =PEVC_LevelOfApproval_Filter_1.Width
                    X: =PEVC_LevelOfApproval_Filter_1.X
                    Y: =PEVC_LevelOfApproval_Filter_1.Y + 50
                    ZIndex: =122

                    Button6_87 As button:
                        Align: =Align.Left
                        BorderThickness: =0
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: =If(ThisItem.value in levelOfApprovalList, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                        FocusedBorderThickness: =0
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: |-
                            =If(Self.Text <> "Empty data.",
                            If(ThisItem.value in levelOfApprovalList, RemoveIf(levelOfApprovalList, ThisItem.value = Value), Collect(levelOfApprovalList, ThisItem.value));
                            Set(reportTypeShowDropdown, false);,
                            Select(SearchCloseDropdown_12);
                            )
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10.5
                        Text: =ThisItem.value
                        Width: =Parent.Width
                        X: =0.00
                        ZIndex: =1

            TopInputToFocus_DetailPEVC As text:
                Default: ="Text input"
                Font: =Font.Arial
                Height: =0
                Width: =0
                ZIndex: =154

    HeaderQT2List_IR_4 As Header:
        ZIndex: =24

    MenuItemsSideBar_IR_5 As MenuItemsSideBar:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_IR_5.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_5.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_IR_5.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_5.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_IR_5.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_IR_5.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_IR_5.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_IR_5.IconFile,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_5.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_IR_5.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_IR_5.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_5.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoration&A",
                            MenuIcon: MenuItemsSideBar_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_IR_5.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =MobileShowMenu
        Width: =If(App.Width > 800, 240, App.Width)
        Y: =56
        ZIndex: =25

    MenuItemsSideBar_Small_IR_5 As MenuItemsSideBar_Small:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_Small_IR_5.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_5.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_Small_IR_5.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_5.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_Small_IR_5.IconFile,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_5.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_Small_IR_5.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_5.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_5.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoiation&A",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_Small_IR_5.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =App.Width > 800 && !MobileShowMenu
        Y: =56
        ZIndex: =26

    Timer1_33 As timer:
        Duration: =3000
        Font: =Font.Arial
        OnTimerEnd: |-
            =Reset(Timer1_33); UpdateContext({ShowNotification: false}); Set(IsError, false);
        Start: =ShowNotification
        Visible: =false
        X: =1175
        Y: =632
        ZIndex: =43

    NotificationBox_31 As button:
        Align: =Align.Left
        BorderColor: =RGBA(40, 167, 69, 1)
        BorderThickness: =0
        DisabledFill: =Self.Fill
        Fill: =If(IsError, RGBA(209, 50, 50, 1), RGBA(40, 167, 69, 1))
        FocusedBorderThickness: =0
        Font: =Font.Arial
        Height: =50
        HoverBorderColor: =Self.Fill
        HoverFill: =Self.Fill
        PaddingLeft: =15
        PaddingRight: =30
        PressedColor: =RGBA(255, 255, 255, 1)
        PressedFill: =Self.Fill
        RadiusBottomLeft: =5
        RadiusBottomRight: =5
        RadiusTopLeft: =5
        RadiusTopRight: =5
        Size: =10.5
        Text: =NoticationText
        Visible: =Timer1_33.Value <> 0
        Width: =320
        X: =App.Width - Self.Width - 2
        Y: =65
        ZIndex: =44

    CloseNotiIcon_31 As icon.Cancel:
        Color: =RGBA(255, 255, 255, 1)
        Height: =15
        Icon: =Icon.Cancel
        OnSelect: =Reset(Timer1_33); Set(IsError, false);
        Visible: =NotificationBox_31.Visible
        Width: =15
        X: =NotificationBox_31.X + NotificationBox_31.Width - 25
        Y: =NotificationBox_31.Y + 17.5
        ZIndex: =45

    NotificationScreen_IR_5 As NotificationScreen:
        Visible: =ShowNotificationPopup
        ZIndex: =46

    LoadingQT2List_20 As LoadingComponent_4:
        Visible: =isLoading
        ZIndex: =47

    PEVCCommonFunctions As group:
        Height: =5
        Width: =5
        X: =140
        Y: =140
        ZIndex: =57

        Button2_8 As button:
            Font: =Font.Arial
            OnSelect: |-
                =Set(ShowNotificationCheck, "ACCESS_DENIED_IR");
                Navigate(Dashboard, ScreenTransition.Fade)
            Text: ="Button"
            Visible: =false
            X: =80
            Y: =80
            ZIndex: =48

        UpdateNotes As button:
            Font: =Font.Arial
            OnSelect: |-
                =// Convert notes
                Set(noteListValue, Blank());
                ClearCollect(pevcListDeleteFiles, []);
                ClearCollect(noteOfPEVC, pevcNoteFileLog.note);
                
                ClearCollect(note_APPROVE_RESOLUTION,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_RESOLUTION" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_APPROVE_RESOLUTION), ClearCollect(note_APPROVE_RESOLUTION, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_RESOLUTION", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_NEW_LEAD_CREATION,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "NEW_LEAD_CREATION" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_NEW_LEAD_CREATION), ClearCollect(note_NEW_LEAD_CREATION, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NEW_LEAD_CREATION", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_NEW_LEAD_CREATION_PENDING,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "NEW_LEAD_CREATION_PENDING" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_NEW_LEAD_CREATION_PENDING), ClearCollect(note_NEW_LEAD_CREATION_PENDING, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NEW_LEAD_CREATION_PENDING", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_NDA_APPROVAL,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "NDA_APPROVAL" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_NDA_APPROVAL), ClearCollect(note_NDA_APPROVAL, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NDA_APPROVAL", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_COMPLETE_DISCUSSION_PAPER,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_DISCUSSION_PAPER" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_COMPLETE_DISCUSSION_PAPER), ClearCollect(note_COMPLETE_DISCUSSION_PAPER, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_DISCUSSION_PAPER", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_INVESTMENT_MEMO_PENDING,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_MEMO_PENDING" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_INVESTMENT_MEMO_PENDING), ClearCollect(note_INVESTMENT_MEMO_PENDING, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_MEMO_PENDING", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_COMPLETE_TERM_SHEET,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_TERM_SHEET" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_COMPLETE_TERM_SHEET), ClearCollect(note_COMPLETE_TERM_SHEET, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_TERM_SHEET", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_INVESTMENT_MEMO,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_MEMO" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_INVESTMENT_MEMO), ClearCollect(note_INVESTMENT_MEMO, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_MEMO", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_DD_CONTRACT,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "DD_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_DD_CONTRACT), ClearCollect(note_DD_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "DD_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_LEGAL_CONTRACT,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "LEGAL_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_LEGAL_CONTRACT), ClearCollect(note_LEGAL_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "LEGAL_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_INVESTMENT_CONTRACT,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_INVESTMENT_CONTRACT), ClearCollect(note_INVESTMENT_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_COMPLETE_DISBURSEMENT,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_DISBURSEMENT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_COMPLETE_DISBURSEMENT), ClearCollect(note_COMPLETE_DISBURSEMENT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_DISBURSEMENT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_APPROVE_RESOLUTIONS,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_RESOLUTIONS" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_APPROVE_RESOLUTIONS), ClearCollect(note_APPROVE_RESOLUTIONS, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_RESOLUTIONS", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_LEGAL_CONTRACTS,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "LEGAL_CONTRACTS" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_LEGAL_CONTRACTS), ClearCollect(note_LEGAL_CONTRACTS, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "LEGAL_CONTRACTS", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_APPROVE_THE_DIVESTMENT_CONTRACT,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_THE_DIVESTMENT_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_APPROVE_THE_DIVESTMENT_CONTRACT), ClearCollect(note_APPROVE_THE_DIVESTMENT_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_THE_DIVESTMENT_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                ClearCollect(note_COMPLETED_DIVESTMENT,
                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETED_DIVESTMENT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                );
                If(IsEmpty(note_COMPLETED_DIVESTMENT), ClearCollect(note_COMPLETED_DIVESTMENT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETED_DIVESTMENT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                
                Set(isShowSubmit, PEVCCurrentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW", "NEW_LEAD_CREATION_DONE", "NDA_APPROVAL_ATTACH_FILE", "NDA_APPROVAL_DONE", "COMPLETE_DISCUSSION_PAPER_DONE", "INVESTMENT_MEMO_DONE", "COMPLETE_TERM_SHEET_DONE", "INVESTMENT_MEMO_ADJUSTED_DONE", "DD_CONTRACT_ATTACH_FILE", "DD_CONTRACT_DONE", "LEGAL_CONTRACT_PENDING_DONE", "INVESTMENT_CONTRACT_ATTACH_FILE", "INVESTMENT_CONTRACT_DONE", "COMPLETE_DISBURSEMENT_ATTACH_FILE"]);
                
                Set(companyPEVC, 'TVS->FindAllCompanyPEVC-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, envDEV, envTEST, envUAT1, envUAT2));
                If(!IsBlank(CompanyNameSelectedValue),
                    Set(PEVCFouderSharehoderData, 'TVS->FindByIdPVECLeadCreationFounderAndShareHolder-V1'.Run(CompanyNameSelectedValue,resKeyOpenAll.open, resKeyOpenAll.close, envDEV, envTEST, envUAT1, envUAT2));
                    ClearCollect(PEVC_founderData, AddColumns(PEVCFouderSharehoderData.listFounder, isTotal, false));
                    Collect(PEVC_founderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_founderData, ownership))});
                    ClearCollect(PEVC_shareholderData, AddColumns(PEVCFouderSharehoderData.listShareholder, isTotal, false));
                    Collect(PEVC_shareholderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_shareholderData, ownership))});
                );
            Text: ="Button"
            Visible: =false
            X: =1176
            Y: =142
            ZIndex: =49

        RefreshShareHolderDatas As button:
            Font: =Font.Arial
            OnSelect: |-
                =If(!IsBlank(CompanyNameSelectedValue),
                    Set(PEVCFouderSharehoderData, 'TVS->FindByIdPVECLeadCreationFounderAndShareHolder-V1'.Run(CompanyNameSelectedValue,resKeyOpenAll.open, resKeyOpenAll.close, envDEV, envTEST, envUAT1, envUAT2));
                    ClearCollect(PEVC_founderData, AddColumns(PEVCFouderSharehoderData.listFounder, isTotal, false));
                    Collect(PEVC_founderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_founderData, ownership))});
                    ClearCollect(PEVC_shareholderData, AddColumns(PEVCFouderSharehoderData.listShareholder, isTotal, false));
                    Collect(PEVC_shareholderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_shareholderData, ownership))});
                );
            Text: ="Button"
            Visible: =false
            X: =927
            Y: =456
            ZIndex: =50

        UpdateIsDisable As button:
            Font: =Font.Arial
            OnSelect: =Set(isDisable, !SaveButton_9.Visible && !btnSubmit_6.Visible);
            Text: ="Button"
            Visible: =false
            X: =335
            Y: =524
            ZIndex: =51

        SetShowHideButtonsById As button:
            Font: =Font.Arial
            OnSelect: |-
                =// Set show/hide logic buttons
                Set(prePEVCForButtons, If(IsBlank(detailPEVCById), prePEVCInfoEdit, detailPEVCById));
                Set(isCreatePEVCUser, "CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process5",action));
                Set(isCEOPEVCUser, "CEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process5",action));
                Set(isDirectorPEVCUser, "PE_DIRECTOR_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process5",action));
                Set(isOwner, currenUserV2.id = detailPEVCById.create_id);
                Set(isLeadOrSpPEVC, roleDealUserCurrent in ["deal_lead","deal_support"]);
                
                // If(!IsBlank(pevcNoteFileLog) && !IsEmpty(pevcNoteFileLog.member) && !(currenUserV2.id in Distinct(pevcNoteFileLog.member, id)), Select(Button2_7));
                
                If(isDivestment,
                Set(isShowSubmitButton,
                        (isCreatePEVCUser || isDirectorPEVCUser) && (IsBlank(prePEVCForButtons) || 
                        (((roleDealUserCurrent in ["deal_lead","deal_support"]) || isDirectorPEVCUser)
                        && (IsBlank(prePEVCForButtons) || "DONE" in prePEVCForButtons.status || "NEW" in prePEVCForButtons.status ||"ATTACH_FILE" in prePEVCForButtons.status)))
                    );
                   Set(isShowSaveButton,
                        !IsBlank(prePEVCForButtons) && (isCreatePEVCUser || isDirectorPEVCUser) &&
                        (  ("PENDING_MANAGER" in prePEVCForButtons.status && isDirectorPEVCUser)
                        || (("DONE" in prePEVCForButtons.status || "NEW" in prePEVCForButtons.status || "ATTACH_FILE" in prePEVCForButtons.status) && ((roleDealUserCurrent in ["deal_lead","deal_support"]) || isDirectorPEVCUser))
                        )
                    );
                    Set(isShowApproveButton,
                     
                        //Last edit minhanh 13:15 18/1
                        !IsBlank(prePEVCForButtons)
                        &&
                        ("PENDING_CEO" in prePEVCForButtons.status && isCEOPEVCUser)
                        ||
                        ("PENDING_MANAGER" in prePEVCForButtons.status && isDirectorPEVCUser)
                        ||
                        ("PENDING_IC" in prePEVCForButtons.status && "IC" in Split(First(currentUserV2Res).name_team,"#"))
                         ||
                        ("PENDING_ISC_VC" in prePEVCForButtons.status && "ISC-VC" in First(currentUserV2Res).name_team)
                         ||
                        ("PENDING_ISC_PE" in prePEVCForButtons.status && "ISC-PE" in First(currentUserV2Res).name_team)
                
                    );
                    Set(isShowReviseButton,
                           !IsBlank(prePEVCForButtons)
                          &&
                        ("PENDING_CEO" in prePEVCForButtons.status && isCEOPEVCUser)
                        ||
                        ("PENDING_MANAGER" in prePEVCForButtons.status && isDirectorPEVCUser)
                    );
                    Set(isShowRejectButton, isShowApproveButton);
                ,
                    Set(isShowSubmitButton,
                        (isCreatePEVCUser || isDirectorPEVCUser) && (IsBlank(prePEVCForButtons) || 
                        (((roleDealUserCurrent in ["deal_lead","deal_support"]) || isDirectorPEVCUser)
                        && (IsBlank(prePEVCForButtons) || "DONE" in prePEVCForButtons.status || "NEW" in prePEVCForButtons.status ||"ATTACH_FILE" in prePEVCForButtons.status)))
                    );
                Set(isShowSaveButton,
                        !IsBlank(prePEVCForButtons) 
                        && (isCreatePEVCUser ||isDirectorPEVCUser)
                        &&
                        (  ("PENDING_MANAGER" in prePEVCForButtons.status && isDirectorPEVCUser)
                        || (("DONE" in prePEVCForButtons.status || "NEW" in prePEVCForButtons.status || "ATTACH_FILE" in prePEVCForButtons.status) && ((roleDealUserCurrent in ["deal_lead","deal_support"]) || isDirectorPEVCUser))
                        )
                    );
                    Set(isShowApproveButton,
                     
                        //Last edit minhanh 13:15 18/1
                        !IsBlank(prePEVCForButtons)
                        &&
                        ("PENDING_CEO" in prePEVCForButtons.status && isCEOPEVCUser)
                        ||
                        ("PENDING_MANAGER" in prePEVCForButtons.status && isDirectorPEVCUser)
                        ||
                        ("PENDING_IC" in prePEVCForButtons.status && "IC" in Split(First(currentUserV2Res).name_team,"#"))
                         ||
                        ("PENDING_ISCVC" in prePEVCForButtons.status && "ISC-VC" in First(currentUserV2Res).name_team)
                         ||
                        ("PENDING_ISCPE" in prePEVCForButtons.status && "ISC-PE" in First(currentUserV2Res).name_team)
                
                    );
                    Set(isShowReviseButton,
                           !IsBlank(prePEVCForButtons)
                          &&
                        ("PENDING_CEO" in prePEVCForButtons.status && isCEOPEVCUser)
                        ||
                        ("PENDING_MANAGER" in prePEVCForButtons.status && isDirectorPEVCUser)
                    );
                    Set(isShowRejectButton, isShowApproveButton);
                );
                Set(isDisable, !isShowSaveButton && !isShowSubmitButton);
                
                Set(HeaderText,
                    If( IsBlank(prePEVCForButtons), "Create",
                        isShowApproveButton, "Approve",
                        isShowSubmitButton || isShowSaveButton, "Update",
                        "View"
                    )
                );
                
                Set(calledFindByID, false);
            Text: ="Button"
            Visible: =false
            X: =355
            Y: =723
            ZIndex: =52

        UpdateButtonsMobileCall As timer:
            Duration: =300
            Font: =Font.Arial
            OnTimerEnd: |-
                =Select(SetShowHideButtonsById);
                Set(ShowHideButton, false);
            Start: =ShowHideButton
            Visible: =false
            X: =1195
            Y: =652
            ZIndex: =53

        SetNumberFormatVariables As button:
            Font: =Font.Arial
            OnSelect: |-
                =If(isDivestment,
                // Divestment
                // divestmentCompanyValue
                Set(OriginalText, Substitute(detailPEVCById.company_value, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.company_value, detailPEVCById.company_value, "");Set(divestmentCompanyValue, Blank()),
                Set(divestmentCompanyValue, ModifiedText));
                // divestmentPricePerShareValue
                Set(OriginalText, Substitute(detailPEVCById.price_per_share, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.price_per_share, detailPEVCById.price_per_share, "");Set(divestmentPricePerShareValue, Blank()),
                Set(divestmentPricePerShareValue, ModifiedText));
                // divestmentTotalGrossValue
                Set(OriginalText, Substitute(detailPEVCById.total_gross_sales_proceeds, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.total_gross_sales_proceeds, detailPEVCById.total_gross_sales_proceeds, "");Set(divestmentTotalGrossValue, Blank()),
                Set(divestmentTotalGrossValue, ModifiedText));
                // divestmentExpectedFeeValue
                Set(OriginalText, Substitute(detailPEVCById.expected_fee, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.expected_fee, detailPEVCById.expected_fee, "");
                Set(divestmentExpectedFeeValue, Blank()),
                Set(divestmentExpectedFeeValue, ModifiedText));
                // divestmentEquityPortionValue
                Set(OriginalText, Substitute(detailPEVCById.divested_equity, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.divested_equity, detailPEVCById.divested_equity, "");
                Set(divestmentEquityPortionValue, Blank()),
                Set(divestmentEquityPortionValue, ModifiedText));
                // divestmentDebtPortionValue
                Set(OriginalText, Substitute(detailPEVCById.divested_debt, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.divested_debt, detailPEVCById.divested_debt, "");
                Set(divestmentDebtPortionValue, Blank()),
                Set(divestmentDebtPortionValue, ModifiedText));
                // divestmentOwnershipValue
                Set(OriginalText, Substitute(detailPEVCById.divested_percentage_ownership, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.divested_percentage_ownership, detailPEVCById.divested_percentage_ownership, "");
                Set(divestmentOwnershipValue, Blank()),
                Set(divestmentOwnershipValue, ModifiedText));,
                
                
                // Pre-Divestment
                // prePrimaryShareValue
                // divestmentCompanyValue
                Set(OriginalText, Substitute(detailPEVCById.company_value, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.company_value, detailPEVCById.company_value, "");Set(divestmentCompanyValue, Blank()),
                Set(divestmentCompanyValue, ModifiedText));
                Set(OriginalText, Substitute(detailPEVCById.primary_shares, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.primary_shares, detailPEVCById.primary_shares, "");Set(prePrimaryShareValue, Blank()),
                Set(prePrimaryShareValue, ModifiedText));
                // preSecondaryShareValue
                Set(OriginalText, Substitute(detailPEVCById.secondary_shares, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.secondary_shares, detailPEVCById.secondary_shares, "");Set(preSecondaryShareValue, Blank()),
                Set(preSecondaryShareValue, ModifiedText));
                // preDebtPortionValue
                Set(OriginalText, Substitute(detailPEVCById.debt_portion, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.debt_portion, detailPEVCById.debt_portion, "");Set(preDebtPortionValue, Blank()),
                Set(preDebtPortionValue, ModifiedText));
                // preInterestRateValue
                Set(OriginalText, Substitute(detailPEVCById.interest_rate, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.interest_rate, detailPEVCById.interest_rate, "");Set(preInterestRateValue, Blank()),
                Set(preInterestRateValue, ModifiedText));
                // preMaturityValue
                Set(OriginalText, Substitute(detailPEVCById.maturity, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.maturity, detailPEVCById.maturity, "");Set(preMaturityValue, Blank()),
                Set(preMaturityValue, ModifiedText));
                // preCompanyPreValue
                Set(OriginalText, Substitute(detailPEVCById.company_pre_money_valuation, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.company_pre_money_valuation, detailPEVCById.company_pre_money_valuation, "");Set(preCompanyPreValue, Blank()),
                Set(preCompanyPreValue, ModifiedText));
                // preCompanyPostValue
                Set(OriginalText, Substitute(detailPEVCById.company_post_money_valuation, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.company_post_money_valuation, detailPEVCById.company_post_money_valuation, "");Set(preCompanyPostValue, Blank()),
                Set(preCompanyPostValue, ModifiedText));
                // preOwnershipValue
                Set(OriginalText, Substitute(detailPEVCById.percentage_ownership, ",", ""));
                Set(FirstDotIndex, Find(".", OriginalText));Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.percentage_ownership, detailPEVCById.percentage_ownership, "");Set(preOwnershipValue, Blank()),
                Set(preOwnershipValue, ModifiedText));
                )
            Text: ="Button"
            Visible: =false
            X: =120
            Y: =120
            ZIndex: =54

        Button2_7 As button:
            Font: =Font.Arial
            OnSelect: |-
                =Set(ShowNotificationCheck, "ACCESS_DENIED_IR");
                Navigate(WelcomePage, ScreenTransition.Fade)
            Text: ="Button"
            Visible: =false
            X: =60
            Y: =60
            ZIndex: =55

        RefreshDataAfterSubmit As button:
            Font: =Font.Arial
            OnSelect: |-
                =If(!isSaveFromApprove, Set(IsError, false);Set(NoticationText,"Submitted successfully!");UpdateContext({ShowNotification: true}));
                If(isDivestment,
                    Concurrent(
                        Set(pevcNoteFileLog, 'TVS->GetNoteFileLogDivestment-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                        Set(detailPEVCById, 'TVS->FindByIdPEVCDivestmentProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                        ClearCollect(listDealPEVC,'TVS->GetDealEmployeeDivestment-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id));
                    );,
                    Concurrent(
                        Set(pevcNoteFileLog, 'TVS->GetNoteFileLog-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                        Set(detailPEVCById, 'TVS->FindByIdPEVCPreProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id, envDEV, envTEST, envUAT1, envUAT2)),
                        ClearCollect(listDealPEVC,'TVS->GetDealEmployee-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id))
                    );
                );
                Set(prePEVCInfoEdit, detailPEVCById);
                Set(PEVCgroups, pevcNoteFileLog.group);
                Set(PEVClogs, pevcNoteFileLog.log);
                Select(FilterVoteResult_Detail);
                Set(calledFindByID, true);
                Select(SetShowHideButtonsById);
                Select(UpdateIsDisable);
                Select(UpdateNotes);
                Set(pevcAction, Blank());
                Set(isSaveFromApprove, false);
                Set(pevcUpdateStatusRes, Blank());
                Reset(NEW_LEAD_CREATION_Att);Reset(NDA_APPROVAL_Att);Reset(COMPLETE_DISCUSSION_PAPER_Att);Reset(INVESTMENT_MEMO_PENDING_Att);Reset(COMPLETE_TERM_SHEET_Att);Reset(INVESTMENT_MEMO_Att);Reset(DD_CONTRACT_Att);Reset(LEGAL_CONTRACT_Att);Reset(INVESTMENT_CONTRACT_Att);Reset(COMPLETE_DISBURSEMENT_Att);Reset(APPROVE_RESOLUTIONS_Att);Reset(LEGAL_CONTRACTS_Att);Reset(APPROVE_THE_DIVESTMENT_CONTRACT_Att);Reset(COMPLETED_DIVESTMENT_Att);  Reset(APPROVE_RESOLUTION_Att);
                Select(SetUpProgressTree_Detail);
            Text: ="Button"
            Visible: =false
            X: =100
            Y: =100
            ZIndex: =56

        SetUpProgressTree_Detail As button:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            OnSelect: |-
                =// Setup tracking progress JSON for Son.Nguyen component
                ClearCollect(groupIC, Filter(PEVCgroups, group_team = "IC"));
                ClearCollect(groupISCVC, Filter(PEVCgroups, group_team = "ISC-VC"));
                ClearCollect(groupISCPE, Filter(PEVCgroups, group_team = "ISC-PE"));
                ClearCollect(PEVCGroupsObject, []);
                ClearCollect(listProgessPEVCForTracking, []);
                Set(action, If(IsEmpty(Filter(PEVClogs, status in ["COMPLETE_DISCUSSION_PAPER_PENDING_IC"] && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "",
                First(Filter(PEVClogs, status in ["COMPLETE_DISCUSSION_PAPER_PENDING_IC"] && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group));
                If(prePEVCInfoEdit.status in ["APPROVED", "REJECTED"],
                    Set(CurrentLevel, Last(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC)).level),
                    Set(CurrentLevel, First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), prePEVCInfoEdit.status in currentStatus)).level);
                );
                
                ForAll(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress,
                    Collect(listProgessPEVCForTracking,
                    {
                        Text: progress.Text,
                        Code: progress.Code,
                        level: progress.level,
                        subTitle: {
                            name: If(
                            !("_IC" in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                            !(If(isDivestment, "_ISC_VC", "_ISCVC") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                            !(If(isDivestment, "_ISC_PE", "_ISCPE") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status),
                            Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).name_employee,
                            !(progress.shortStatus&"_PENDING_IC" in progress.currentStatus),
                            Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).name_employee,
                            If( !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                                "ISC-VC, ISC-PE, IC",
                                IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                                "ISC-VC, ISC-PE",
                                IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                                "ISC-VC",
                                IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                                "ISC-PE",
                                !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                                "ISC-PE, IC",
                                !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)),
                                "ISC-VC, IC",
                                !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)),
                                "IC",
                                IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)),
                                "ISC-VC",
                                IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                                "ISC-PE",
                                ""
                            )),
                            action: If(!(progress.shortStatus&"_PENDING_IC" in progress.currentStatus),
                            If((Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status = "COMPLETE_DIVESTMENT_ATTACH_FILE" ||
                            Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status = "COMPLETE_DISBURSEMENT_ATTACH_FILE") && Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).action = "SUBMIT", "CLOSE",
                            Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).action
                            ),
                            !("_IC" in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                            !(If(isDivestment, "_ISC_VC", "_ISCVC") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                            !(If(isDivestment, "_ISC_PE", "_ISCPE") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status),
                            Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).action,
                            If(IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status && IsBlank(is_not_action))),
                                If(Value(CurrentLevel) > Value(progress.level), "APPROVE", ""),
                                First(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status && IsBlank(is_not_action))).action
                            )),
                            time: Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).created_date), "dd/mm/yyyy")
                        },
                        actionLogs: Filter(Sort(PEVClogs, created_date), status in progress.currentStatus),
                        clickScreen: progress.clickScreen,
                        currentStatus: progress.currentStatus,
                        activeArray: progress.activeArray,
                        statusLogFilter: progress.statusLogFilter,
                        Groups: [
                            {
                                groupName: "ISC-Debt",
                                showGroup: "ISC-VC" in detailPEVCById.level_of_approval && progress.Text in ["Complete Discussion Paper", "Investment Memo", "Investment Memo (adjusted)", "Proposed divestment", "Approve resolutions", "Approve resolution"] && If(Switch(
                                        If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)), "",
                                        First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "", !("ISC-VC" in detailPEVCById.group_rejected), true),
                                subTitle: {
                                    action: Switch(
                                        If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)), "",
                                        First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", ""),
                                    time: If(IsBlank(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_VC", "_ISCVC") in status)).created_date), "",
                                    Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_VC", "_ISCVC") in status)).created_date), "dd/mm/yyyy"))
                                },
                                children:
                                If(Switch(If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)), "", First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "",
                                    AddColumns(Filter(PEVCgroups, group_team = "ISC-VC") As gr,
                                        name, gr.name_user,
                                        action, Text(Last(Filter(Sort(PEVClogs, created_date) As logs,
                                            logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_VC", "_ISCVC") in logs.status)).action),
                                        time, Text(DateTimeValue(
                                            Last(Filter(Sort(PEVClogs, created_date) As logs,
                                                logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_VC", "_ISCVC") in logs.status
                                            )).created_date), "dd/mm/yyyy")
                                    ),
                                    AddColumns(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status),
                                        name, name_employee,
                                        time, Text(DateTimeValue(created_date), "dd/mm/yyyy")
                                    )
                                )
                            },
                            {
                                groupName: "ISC-Equity",
                                showGroup: "ISC-PE" in detailPEVCById.level_of_approval && progress.Text in ["Complete Discussion Paper", "Investment Memo", "Investment Memo (adjusted)", "Proposed divestment", "Approve resolutions", "Approve resolution"] && If(Switch(
                                        If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "",
                                        First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "", !("ISC-PE" in detailPEVCById.group_rejected), true),
                                subTitle: {
                                    action: Switch(
                                        If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "",
                                        First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", ""),
                                    time: If(IsBlank(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_PE", "_ISCPE") in status)).created_date), "",
                                    Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_PE", "_ISCPE") in status)).created_date), "dd/mm/yyyy"))
                                },
                                children:
                                If(Switch(If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "", First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "",
                                AddColumns(Filter(PEVCgroups, group_team = "ISC-PE") As gr,
                                    name, gr.name_user,
                                    action, Text(Last(Filter(Sort(PEVClogs, created_date) As logs,
                                        logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_PE", "_ISCPE") in logs.status)).action),
                                    time, Text(DateTimeValue(
                                                Last(Filter(Sort(PEVClogs, created_date) As logs,
                                                    logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_PE", "_ISCPE") in logs.status
                                                )).created_date), "dd/mm/yyyy")
                                ),
                                    AddColumns(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status),
                                        name, name_employee,
                                        time, Text(DateTimeValue(created_date), "dd/mm/yyyy")
                                    )
                                )
                            },
                            {
                                groupName: "IC",
                                showGroup: "IC" in detailPEVCById.level_of_approval && progress.Text in ["Complete Discussion Paper", "Investment Memo", "Investment Memo (adjusted)", "Proposed divestment", "Approve resolutions", "Approve resolution"],
                                subTitle: {
                                    action: Switch(
                                        If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)), "",
                                        First(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", ""),
                                    time: If(IsBlank(Last(Filter(Sort(PEVClogs, created_date), "IC" in status)).created_date), "",
                                    Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), "IC" in status)).created_date), "dd/mm/yyyy"))
                                },
                                children:
                                If(Switch(If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)), "", First(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)).status_group),
                                    "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "",
                                AddColumns(Filter(PEVCgroups, group_team = "IC") As gr,
                                    name, gr.name_user,
                                    action, Text(Last(Filter(Sort(PEVClogs, created_date) As logs,
                                        logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && "_IC" in logs.status)).action),
                                    time, Text(DateTimeValue(
                                                Last(Filter(Sort(PEVClogs, created_date) As logs,
                                                    logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && "_IC" in logs.status
                                                )).created_date), "dd/mm/yyyy")
                                ),
                                    AddColumns(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status),
                                        name, name_employee,
                                        time, Text(DateTimeValue(created_date), "dd/mm/yyyy")
                                    )
                                )
                            }
                        ]
                    }
                    );
                );
                
                Set(dealTypeSelectedValue, detailPEVCById.deal_type);
            Text: ="Button"
            Visible: =false
            X: =1119
            Y: =216
            ZIndex: =57

        FilterVoteResult_Detail As button:
            Font: =Font.Arial
            OnSelect: |-
                =ClearCollect(voteLogs, Sort(PEVClogs, created_date, SortOrder.Descending));
                ClearCollect(voteResult, []);
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "COMPLETE_DISCUSSION_PAPER_PENDING_ISCVC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "COMPLETE_DISCUSSION_PAPER_PENDING_ISCPE")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "COMPLETE_DISCUSSION_PAPER_PENDING_IC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_PENDING_ISCVC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_PENDING_ISCPE")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_PENDING_IC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_ADJUSTED_PENDING_ISCVC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_ADJUSTED_PENDING_ISCPE")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_ADJUSTED_PENDING_IC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISCVC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISCPE")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_IC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "PROPOSED_DIVESTMENT_PENDING_ISC_PE")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "PROPOSED_DIVESTMENT_PENDING_ISC_VC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "PROPOSED_DIVESTMENT_PENDING_IC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISC_PE")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISC_VC")));
                Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_IC")));
            Text: ="Button"
            Visible: =false
            X: =1064
            Y: =190
            ZIndex: =58

    SubHeaderGroup_6 As group:
        Height: =5
        Width: =5
        X: =140
        Y: =140
        ZIndex: =59

        SubHeaderBg_10 As rectangle:
            BorderColor: =RGBA(255, 255, 255, 1)
            Fill: =RGBA(255, 255, 255, 1)
            Height: =56
            Width: =Parent.Width - If(Parent.Width > 800, If(MobileShowMenu, 240, 50), 0)
            X: =If(App.Width > 800, If(MobileShowMenu, 240, 50), 0)
            Y: =56
            ZIndex: =3

        IconBack_10 As icon.ArrowLeft:
            Color: =RGBA(0, 0, 0, 1)
            Height: =If(App.Width > 600, 25, 15)
            Icon: =If(App.Width > 600, Icon.ArrowLeft, Icon.ChevronLeft)
            OnSelect: |-
                =//Reset Field
                If(!IsBlank(oldDealDetailTab), Set(DealDetailTab, Switch(oldDealDetailTab, 2,2, 3,3, 1)), Set(DealDetailTab, 1));
                Navigate(TablePEVC, ScreenTransition.Fade);
            Width: =If(App.Width > 600, 25, 25)
            X: =SubHeaderBg_10.X + If(App.Width > 800, 5, 0)
            Y: =SubHeaderBg_10.Y + If(App.Width > 600, 16, 20)
            ZIndex: =4

        LabelTitle_6 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Height: =19
            Size: =If(App.Width > 600, 10.5, 9)
            Text: |-
                =If(IsBlank(prePEVCInfoEdit), "", prePEVCInfoEdit.id&" - "&dealTypeSelectedValue&" - "&
                If(IsBlank(CompanyNameSelectedValue),
                    prePEVCInfoEdit.company_name,
                    First(Filter(companyPEVC, id_company = CompanyNameSelectedValue)).company_name)
                )
            Tooltip: =If(Len(Self.Text) > 100, Self.Text, "")
            Width: =If(SaveButton_9.Visible, SaveButton_9.X, btnReject_6.Visible, btnReject_6.X, btnSubmit_6.X + btnSubmit_6.Width) - Self.X
            Wrap: =false
            X: =If(App.Width > 600, IconBack_10.X + IconBack_10.Width + 10, BackMobile_Label_7.X + BackMobile_Label_7.Width)
            Y: =IconBack_10.Y - If(App.Width > 600, 5, 8)
            ZIndex: =5

        LabelSubTitle_6 As label:
            Font: =Font.Arial
            Height: =19
            Size: =If(App.Width > 600, 10.5, 9)
            Text: |-
                =If(App.Width > 600, "Last edited user: ", "") & If(IsBlank(detailPEVCById), currenUserV2.name
                , detailPEVCById.write_by) &" "& If(IsBlank(detailPEVCById), Text(Now(), "dd/mm/yyyy hh:mm:ss"), Text(DateTimeValue(detailPEVCById.write_date),"dd/mm/yyyy hh:mm:ss")) &""
            Width: =LabelTitle_6.Width
            Wrap: =false
            X: =LabelTitle_6.X
            Y: =LabelTitle_6.Y + LabelTitle_6.Height
            ZIndex: =6

        SaveButton_9 As htmlViewer:
            BorderStyle: =BorderStyle.Solid
            Font: =Font.Arial
            Height: =50
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; border: 1px solid black; border-radius: 5px; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                  <path d=""M21 7V19C21 19.55 20.804 20.021 20.412 20.413C20.02 20.805 19.5493 21.0007 19 21H5C4.45 21 3.979 20.804 3.587 20.412C3.195 20.02 2.99934 19.5493 3 19V5C3 4.45 3.196 3.979 3.588 3.587C3.98 3.195 4.45067 2.99934 5 3H17L21 7ZM19 7.85L16.15 5H5V19H19V7.85ZM12 18C12.8333 18 13.5417 17.7083 14.125 17.125C14.7083 16.5417 15 15.8333 15 15C15 14.1667 14.7083 13.4583 14.125 12.875C13.5417 12.2917 12.8333 12 12 12C11.1667 12 10.4583 12.2917 9.875 12.875C9.29167 13.4583 9 14.1667 9 15C9 15.8333 9.29167 16.5417 9.875 17.125C10.4583 17.7083 11.1667 18 12 18ZM6 10H15V6H6V10ZM5 7.85V19V5V7.85Z"" fill=""#525252""/>
                </svg></div>"
            OnSelect: |-
                =UpdateContext({ShowNotification: false});
                // Set validate
                Set(isValidPEVC, true);
                Set(pevcDetailLastest, If(IsBlank(detailPEVCById), prePEVCInfoEdit, detailPEVCById));
                Set(isLazyload, true);
                
                If(isValidPEVC,
                    // Files
                    Clear(listAttachFileNonPrefix);
                    Clear(colAttachments);
                    Clear(listPEVCFileToSave);
                    ClearCollect(listAtt,
                        AddColumns(NEW_LEAD_CREATION_Att.Attachments, title, "NEW_LEAD_CREATION"),
                        AddColumns(APPROVE_RESOLUTION_Att.Attachments, title, "APPROVE_RESOLUTION"),
                        AddColumns(NEW_LEAD_CREATION_PENDING_Att.Attachments, title, "NEW_LEAD_CREATION_PENDING"),
                        AddColumns(NDA_APPROVAL_Att.Attachments, title, "NDA_APPROVAL"),
                        AddColumns(COMPLETE_DISCUSSION_PAPER_Att.Attachments, title, "COMPLETE_DISCUSSION_PAPER"),
                        AddColumns(INVESTMENT_MEMO_PENDING_Att.Attachments, title, "INVESTMENT_MEMO_PENDING"),
                        AddColumns(COMPLETE_TERM_SHEET_Att.Attachments, title, "COMPLETE_TERM_SHEET"),
                        AddColumns(INVESTMENT_MEMO_Att.Attachments, title, "INVESTMENT_MEMO"),
                        AddColumns(DD_CONTRACT_Att.Attachments, title, "DD_CONTRACT"),
                        AddColumns(LEGAL_CONTRACT_Att.Attachments, title, "LEGAL_CONTRACT"),
                        AddColumns(INVESTMENT_CONTRACT_Att.Attachments, title, "INVESTMENT_CONTRACT"),
                        AddColumns(COMPLETE_DISBURSEMENT_Att.Attachments, title, "COMPLETE_DISBURSEMENT"),
                        AddColumns(APPROVE_RESOLUTIONS_Att.Attachments, title, "APPROVE_RESOLUTIONS"),
                        AddColumns(LEGAL_CONTRACTS_Att.Attachments, title, "LEGAL_CONTRACTS"),
                        AddColumns(APPROVE_THE_DIVESTMENT_CONTRACT_Att.Attachments, title, "APPROVE_THE_DIVESTMENT_CONTRACT"),
                        AddColumns(COMPLETED_DIVESTMENT_Att.Attachments, title, "COMPLETED_DIVESTMENT")
                    );
                    ForAll(listAtt As att,
                    Collect(colAttachments,{Id:"",Date: nowV1,By: User().FullName,Name: att.Name, file_name: att.Name,NameGroup: att.Name,Value: att.Value,File: {file: {contentBytes: att.Value,name: att.Name, file_name: Text(Now(), "ddmmyyyy_hhmmss_") & att.Name}},IsDeleted:false,Size: "", stage: att.'data-ADB4D7A662F548B49FAC2B986E348A1Btitle', file_path: bucketPEVCAttach}));
                    ClearCollect(GroupedItems,GroupBy(colAttachments,NameGroup,Group));
                    ForAll(GroupedItems,Collect(listAttachFileNonPrefix,First(ThisRecord.Group)); );
                    UpdateIf(listAttachFileNonPrefix, true, {Name: Text(Now(), "ddmmyyyy_hhmmss_") & Name, file_name: Text(Now(), "ddmmyyyy_hhmmss_") & Name});
                    Collect(listPEVCFileToSave,listAttachFileNonPrefix);
                    // End files
                
                    // Note
                    ClearCollect(NoteDataPEVCToSend, []);
                    ClearCollect(NoteDataPEVCData,
                        Filter(note_NEW_LEAD_CREATION, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_NEW_LEAD_CREATION_PENDING, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_NDA_APPROVAL, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETE_DISCUSSION_PAPER, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_INVESTMENT_MEMO_PENDING, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETE_TERM_SHEET, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_INVESTMENT_MEMO, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_DD_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_LEGAL_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_INVESTMENT_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETE_DISBURSEMENT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_APPROVE_RESOLUTIONS, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_LEGAL_CONTRACTS, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_APPROVE_THE_DIVESTMENT_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETED_DIVESTMENT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_APPROVE_RESOLUTION, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old))
                    );
                    ForAll(NoteDataPEVCData, Collect(NoteDataPEVCToSend,{idNote: If(IsBlank(id_deal_note),"",id_deal_note),LabelNotedBy: ThisRecord.created_by,location: ThisRecord.location, screen: ThisRecord.screen,note: ThisRecord.note}));
                    // End Note
                
                    // Set data and call API
                    If(isDivestment,
                    // Divestment
                    Set(listPEVECInformation,
                    {
                        deal_1:{company_id:If(IsBlank(CompanyNameSelectedValue), "", CompanyNameSelectedValue),deal_type:If(IsBlank(dealTypeSelectedValue), "", dealTypeSelectedValue)},
                        divestment:{
                            industry: If(IsBlank(PEVC_IndustryValue_Label_1.Text), "", PEVC_IndustryValue_Label_1.Text),
                            company_value: If(IsBlank(Divestment_CompanyValue_Input.Text), "", Divestment_CompanyValue_Input.Text),
                            price_per_share: If(IsBlank(Divestment_PriceOerShare_Input.Text), "", Divestment_PriceOerShare_Input.Text),
                            total_gross_sales_proceeds: If(IsBlank(Divestment_TotalGrossSalesProceeds_Input.Text), "", Divestment_TotalGrossSalesProceeds_Input.Text),
                            buyer: If(IsBlank(Divestment_Buyer_Input.Text), "", Divestment_Buyer_Input.Text),
                            expected_fee: If(IsBlank(Divestment_ExpectedFee_Input.Text), "", Divestment_ExpectedFee_Input.Text),
                            expected_ending_time: If(IsBlank(ExpectedEndingTime_Datepicker.SelectedDate), "", Text(ExpectedEndingTime_Datepicker.SelectedDate, "yyyy-mm-dd")),
                            level_of_approval: If(IsEmpty(levelOfApprovalList), "",Left(Concat(levelOfApprovalList, Value & "#"), Len(Concat(levelOfApprovalList, Value & "#")) - 1)),
                            divested_equity: If(IsBlank(Divestment_EquityPortion_Input.Text), "", Divestment_EquityPortion_Input.Text),
                            divested_debt: If(IsBlank(Divestment_DebtPortion_Input.Text), "", Divestment_DebtPortion_Input.Text),
                            divested_percentage_ownership: If(IsBlank(Divestment_Ownership_Input.Text), "", Divestment_Ownership_Input.Text),
                            accumulated_cost_of_equity_portion: If(IsBlank(PEVC_CompanyName_Label_19.Text), "0", PEVC_CompanyName_Label_19.Text),
                            accumulated_cost_of_debt_portion: If(IsBlank(PEVC_CompanyName_Label_20.Text), "0", PEVC_CompanyName_Label_20.Text),
                            accumulated_cost_of_percentage_ownership: If(IsBlank(PEVC_CompanyName_Label_21.Text), "0", PEVC_CompanyName_Label_21.Text)
                        },
                        file_insert: UpdateIf(listPEVCFileToSave, true, {FilePath: urlUploadPEVCHead & file_name, Container: bucketPEVCAttach}),
                        file_delete:pevcListDeleteFiles,
                        pevc_note:NoteDataPEVCToSend,
                        estimated_dd_fee: If(IsBlank(DD_CONTRACT_Fee_Input.Text), "", DD_CONTRACT_Fee_Input.Text),
                        estimated_legal_fee: If(IsBlank(LEGAL_CONTRACT_Fee_Input.Text), "", LEGAL_CONTRACT_Fee_Input.Text),
                        stage: "",
                        deal_status: pevcDealStatus,
                        deal_main_procedure: ""
                    });
                    If(IsBlank(prePEVCInfoEdit),Set(listInsertPrePevc,"0"),Set(listInsertPrePevc,If(pevcDetailLastest.status in ["PROPOSED_DIVESTMENT_NEW"],"1,2,3,4,5,6","1,2,3,4,5,6")));
                    Set(isLoading, true);
                    // Call API here
                    Set(resPrePevcCreate,'TVS->CreateAndUpdatePEVCDivestment-V1.2'.Run(
                        resKeyOpenAll.open,resKeyOpenAll.close,
                        JSON(listPEVECInformation,JSONFormat.IndentFour),
                        currenUserV2.id,
                        If("PENDING_MANAGER" in prePEVCInfoEdit.status && !IsBlank(pevcUpdateStatusRes), pevcUpdateStatusRes.status, If(IsBlank(prePEVCInfoEdit),"",pevcDetailLastest.status)),
                        If(IsBlank(prePEVCInfoEdit),"0",prePEVCInfoEdit.id),
                        false, // isSubmit
                        listInsertPrePevc, If(Self.Visible, 1, 0)));
                
                    If(resPrePevcCreate.status="200",
                        Set(prePEVCInfoEdit,{id:resPrePevcCreate.id,status:resPrePevcCreate.statusupdate});
                        // Set(currentStatus, resPrePevcCreate.statusupdate);
                        Set(PEVCCurrentStatus, resPrePevcCreate.statusupdate);
                        // Upload files to folder
                        ForAll(listPEVCFileToSave,
                            If(IsBlank(ThisRecord.Id)&&!ThisRecord.IsDeleted,AzureBlobStorage.CreateFile(bucketPEVCAttach,ThisRecord.file_name,ThisRecord.Value)));,
                        // create update error
                        Set(IsError, true);Set(NoticationText,"This deal has been processed by another user, please reload this page.");
                        UpdateContext({ShowNotification: true});
                    );
                    ,
                
                    // Pre-divestment
                    Set(listPEVECInformation,
                    {
                        deal_1:{company_id:If(IsBlank(CompanyNameSelectedValue), "", CompanyNameSelectedValue),deal_type:If(IsBlank(dealTypeSelectedValue), "", dealTypeSelectedValue)},
                        deal_2:{
                            primary_shares:If(IsBlank(PEVC_PrimaryShare_Input.Text), "", PEVC_PrimaryShare_Input.Text),
                            secondary_shares:If(IsBlank(PEVC_SecondaryShare_Input.Text), "", PEVC_SecondaryShare_Input.Text),
                            debt_portion:If(IsBlank(PEVC_DebtPortion_Input.Text), "", PEVC_DebtPortion_Input.Text),
                            interest_rate:If(IsBlank(PEVC_InterestRate_Input.Text), "", PEVC_InterestRate_Input.Text),
                            maturity:If(IsBlank(PEVC_Maturity_Input.Text), "", PEVC_Maturity_Input.Text),
                            company_pre_money_valuation:If(IsBlank(PEVC_CompanyPost_Input.Text), "", PEVC_CompanyPost_Input.Text),
                            company_post_money_valuation:If(IsBlank(PEVC_CompanyPre_Input.Text), "", PEVC_CompanyPre_Input.Text),
                            equity_portion:If(IsBlank(PEVC_EquityPortion_Input.Text), "", PEVC_EquityPortion_Input.Text),
                            percentage_ownership:If(IsBlank(PEVC_PercentOwnership_Input.Text), "", PEVC_PercentOwnership_Input.Text),
                            level_of_approval: If(IsEmpty(levelOfApprovalList), "",Left(Concat(levelOfApprovalList, Value & "#"), Len(Concat(levelOfApprovalList, Value & "#")) - 1))
                        },
                        file_insert: UpdateIf(listPEVCFileToSave, true, {FilePath: urlUploadPEVCHead & file_name, Container: bucketPEVCAttach}),
                        file_delete:pevcListDeleteFiles,
                        note:NoteDataPEVCToSend,
                        deal_status: pevcDealStatus,
                        estimate_dd_fee: If(IsBlank(DD_CONTRACT_Fee_Input.Text), "", DD_CONTRACT_Fee_Input.Text),
                        dd_legal_fee: If(IsBlank(LEGAL_CONTRACT_Fee_Input.Text), "", LEGAL_CONTRACT_Fee_Input.Text)
                    });
                
                   If(IsBlank(prePEVCInfoEdit),Set(listInsertPrePevc,"0"),
                        Set(listInsertPrePevc,"1,2,3,4,5,6")
                    ); 
                
                    Set(isLoading, true);
                    // Call API here
                    Set(resPrePevcCreate,'TVS->CreateUpdatePevcDealInfo-V1'.Run(
                        resKeyOpenAll.open,resKeyOpenAll.close,JSON(listPEVECInformation,JSONFormat.IndentFour),
                        If(IsBlank(prePEVCInfoEdit),"0",prePEVCInfoEdit.id),envDEV,envTEST,envUAT1,envUAT2,currenUserV2.id,
                        If("PENDING_MANAGER" in prePEVCInfoEdit.status && !IsBlank(pevcUpdateStatusRes), pevcUpdateStatusRes.status, If(IsBlank(prePEVCInfoEdit),"",pevcDetailLastest.status)),
                        false,listInsertPrePevc, If(Self.Visible, 1, 0)));
                
                    If(resPrePevcCreate.status="200",
                        Set(prePEVCInfoEdit,{id:resPrePevcCreate.id,status:resPrePevcCreate.statusupdate});
                        // Set(currentStatus, resPrePevcCreate.statusupdate);
                        Set(PEVCCurrentStatus, resPrePevcCreate.statusupdate);
                        // Upload files to folder
                        ForAll(listPEVCFileToSave,
                            If(IsBlank(ThisRecord.Id)&&!ThisRecord.IsDeleted,AzureBlobStorage.CreateFile(bucketPEVCAttach,ThisRecord.file_name,ThisRecord.Value)));,
                        // create update error
                        Set(IsError, true);Set(NoticationText,"This deal has been processed by another user, please reload this page.");
                        UpdateContext({ShowNotification: true});
                    );
                ));
                If(currentStatus = "BLANK", Set(roleDealUserCurrent, "deal_lead"));
                
                // Set show/hide buttons
                Set(calledFindByID, true);
                Select(SetShowHideButtonsById);
                
                If(isSaveFromApprove && resPrePevcCreate.status = "200", Navigate(TablePEVC));
                
                If(resPrePevcCreate.status = "200",
                    // If(!isSaveFromApprove, Set(IsError, false);Set(NoticationText,"Saved successfully!");UpdateContext({ShowNotification: true}));
                    If(isDivestment,
                        Concurrent(
                            Set(pevcNoteFileLog, 'TVS->GetNoteFileLogDivestment-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                            Set(detailPEVCById, 'TVS->FindByIdPEVCDivestmentProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                            ClearCollect(listDealPEVC,'TVS->GetDealEmployeeDivestment-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id));
                        );,
                        Concurrent(
                            Set(pevcNoteFileLog, 'TVS->GetNoteFileLog-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                            Set(detailPEVCById, 'TVS->FindByIdPEVCPreProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id, envDEV, envTEST, envUAT1, envUAT2)),
                            ClearCollect(listDealPEVC,'TVS->GetDealEmployee-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id))
                        );
                    );
                    Set(prePEVCInfoEdit, detailPEVCById);
                    Select(SetNumberFormatVariables);
                    Set(calledFindByID, true);
                    Select(SetShowHideButtonsById);
                    Select(UpdateIsDisable);
                    Select(UpdateNotes);
                );
                Set(pevcAction, Blank());
                Set(isSaveFromApprove, false);
                Set(pevcUpdateStatusRes, Blank());
                Reset(NEW_LEAD_CREATION_Att);Reset(NDA_APPROVAL_Att);Reset(COMPLETE_DISCUSSION_PAPER_Att);Reset(INVESTMENT_MEMO_PENDING_Att);Reset(COMPLETE_TERM_SHEET_Att);Reset(INVESTMENT_MEMO_Att);Reset(DD_CONTRACT_Att);Reset(LEGAL_CONTRACT_Att);Reset(INVESTMENT_CONTRACT_Att);Reset(COMPLETE_DISBURSEMENT_Att);Reset(APPROVE_RESOLUTIONS_Att);Reset(LEGAL_CONTRACTS_Att);Reset(APPROVE_THE_DIVESTMENT_CONTRACT_Att);Reset(COMPLETED_DIVESTMENT_Att);Reset(APPROVE_RESOLUTION_Att);Reset(NEW_LEAD_CREATION_PENDING_Att);
                Set(isLazyload, false);
                Set(isLoading, false);
                If(resPrePevcCreate.status = "200",
                    If(!isSaveFromApprove, Set(IsError, false);Set(NoticationText,"Saved successfully!");UpdateContext({ShowNotification: true}));
                );
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: |-
                =(isShowSaveButton &&
                If(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).Text = "NDA Approval",
                IsBlank(Menu3LevelControl1) || Menu3LevelControl1.Data.Text in ["New Lead Creation", "NDA Approval"],
                currentStatus in First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).currentStatus) ||
                (( // Hide button if PEVCCurrentStatus level > selected Screen level
                    // PEVCCurrentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW", "PROPOSED_DIVESTMENT_NEW"] ||
                Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).level) >
                Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress, currentStatus in progress.currentStatus)).level)
                ) && (isOwner || isDirectorPEVCUser || isLeadOrSpPEVC) && Value(First(Filter(If(isDivestment,listProgessDivestmentPEVC,listProgessPEVC) As progress, currentStatus in progress.currentStatus)).level) > 0)
                ) &&
                If(Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).level) >
                Value(First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress, currentStatus in progress.currentStatus)).level) &&
                !IsBlank(Menu3LevelControl1) && Menu3LevelControl1.Data.Text in ["Complete Discussion Paper", "Investment Memo", "Investment Memo (adjusted)", "Proposed dievestment"],
                false, true)
            Width: =43
            X: =If(btnReject_6.Visible, btnReject_6.X, btnSubmit_6.Visible, btnSubmit_6.X, btnSubmit_6.X + btnSubmit_6.Width + 10 ) - Self.Width - 8
            Y: =btnReject_6.Y + If(App.Width > 600, 1, 0)
            ZIndex: =7

        btnSubmit_6 As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(17, 79, 144, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Lighter
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =UpdateContext({ShowNotification: false});
                Set(isSubmited, true);
                Set(pevcDetailLastest, If(IsBlank(detailPEVCById), prePEVCInfoEdit, detailPEVCById));
                Set(willGoToTable, true);
                
                Set(totalOwnership, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_percentage_ownership_investment_cost);
                Set(divestOwnership, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_divested_percentage_ownership);
                
                Set(percentOwnership,
                Value(If(isDotFormat, totalOwnership, Substitute(totalOwnership, ".", ","))) - Value(If(isDotFormat, divestOwnership, Substitute(divestOwnership, ".", ","))));
                
                If(!isDivestment,
                    If(IsBlank(pevcAction),
                        If( PEVCCurrentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW", "NDA_APPROVAL_ATTACH_FILE", "INVESTMENT_MEMO_DONE", "DD_CONTRACT_ATTACH_FILE", "INVESTMENT_CONTRACT_ATTACH_FILE", "LEGAL_CONTRACT_ATTACH_FILE"], Set(pevcDealStatus, "Draft"),
                            PEVCCurrentStatus in ["COMPLETE_DISBURSEMENT_ATTACH_FILE"], Set(pevcDealStatus, "Closed"),
                            Set(pevcDealStatus, "Pending approval");
                        );
                    );,
                    If(IsBlank(pevcAction),
                        If( PEVCCurrentStatus in ["BLANK", "APPROVE_RESOLUTION_ATTACH_FILE", "LEGAL_CONTRACT_ATTACH_FILE", "APPROVE_DIVESTMENT_CONTRACT_ATTACH_FILE"], Set(pevcDealStatus, "Draft"),
                            PEVCCurrentStatus in ["APPROVE_DIVESTMENT_CONTRACT_DONE"], Set(pevcDealStatus, "Closed"),
                            Set(pevcDealStatus, "Pending approval");
                        );
                    );
                );
                
                // Set validate
                Set(isValidPEVC, false);
                If(isDivestment,
                    Set(totalEquity, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_equity_investment_cost);
                    Set(totalDebt, First(Filter(investmentPortfolioList, company_name = PEVC_CompanyNameValue_Label_1.Text)).total_debt_investment_cost);
                    Switch(currentStatus,
                        "BLANK",
                        If( // Validate step 1
                            IsBlank(CompanyNameSelectedValue),Set(IsError, true); Set(NoticationText,"Company is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(dealTypeSelectedValue),Set(IsError, true); Set(NoticationText,"Deal type is required!"); UpdateContext({ShowNotification: true});,
                            !(CompanyDowndown_Input.Text in investmentPortfolioList.company_name),
                            Set(IsError, true); Set(NoticationText,"Customers have not been accepted to invest. Please check again?"); UpdateContext({ShowNotification: true});,
                            !(CompanyDowndown_Input.Text in investmentPortfolioList.company_name),
                            Set(IsError, true); Set(NoticationText,"Customers have not been accepted to invest. Please check again?"); UpdateContext({ShowNotification: true});,
                            "Equity" in dealTypeSelectedValue && !IsBlank(totalEquity) && totalEquity <= 0,
                            Set(IsError, true); Set(NoticationText,"Net Enquity is equal to 0, please check again!"); UpdateContext({ShowNotification: true});,
                            "Debt" in dealTypeSelectedValue && !IsBlank(totalDebt) && totalDebt <= 0,
                            Set(IsError, true); Set(NoticationText,"Net Debt is equal to 0, please check again!"); UpdateContext({ShowNotification: true});,
                            Set(isValidPEVC, true));,
                        "PROPOSED_DIVESTMENT_NEW",
                        If( // Validate step 2,
                            IsBlank(CompanyNameSelectedValue),Set(IsError, true); Set(NoticationText,"Company is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(Divestment_CompanyValue_Input.Text)), Set(IsError, true); Set(NoticationText,"Company is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(Divestment_PriceOerShare_Input.Text)),Set(IsError, true);Set(NoticationText,"Price per share is required!");UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(Divestment_TotalGrossSalesProceeds_Input.Text)), Set(IsError, true); Set(NoticationText,"Total gross sales proceeds is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(Divestment_Buyer_Input.Text)), Set(IsError, true); Set(NoticationText,"Buyer is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(Divestment_ExpectedFee_Input.Text)),Set(IsError, true);Set(NoticationText,"Expected fee is required!");UpdateContext({ShowNotification: true});,
                            IsBlank(ExpectedEndingTime_Datepicker.SelectedDate),Set(IsError, true);Set(NoticationText,"Expected ending time is required!");UpdateContext({ShowNotification: true});,
                            IsEmpty(levelOfApprovalList),
                            Set(IsError, true); Set(NoticationText,"Level of approval is required!"); UpdateContext({ShowNotification: true});,
                            dealTypeSelectedValue = "Equity & Debt" && !(("ISC-VC" in levelOfApprovalList && "ISC-PE" in levelOfApprovalList && !("IC" in levelOfApprovalList))
                            || ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))),
                            Set(IsError, true); Set(NoticationText,"Level of approval is not matched with deal type!"); UpdateContext({ShowNotification: true});,
                            dealTypeSelectedValue = "Equity" && !(
                                ("ISC-PE" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("IC" in levelOfApprovalList)) ||
                                ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))
                            ),
                            Set(IsError, true); Set(NoticationText,"Level of approval is not matched with deal type!"); UpdateContext({ShowNotification: true});,
                            dealTypeSelectedValue = "Debt" && !(
                                ("ISC-VC" in levelOfApprovalList && !("ISC-PE" in levelOfApprovalList) && !("IC" in levelOfApprovalList)) ||
                                ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))
                            ),
                            Set(IsError, true); Set(NoticationText,"Level of approval is not matched with deal type!"); UpdateContext({ShowNotification: true});,
                            Value(If(isDotFormat, PEVC_CompanyName_Label_14.Text, Substitute(PEVC_CompanyName_Label_14.Text, ".", ","))) < 0 ||
                            Value(If(isDotFormat, PEVC_CompanyName_Label_15.Text, Substitute(PEVC_CompanyName_Label_15.Text, ".", ","))) < 0 ||
                            Value(If(isDotFormat, PEVC_CompanyName_Label_16.Text, Substitute(PEVC_CompanyName_Label_16.Text, ".", ","))) < 0,
                            Set(IsError, true); Set(NoticationText,"The cost of divested portions (USD) is invalid. Please check again!"); UpdateContext({ShowNotification: true});,
                            Set(isValidPEVC, true);
                        );,
                        Set(isValidPEVC, true);
                    ),
                    Switch(currentStatus,
                        "BLANK",
                        If( // Validate step 1
                            IsBlank(CompanyNameSelectedValue),Set(IsError, true); Set(NoticationText,"Company is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(dealTypeSelectedValue),Set(IsError, true); Set(NoticationText,"Deal type is required!"); UpdateContext({ShowNotification: true});,
                            Set(isValidPEVC, true);
                        );,
                        "NEW_LEAD_CREATION_NEW",
                        If( // Validate step 2
                            IsBlank(CompanyNameSelectedValue),Set(IsError, true); Set(NoticationText,"Company is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(PEVC_DealValue_Input.Text)), Set(IsError, true); Set(NoticationText,"Deal value is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(PEVC_EquityPortion_Input.Text)), Set(IsError, true); Set(NoticationText,"Equity portion is required!"); UpdateContext({ShowNotification: true});,
                            PEVC_PrimaryShare_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_PrimaryShare_Input.Text)),
                            Set(IsError, true); Set(NoticationText,"Primary share is required!"); UpdateContext({ShowNotification: true});,
                            PEVC_SecondaryShare_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_SecondaryShare_Input.Text)),
                            Set(IsError, true);Set(NoticationText,"Secondary share is required!"); UpdateContext({ShowNotification: true});,
                            PEVC_DebtPortion_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_DebtPortion_Input.Text)),
                            Set(IsError, true); Set(NoticationText,"Debt portion is required!"); UpdateContext({ShowNotification: true});,
                            PEVC_InterestRate_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_InterestRate_Input.Text)),
                            Set(IsError, true); Set(NoticationText,"Interest rate is required!"); UpdateContext({ShowNotification: true});,
                            PEVC_InterestRate_Input.DisplayMode = DisplayMode.Edit &&
                            Value(If(isDotFormat, PEVC_InterestRate_Input.Text, Substitute(PEVC_InterestRate_Input.Text, ".", ","))) > 100,
                            Set(IsError, true); Set(NoticationText,"Interest rate maximum 100%!"); UpdateContext({ShowNotification: true});,
                            PEVC_Maturity_Input.DisplayMode = DisplayMode.Edit && IsBlank(Trim(PEVC_Maturity_Input.Text)),
                            Set(IsError, true); Set(NoticationText,"Maturity is required!"); UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(PEVC_CompanyPre_Input.Text)), Set(IsError, true); Set(NoticationText,"Company Pre-money Valuation is required!");
                            UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(PEVC_CompanyPost_Input.Text)), Set(IsError, true); Set(NoticationText,"Company Post-money Valuation is required!");
                            UpdateContext({ShowNotification: true});,
                            IsBlank(Trim(PEVC_PercentOwnership_Input.Text)), Set(IsError, true); Set(NoticationText,"Percentage Ownership is required!");,
                            (Value(If(isDotFormat, PEVC_PercentOwnership_Input.Text, Substitute(PEVC_PercentOwnership_Input.Text, ".", ","))) +
                            Value(If(IsBlank(percentOwnership), "0", If(isDotFormat, percentOwnership, Substitute(percentOwnership, ".", ","))))) > 100,
                            Set(IsError, true);
                            Set(NoticationText,"The ownership percentage is over the limit. Please check again in the Investment Portfolio list!");
                            UpdateContext({ShowNotification: true});,
                            IsEmpty(levelOfApprovalList), Set(IsError, true); Set(NoticationText,"Level of approval is required!"); UpdateContext({ShowNotification: true});,
                            dealTypeSelectedValue = "Equity & Debt" && !(("ISC-VC" in levelOfApprovalList && "ISC-PE" in levelOfApprovalList && !("IC" in levelOfApprovalList))
                            || ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))),
                            Set(IsError, true); Set(NoticationText,"Level of approval is not matched with deal type!"); UpdateContext({ShowNotification: true});,
                            dealTypeSelectedValue = "Equity" && !(
                                ("ISC-PE" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("IC" in levelOfApprovalList)) ||
                                ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))
                            ),
                            Set(IsError, true); Set(NoticationText,"Level of approval is not matched with deal type!"); UpdateContext({ShowNotification: true});,
                            dealTypeSelectedValue = "Debt" && !(
                                ("ISC-VC" in levelOfApprovalList && !("ISC-PE" in levelOfApprovalList) && !("IC" in levelOfApprovalList)) ||
                                ("IC" in levelOfApprovalList && !("ISC-VC" in levelOfApprovalList) && !("ISC-PE" in levelOfApprovalList))
                            ),
                            Set(IsError, true); Set(NoticationText,"Level of approval is not matched with deal type!"); UpdateContext({ShowNotification: true});,
                            Set(isValidPEVC, true);
                        );,
                        Set(isValidPEVC, true);
                    );
                );
                
                If(isValidPEVC,
                    // Files
                    Clear(listAttachFileNonPrefix);
                    Clear(colAttachments);
                    Clear(listPEVCFileToSave);
                    ClearCollect(listAtt,
                        AddColumns(NEW_LEAD_CREATION_Att.Attachments, title, "NEW_LEAD_CREATION"),
                        AddColumns(APPROVE_RESOLUTION_Att.Attachments, title, "APPROVE_RESOLUTION"),
                        AddColumns(NEW_LEAD_CREATION_PENDING_Att.Attachments, title, "NEW_LEAD_CREATION_PENDING"),
                        AddColumns(NDA_APPROVAL_Att.Attachments, title, "NDA_APPROVAL"),
                        AddColumns(COMPLETE_DISCUSSION_PAPER_Att.Attachments, title, "COMPLETE_DISCUSSION_PAPER"),
                        AddColumns(INVESTMENT_MEMO_PENDING_Att.Attachments, title, "INVESTMENT_MEMO_PENDING"),
                        AddColumns(COMPLETE_TERM_SHEET_Att.Attachments, title, "COMPLETE_TERM_SHEET"),
                        AddColumns(INVESTMENT_MEMO_Att.Attachments, title, "INVESTMENT_MEMO"),
                        AddColumns(DD_CONTRACT_Att.Attachments, title, "DD_CONTRACT"),
                        AddColumns(LEGAL_CONTRACT_Att.Attachments, title, "LEGAL_CONTRACT"),
                        AddColumns(INVESTMENT_CONTRACT_Att.Attachments, title, "INVESTMENT_CONTRACT"),
                        AddColumns(COMPLETE_DISBURSEMENT_Att.Attachments, title, "COMPLETE_DISBURSEMENT"),
                        AddColumns(APPROVE_RESOLUTIONS_Att.Attachments, title, "APPROVE_RESOLUTIONS"),
                        AddColumns(LEGAL_CONTRACTS_Att.Attachments, title, "LEGAL_CONTRACTS"),
                        AddColumns(APPROVE_THE_DIVESTMENT_CONTRACT_Att.Attachments, title, "APPROVE_THE_DIVESTMENT_CONTRACT"),
                        AddColumns(COMPLETED_DIVESTMENT_Att.Attachments, title, "COMPLETED_DIVESTMENT")
                    );
                    ForAll(listAtt As att,
                    Collect(colAttachments,{Id:"",Date: nowV1,By: User().FullName,Name: att.Name, file_name: att.Name,NameGroup: att.Name,Value: att.Value,File: {file: {contentBytes: att.Value,name: att.Name, file_name: Text(Now(), "ddmmyyyy_hhmmss_") & att.Name}},IsDeleted:false,Size: "", stage: att.'data-ADB4D7A662F548B49FAC2B986E348A1Btitle', file_path: bucketPEVCAttach}));
                    ClearCollect(GroupedItems,GroupBy(colAttachments,NameGroup,Group));
                    ForAll(GroupedItems,Collect(listAttachFileNonPrefix,First(ThisRecord.Group)); );
                    UpdateIf(listAttachFileNonPrefix, true, {Name: Text(Now(), "ddmmyyyy_hhmmss_") & Name, file_name: Text(Now(), "ddmmyyyy_hhmmss_") & Name});
                    Collect(listPEVCFileToSave,listAttachFileNonPrefix);
                    // End files
                
                    // Note
                    ClearCollect(NoteDataPEVCToSend, []);
                    ClearCollect(NoteDataPEVCData,
                        Filter(note_NEW_LEAD_CREATION, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_NEW_LEAD_CREATION_PENDING, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_NDA_APPROVAL, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETE_DISCUSSION_PAPER, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_INVESTMENT_MEMO_PENDING, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETE_TERM_SHEET, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_INVESTMENT_MEMO, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_DD_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_LEGAL_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_INVESTMENT_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETE_DISBURSEMENT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_APPROVE_RESOLUTIONS, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_LEGAL_CONTRACTS, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_APPROVE_THE_DIVESTMENT_CONTRACT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_COMPLETED_DIVESTMENT, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old)),
                        Filter(note_APPROVE_RESOLUTION, isSelected && Len(Trim(note)) > 0 && Trim(note) <> Trim(note_old))
                    );
                    ForAll(NoteDataPEVCData, Collect(NoteDataPEVCToSend,{idNote: id_deal_note,LabelNotedBy: ThisRecord.created_by,location: ThisRecord.location, screen: ThisRecord.screen,note: ThisRecord.note}));
                    // End Note
                
                    // Set status if note have files
                    If( PEVCCurrentStatus in ["COMPLETE_TERM_SHEET_DONE"] &&
                        IsEmpty(Filter(pevcNoteFileLog.file, stage = "DD_CONTRACT" && !(id in pevcListDeleteFiles.id))) &&
                        IsEmpty(listPEVCFileToSave),
                        Set(willGoToTable, false);
                        Set(pevcDealStatus, "Draft"),
                        !isDivestment && PEVCCurrentStatus in ["APPROVE_RESOLUTION_DONE"] &&
                        IsEmpty(Filter(pevcNoteFileLog.file, stage = "LEGAL_CONTRACT" && !(id in pevcListDeleteFiles.id))) &&
                        IsEmpty(listPEVCFileToSave),
                        Set(willGoToTable, false);
                        Set(pevcDealStatus, "Draft"),
                        isDivestment && PEVCCurrentStatus in ["APPROVE_RESOLUTION_DONE"] &&
                        IsEmpty(Filter(pevcNoteFileLog.file, stage = "LEGAL_CONTRACTS" && !(id in pevcListDeleteFiles.id))) &&
                        IsEmpty(listPEVCFileToSave),
                        Set(willGoToTable, false);
                        Set(pevcDealStatus, "Draft"),
                        Set(willGoToTable, true);
                    );
                    // Set data and call API
                    If(isDivestment,
                    // Divestment
                    Set(listPEVECInformation,
                    {
                        deal_1:{company_id:If(IsBlank(CompanyNameSelectedValue), "", CompanyNameSelectedValue),deal_type:If(IsBlank(dealTypeSelectedValue), "", dealTypeSelectedValue)},
                        divestment:{
                            industry: If(IsBlank(PEVC_IndustryValue_Label_1.Text), "", PEVC_IndustryValue_Label_1.Text),
                            company_value: If(IsBlank(Divestment_CompanyValue_Input.Text), "", Divestment_CompanyValue_Input.Text),
                            price_per_share: If(IsBlank(Divestment_PriceOerShare_Input.Text), "", Divestment_PriceOerShare_Input.Text),
                            total_gross_sales_proceeds: If(IsBlank(Divestment_TotalGrossSalesProceeds_Input.Text), "", Divestment_TotalGrossSalesProceeds_Input.Text),
                            buyer: If(IsBlank(Divestment_Buyer_Input.Text), "", Divestment_Buyer_Input.Text),
                            expected_fee: If(IsBlank(Divestment_ExpectedFee_Input.Text), "", Divestment_ExpectedFee_Input.Text),
                            expected_ending_time: If(IsBlank(ExpectedEndingTime_Datepicker.SelectedDate), "", Text(ExpectedEndingTime_Datepicker.SelectedDate, "yyyy-mm-dd")),
                            level_of_approval: If(IsEmpty(levelOfApprovalList), "",Left(Concat(levelOfApprovalList, Value & "#"), Len(Concat(levelOfApprovalList, Value & "#")) - 1)),
                            divested_equity: If(IsBlank(Divestment_EquityPortion_Input.Text), "0", Divestment_EquityPortion_Input.Text),
                            divested_debt: If(IsBlank(Divestment_DebtPortion_Input.Text), "0", Divestment_DebtPortion_Input.Text),
                            divested_percentage_ownership: If(IsBlank(Divestment_Ownership_Input.Text), "0", Divestment_Ownership_Input.Text),
                            accumulated_cost_of_equity_portion: If(IsBlank(PEVC_CompanyName_Label_19.Text), "0", PEVC_CompanyName_Label_19.Text),
                            accumulated_cost_of_debt_portion: If(IsBlank(PEVC_CompanyName_Label_20.Text), "0", PEVC_CompanyName_Label_20.Text),
                            accumulated_cost_of_percentage_ownership: If(IsBlank(PEVC_CompanyName_Label_21.Text), "0", PEVC_CompanyName_Label_21.Text)
                        },
                        file_insert: UpdateIf(listPEVCFileToSave, true, {FilePath: urlUploadPEVCHead & file_name, Container: bucketPEVCAttach}),
                        file_delete:pevcListDeleteFiles,
                        pevc_note:NoteDataPEVCToSend,
                        estimated_dd_fee: If(IsBlank(DD_CONTRACT_Fee_Input.Text), "", DD_CONTRACT_Fee_Input.Text),
                        estimated_legal_fee: If(IsBlank(LEGAL_CONTRACT_Fee_Input.Text), "", LEGAL_CONTRACT_Fee_Input.Text),
                        stage: "",
                        deal_status: pevcDealStatus,
                        deal_main_procedure: ""
                    });
                    If(IsBlank(prePEVCInfoEdit),Set(listInsertPrePevc,"0"),Set(listInsertPrePevc,If(pevcDetailLastest.status in ["PROPOSED_DIVESTMENT_NEW"],"1,2,3,4,5,6","1,2,3,4,5,6")));
                    Set(isLoading, true);
                    // Call API here
                    Set(resPrePevcCreate,'TVS->CreateAndUpdatePEVCDivestment-V1.2'.Run(
                        resKeyOpenAll.open,resKeyOpenAll.close,
                        JSON(listPEVECInformation,JSONFormat.IndentFour),
                        currenUserV2.id,
                        If(IsBlank(prePEVCInfoEdit),"",pevcDetailLastest.status),
                        If(IsBlank(prePEVCInfoEdit),"0",prePEVCInfoEdit.id),
                        true, // isSubmit
                        listInsertPrePevc, 1));
                    Set(isLoading, false);
                
                    If(resPrePevcCreate.status="200",
                        Set(ShowNotificationCheck,If(!IsBlank(prePEVCInfoEdit),If(Self.Text = "Done", "CLOSED_SUCCESS", "UPDATED_SUCCESS"),"CREATED_SUCCESS"));
                        Set(isSubmited, false);
                        Set(prePEVCInfoEdit,{id:resPrePevcCreate.id,status:resPrePevcCreate.statusupdate});
                        Set(currentStatus, resPrePevcCreate.statusupdate);
                        Set(PEVCCurrentStatus, resPrePevcCreate.statusupdate);
                        Set(pevcObjectToSendEmail, If(IsBlank(detailPEVCById), prePEVCInfoEdit, detailPEVCById));
                        // Send email here
                        Set(mailRes, 'TVS->SendNotiEmail-PrePEVC-V2'.Run(
                            resKeyOpenAll.open,resKeyOpenAll.close, Text(resPrePevcCreate.id), Text(resPrePevcCreate.statusupdate),
                            Text(LabelTitle_6.Text), Text(dealTypeSelectedValue),
                            Text(First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), Text(detailPEVCById.company_id), CompanyNameSelectedValue))).company_name),
                            "<a href='" & linkToApp & "?screen=detail-pevc&action=approve-pevc&pevc_id=" & Text(resPrePevcCreate.id) & If(isDivestment, "D", "P") & "'>Link</a>", appProperty, emailFromConfix,
                            Text(If(IsBlank(pevcObjectToSendEmail.create_id), currenUserV2.id, pevcObjectToSendEmail.create_id)), currenUserV2.id, currenUserV2.name,
                            If(IsBlank(pevcObjectToSendEmail.deal_main_procedure),"",pevcObjectToSendEmail.deal_main_procedure),
                            If(IsBlank(pevcObjectToSendEmail.status),"",pevcObjectToSendEmail.status), false, !isDivestment, false
                        ));
                        If(resPrePevcCreate.statusupdate <> "PROPOSED_DIVESTMENT_NEW" && willGoToTable,
                            Navigate(TablePEVC, ScreenTransition.Fade);,
                            If(isDivestment,
                                Concurrent(
                                    Set(pevcNoteFileLog, 'TVS->GetNoteFileLogDivestment-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                                    Set(detailPEVCById, 'TVS->FindByIdPEVCDivestmentProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                                    ClearCollect(listDealPEVC,'TVS->GetDealEmployeeDivestment-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id));
                                );,
                                Concurrent(
                                    Set(pevcNoteFileLog, 'TVS->GetNoteFileLog-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                                    Set(detailPEVCById, 'TVS->FindByIdPEVCPreProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id, envDEV, envTEST, envUAT1, envUAT2)),
                                    ClearCollect(listDealPEVC,'TVS->GetDealEmployee-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id))
                                );
                            );
                            Select(RefreshDataAfterSubmit);
                            Select(SetNumberFormatVariables);
                            Select(RefreshShareHolderDatas));
                        // Upload files to folder
                        ForAll(listPEVCFileToSave,
                            If(IsBlank(ThisRecord.Id)&&!ThisRecord.IsDeleted,AzureBlobStorage.CreateFile(bucketPEVCAttach,ThisRecord.file_name,ThisRecord.Value)));,
                        // create update error
                        Set(IsError, true);Set(NoticationText,"This deal has been processed by another user, please reload this page.");
                        UpdateContext({ShowNotification: true});
                    );
                    ,
                
                    // Pre-divestment
                    Set(listPEVECInformation,
                    {
                        deal_1:{company_id:If(IsBlank(CompanyNameSelectedValue), "", CompanyNameSelectedValue),deal_type:If(IsBlank(dealTypeSelectedValue), "", dealTypeSelectedValue)},
                        deal_2:{
                            primary_shares:If(IsBlank(PEVC_PrimaryShare_Input.Text), "", PEVC_PrimaryShare_Input.Text),
                            secondary_shares:If(IsBlank(PEVC_SecondaryShare_Input.Text), "", PEVC_SecondaryShare_Input.Text),
                            debt_portion:If(IsBlank(PEVC_DebtPortion_Input.Text), "", PEVC_DebtPortion_Input.Text),
                            interest_rate:If(IsBlank(PEVC_InterestRate_Input.Text), "", PEVC_InterestRate_Input.Text),
                            maturity:If(IsBlank(PEVC_Maturity_Input.Text), "", PEVC_Maturity_Input.Text),
                            company_pre_money_valuation:If(IsBlank(PEVC_CompanyPost_Input.Text), "", PEVC_CompanyPost_Input.Text),
                            company_post_money_valuation:If(IsBlank(PEVC_CompanyPre_Input.Text), "", PEVC_CompanyPre_Input.Text),
                            equity_portion:If(IsBlank(PEVC_EquityPortion_Input.Text), "", PEVC_EquityPortion_Input.Text),
                            percentage_ownership:If(IsBlank(PEVC_PercentOwnership_Input.Text), "", PEVC_PercentOwnership_Input.Text),
                            level_of_approval: If(IsEmpty(levelOfApprovalList), "",Left(Concat(levelOfApprovalList, Value & "#"), Len(Concat(levelOfApprovalList, Value & "#")) - 1))
                        },
                        file_insert: UpdateIf(listPEVCFileToSave, true, {FilePath: urlUploadPEVCHead & file_name, Container: bucketPEVCAttach}),
                        file_delete:pevcListDeleteFiles,
                        note:NoteDataPEVCToSend,
                        estimate_dd_fee: If(IsBlank(DD_CONTRACT_Fee_Input.Text), "", DD_CONTRACT_Fee_Input.Text),
                        dd_legal_fee: If(IsBlank(LEGAL_CONTRACT_Fee_Input.Text), "", LEGAL_CONTRACT_Fee_Input.Text),
                        deal_status: pevcDealStatus,
                        deal_main_procedure: ""
                    });
                
                    If(IsBlank(prePEVCInfoEdit),Set(listInsertPrePevc,"0"),
                        Set(listInsertPrePevc,"1,2,3,4,5,6")
                    );
                
                    Set(isLoading, true);
                    // Call API here
                    Set(resPrePevcCreate,'TVS->CreateUpdatePevcDealInfo-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,JSON(listPEVECInformation,JSONFormat.IndentFour),If(IsBlank(prePEVCInfoEdit),"0",prePEVCInfoEdit.id),envDEV,envTEST,envUAT1,envUAT2,First(currentUserV2Res).id,If(IsBlank(prePEVCInfoEdit),"",pevcDetailLastest.status),true,listInsertPrePevc, 1));
                    Set(isLoading, false);
                
                    If(resPrePevcCreate.status="200",
                        Set(ShowNotificationCheck,If(!IsBlank(prePEVCInfoEdit),If(Self.Text = "Done", "CLOSED_SUCCESS", "UPDATED_SUCCESS"),"CREATED_SUCCESS"));
                        Set(isSubmited, false);
                        Set(prePEVCInfoEdit,{id:resPrePevcCreate.id,status:resPrePevcCreate.statusupdate});
                        Set(currentStatus, resPrePevcCreate.statusupdate);
                        Set(PEVCCurrentStatus, resPrePevcCreate.statusupdate);
                        If(!(resPrePevcCreate.statusupdate in ["NEW_LEAD_CREATION_NEW", "NEW_LEAD_CREATION_DONE", "COMPLETE_TERM_SHEET_DONE"]) && willGoToTable,
                            Navigate(TablePEVC, ScreenTransition.Fade),
                            If(isDivestment,
                                Concurrent(
                                    Set(pevcNoteFileLog, 'TVS->GetNoteFileLogDivestment-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                                    Set(detailPEVCById, 'TVS->FindByIdPEVCDivestmentProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                                    ClearCollect(listDealPEVC,'TVS->GetDealEmployeeDivestment-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id));
                                );,
                                Concurrent(
                                    Set(pevcNoteFileLog, 'TVS->GetNoteFileLog-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id)),
                                    Set(detailPEVCById, 'TVS->FindByIdPEVCPreProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, resPrePevcCreate.id, envDEV, envTEST, envUAT1, envUAT2)),
                                    ClearCollect(listDealPEVC,'TVS->GetDealEmployee-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,resPrePevcCreate.id))
                                );
                            );
                            If(resPrePevcCreate.statusupdate in ["NEW_LEAD_CREATION_DONE", "COMPLETE_TERM_SHEET_DONE"] || !willGoToTable,
                                Select(RefreshDataAfterSubmit);,
                                Select(SetNumberFormatVariables);
                                Select(RefreshShareHolderDatas)
                            );
                        );
                
                        Set(pevcObjectToSendEmail, If(IsBlank(detailPEVCById), prePEVCInfoEdit, detailPEVCById));
                        // Upload files to folder
                        Concurrent(
                            ForAll(listPEVCFileToSave, If(IsBlank(ThisRecord.Id)&&!ThisRecord.IsDeleted,AzureBlobStorage.CreateFile(bucketPEVCAttach,ThisRecord.file_name,ThisRecord.Value)));,
                            // Send email here
                            Set(mailRes, 'TVS->SendNotiEmail-PrePEVC-V2'.Run(
                            resKeyOpenAll.open,resKeyOpenAll.close, resPrePevcCreate.id, resPrePevcCreate.statusupdate,
                            LabelTitle_6.Text, dealTypeSelectedValue,
                            First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), detailPEVCById.company_id, CompanyNameSelectedValue))).company_name,
                            "<a href='" & linkToApp & "?screen=detail-pevc&action=approve-pevc&pevc_id=" & resPrePevcCreate.id & If(isDivestment, "D", "P") & "'>Link</a>", appProperty, emailFromConfix,
                            If(IsBlank(pevcObjectToSendEmail.create_id), currenUserV2.id, pevcObjectToSendEmail.create_id), currenUserV2.id, currenUserV2.name,
                            If(IsBlank(pevcObjectToSendEmail.deal_main_procedure),"",pevcObjectToSendEmail.deal_main_procedure),
                            If(IsBlank(pevcObjectToSendEmail.status),"",pevcObjectToSendEmail.status), false, !isDivestment, false
                            ));
                        );,
                        // create update error
                        Set(IsError, true);Set(NoticationText,"This deal has been processed by another user, please reload this page.");
                        UpdateContext({ShowNotification: true});
                    );
                ));
                
                Set(pevcAction, Blank());
                // Reset show/hide button
                Set(calledFindByID, true);
                If(isValidPEVC && resPrePevcCreate.status="200",
                    Select(SetShowHideButtonsById);
                    Select(SetNumberFormatVariables);
                );
                Reset(NEW_LEAD_CREATION_Att);Reset(NDA_APPROVAL_Att);Reset(COMPLETE_DISCUSSION_PAPER_Att);Reset(INVESTMENT_MEMO_PENDING_Att);Reset(COMPLETE_TERM_SHEET_Att);Reset(INVESTMENT_MEMO_Att);Reset(DD_CONTRACT_Att);Reset(LEGAL_CONTRACT_Att);Reset(INVESTMENT_CONTRACT_Att);Reset(COMPLETE_DISBURSEMENT_Att);Reset(APPROVE_RESOLUTIONS_Att);Reset(LEGAL_CONTRACTS_Att);Reset(APPROVE_THE_DIVESTMENT_CONTRACT_Att);Reset(COMPLETED_DIVESTMENT_Att); Reset(APPROVE_RESOLUTION_Att);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: |-
                =If(App.Width < 800, "",
                PEVCCurrentStatus in ["COMPLETE_DIVESTMENT_ATTACH_FILE", "COMPLETE_DISBURSEMENT_ATTACH_FILE", "APPROVE_DIVESTMENT_CONTRACT_DONE"], "Done",
                PEVCCurrentStatus = "BLANK", "Submit", "Submit")
            Visible: |-
                =isShowSubmitButton &&
                currentStatus in First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).currentStatus &&
                ( // Hide button if PEVCCurrentStatus != selected Screen
                    PEVCCurrentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW", "PROPOSED_DIVESTMENT_NEW"] ||
                currentStatus in First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).currentStatus
                )
            Width: =If(App.Width < 800, 40, 100)
            X: =App.Width - Self.Width - If(App.Width > 800, 20, 15)
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =8

        btnSubmitIcon_6 As htmlViewer:
            Font: =Font.Arial
            HtmlText: |-
                =If(btnSubmit_6.Text = "Done",
                "<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_14501_80987)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M21.546 5.11155C21.8272 5.39285 21.9852 5.77431 21.9852 6.17205C21.9852 6.5698 21.8272 6.95126 21.546 7.23255L10.303 18.4756C10.1544 18.6242 9.97805 18.7421 9.7839 18.8225C9.58976 18.9029 9.38167 18.9443 9.17153 18.9443C8.96138 18.9443 8.75329 18.9029 8.55915 18.8225C8.365 18.7421 8.1886 18.6242 8.04003 18.4756L2.45403 12.8906C2.31076 12.7522 2.19649 12.5867 2.11787 12.4037C2.03926 12.2207 1.99788 12.0238 1.99615 11.8247C1.99442 11.6255 2.03237 11.428 2.10779 11.2436C2.18322 11.0593 2.29459 10.8918 2.43543 10.751C2.57627 10.6101 2.74375 10.4987 2.92809 10.4233C3.11244 10.3479 3.30996 10.3099 3.50913 10.3117C3.7083 10.3134 3.90513 10.3548 4.08813 10.4334C4.27114 10.512 4.43666 10.6263 4.57503 10.7696L9.17103 15.3656L19.424 5.11155C19.5633 4.97216 19.7287 4.86159 19.9108 4.78615C20.0928 4.71071 20.288 4.67188 20.485 4.67188C20.6821 4.67188 20.8772 4.71071 21.0593 4.78615C21.2413 4.86159 21.4067 4.97216 21.546 5.11155Z"" fill=""#FEFEFE""/>
                </g>
                <defs>
                <clipPath id=""clip0_14501_80987"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>",
                "<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""25"" height=""24"" viewBox=""0 0 25 24"" fill=""none"">
                  <path d=""M5 2.25V21.75H20V7.2L19.775 6.975L15.275 2.475L15.05 2.25H5ZM6.5 3.75H14V8.25H18.5V20.25H6.5V3.75ZM15.5 4.8L17.45 6.75H15.5V4.8ZM12.5 9.75L9.5 12.75H11.75V16.5H13.25V12.75H15.5L12.5 9.75ZM9.5 17.25V18.75H15.5V17.25H9.5Z"" fill=""#FEFEFE""/>
                </svg></div>"
                )
            OnSelect: |
                =Select(btnSubmit_6);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =btnSubmit_6.Visible
            Width: =40
            X: =btnSubmit_6.X
            Y: =btnSubmit_6.Y
            ZIndex: =9

        btnApprove_5 As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(17, 79, 144, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(showApprovePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =If(App.Width > 800, If(Language = "Vn", "Duyệt ", "Approve"), "")
            Visible: |-
                =isShowApproveButton &&
                // Hide button if PEVCCurrentStatus != selected Screen
                currentStatus in First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).currentStatus &&
                // Hide button if đã bỏ phiếu ở bước này 
                If("_IC" in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id && "_IC" in status)),
                    If(isDivestment, "_ISC_PE", "_ISCPE") in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id &&
                        If(isDivestment, "_ISC_PE", "_ISCPE") in status)),
                    If(isDivestment, "_ISC_VC", "_ISCVC") in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id && If(isDivestment,"_ISC_VC", "_ISCVC") in status)),
                    true
                )
            Width: =If(App.Width > 800, 90, 40)
            X: =App.Width - Self.Width - If(App.Width > 800, 20, 15)
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =10

        ApproveIcon_5 As htmlViewer:
            Font: =Font.Arial
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                  <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M21.546 5.11155C21.8272 5.39285 21.9852 5.77431 21.9852 6.17205C21.9852 6.5698 21.8272 6.95126 21.546 7.23255L10.303 18.4756C10.1544 18.6242 9.97805 18.7421 9.7839 18.8225C9.58976 18.9029 9.38167 18.9443 9.17153 18.9443C8.96138 18.9443 8.75329 18.9029 8.55915 18.8225C8.365 18.7421 8.1886 18.6242 8.04003 18.4756L2.45403 12.8906C2.31076 12.7522 2.19649 12.5867 2.11787 12.4037C2.03926 12.2207 1.99788 12.0238 1.99615 11.8247C1.99442 11.6255 2.03237 11.428 2.10779 11.2436C2.18322 11.0593 2.29459 10.8918 2.43543 10.751C2.57627 10.6101 2.74375 10.4987 2.92809 10.4233C3.11244 10.3479 3.30996 10.3099 3.50913 10.3117C3.7083 10.3134 3.90513 10.3548 4.08813 10.4334C4.27114 10.512 4.43666 10.6263 4.57503 10.7696L9.17103 15.3656L19.424 5.11155C19.5633 4.97216 19.7287 4.86159 19.9108 4.78615C20.0928 4.71071 20.288 4.67188 20.485 4.67188C20.6821 4.67188 20.8772 4.71071 21.0593 4.78615C21.2413 4.86159 21.4067 4.97216 21.546 5.11155Z"" fill=""#FEFEFE""/>
                </svg></div>"
            OnSelect: |-
                =Set(showApprovePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =btnApprove_5.Visible
            Width: =40
            X: =btnApprove_5.X
            Y: =btnApprove_5.Y
            ZIndex: =11

        btnRevise_5 As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(214, 117, 27, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(showRevisePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =If(App.Width > 800,  If(Language = "Vn", "Trả lại ", "Revise"), "")
            Visible: |-
                =isShowReviseButton &&
                // Hide button if PEVCCurrentStatus != selected Screen
                currentStatus in First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).currentStatus &&
                // Hide button if đã bỏ phiếu ở bước này 
                If("_IC" in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id && "_IC" in status)),
                    If(isDivestment, "_ISC_PE", "_ISCPE") in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id &&
                        If(isDivestment, "_ISC_PE", "_ISCPE") in status)),
                    If(isDivestment, "_ISC_VC", "_ISCVC") in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id && If(isDivestment,"_ISC_VC", "_ISCVC") in status)),
                    true
                )
            Width: =If(App.Width > 800, 90, 40)
            X: =btnApprove_5.X - Self.Width - 8
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =12

        ReviseIcon_5 As htmlViewer:
            Font: =Font.Arial
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                  <path d=""M9.505 21H4.5C4.10218 21 3.72064 20.842 3.43934 20.5607C3.15804 20.2794 3 19.8978 3 19.5V4.5C3 4.10218 3.15804 3.72064 3.43934 3.43934C3.72064 3.15804 4.10218 3 4.5 3H19.5C19.8978 3 20.2794 3.15804 20.5607 3.43934C20.842 3.72064 21 4.10218 21 4.5V9.515M14.5185 21H20.5C20.6326 21 20.7598 20.9473 20.8536 20.8536C20.9473 20.7598 21 20.6326 21 20.5V14.5175H9"" stroke=""white"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""/>
                  <path d=""M11.5 11.5L8.5 14.5L11.5 17.5"" stroke=""white"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""/>
                </svg></div>"
            OnSelect: |-
                =Set(showRevisePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =btnRevise_5.Visible
            Width: =40
            X: =btnRevise_5.X + If(App.Width > 600, 2, 0)
            Y: =btnRevise_5.Y
            ZIndex: =13

        btnReject_6 As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(showRejectPopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =If(App.Width > 800,  If(Language = "Vn", "Từ chối ", "Reject"), "")
            Visible: |-
                =isShowRejectButton &&
                // Hide button if PEVCCurrentStatus != selected Screen
                currentStatus in First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), PEVCCurrentStatus in currentStatus)).currentStatus &&
                // Hide button if đã bỏ phiếu ở bước này 
                If("_IC" in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id && "_IC" in status)),
                    If(isDivestment, "_ISC_PE", "_ISCPE") in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id &&
                        If(isDivestment, "_ISC_PE", "_ISCPE") in status)),
                    If(isDivestment, "_ISC_VC", "_ISCVC") in PEVCCurrentStatus,
                    IsEmpty(Filter(pevcNoteFileLog.log,status in statusFilterLog && !IsBlank(action) && employee_id = currenUserV2.id && If(isDivestment,"_ISC_VC", "_ISCVC") in status)),
                    true
                )
            Width: =If(App.Width > 800, 90, 40)
            X: =If(btnRevise_5.Visible, btnRevise_5.X, btnApprove_5.X) - Self.Width - 8
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =14

        RejectIcon_6 As icon.CancelBadge:
            Color: =RGBA(255, 255, 255, 1)
            Height: =20
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =Set(showRejectPopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            Visible: =btnReject_6.Visible
            Width: =20
            X: =btnReject_6.X + If(App.Width > 600, 10, 10)
            Y: =btnReject_6.Y + 10
            ZIndex: =15

        SubHeaderHr_11 As rectangle:
            Fill: =RGBA(191, 191, 192, 1)
            Height: =IconBack_10.Height + 10
            Visible: =App.Width > 600
            Width: =0.5
            X: =IconBack_10.X + IconBack_10.Width + 5
            Y: =IconBack_10.Y - 5
            ZIndex: =16

        BackMobile_Label_7 As label:
            Font: =Font.Arial
            Height: =30
            OnSelect: =Navigate(TableProposalQT2, ScreenTransition.Fade)
            Size: =10.5
            Text: ="Back"
            Visible: =App.Width < 600
            Width: =0
            X: =IconBack_10.X + IconBack_10.Width
            Y: =IconBack_10.Y - 7
            ZIndex: =17

        btnDelete_2 As button:
            BorderColor: =RGBA(255, 0, 0, 1)
            BorderThickness: =1
            DisabledFill: =Self.Fill
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =39
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =//Set(deleteStatus, 'TVS->DeleteInvestmentResearch'.Run(resKeyOpenAll.open, resKeyOpenAll.close, If(IsBlank(currenUserV2.id), "", currenUserV2.id), investmentDetail.id, //env).status);
                //If(deleteStatus = "200", Navigate(TableInvestmentResearch, ScreenTransition.Fade));
                Set(idProposalDelete, If(IsBlank(proposalInfoEdit), investmentId, proposalInfoEdit.id));
                Set(isShowPopupDelete, true);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingTop: =0
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =""
            Visible: =((!IsBlank(investmentDetail) && investmentDetail.status = "DRAFT" && investmentDetail.created_id = currenUserV2.id) || If(IsBlank(investmentDetail), !IsBlank(investmentId), !IsBlank(investmentId) && investmentDetail.status = "DRAFT")) && false
            Width: =40
            X: =SaveButton_9.X - If(App.Width > 800, 20, 8) - Self.Width
            Y: =btnSubmit_6.Y
            ZIndex: =18

        DeleteIcon_9 As htmlViewer:
            Font: =Font.Arial
            Height: =42
            HtmlText: |-
                ="<div style=""cursor:pointer; width:40px; height: 37px; display:flex; justify-content:center; align-items:center""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 16 16"" fill=""none"">
                  <path d=""M4.66683 2.66634C4.66683 2.31272 4.8073 1.97358 5.05735 1.72353C5.3074 1.47348 5.64654 1.33301 6.00016 1.33301H10.0002C10.3538 1.33301 10.6929 1.47348 10.943 1.72353C11.193 1.97358 11.3335 2.31272 11.3335 2.66634V3.99967H14.0002C14.177 3.99967 14.3465 4.06991 14.4716 4.19494C14.5966 4.31996 14.6668 4.48953 14.6668 4.66634C14.6668 4.84315 14.5966 5.01272 14.4716 5.13775C14.3465 5.26277 14.177 5.33301 14.0002 5.33301H13.2875L12.7095 13.4277C12.6856 13.7641 12.535 14.0789 12.2882 14.3087C12.0415 14.5386 11.7167 14.6663 11.3795 14.6663H4.62016C4.28292 14.6663 3.95821 14.5386 3.71142 14.3087C3.46463 14.0789 3.31411 13.7641 3.29016 13.4277L2.7135 5.33301H2.00016C1.82335 5.33301 1.65378 5.26277 1.52876 5.13775C1.40373 5.01272 1.3335 4.84315 1.3335 4.66634C1.3335 4.48953 1.40373 4.31996 1.52876 4.19494C1.65378 4.06991 1.82335 3.99967 2.00016 3.99967H4.66683V2.66634ZM6.00016 3.99967H10.0002V2.66634H6.00016V3.99967ZM4.0495 5.33301L4.62083 13.333H11.3802L11.9515 5.33301H4.0495ZM6.66683 6.66634C6.84364 6.66634 7.01321 6.73658 7.13823 6.8616C7.26326 6.98663 7.3335 7.1562 7.3335 7.33301V11.333C7.3335 11.5098 7.26326 11.6794 7.13823 11.8044C7.01321 11.9294 6.84364 11.9997 6.66683 11.9997C6.49002 11.9997 6.32045 11.9294 6.19542 11.8044C6.0704 11.6794 6.00016 11.5098 6.00016 11.333V7.33301C6.00016 7.1562 6.0704 6.98663 6.19542 6.8616C6.32045 6.73658 6.49002 6.66634 6.66683 6.66634ZM9.3335 6.66634C9.51031 6.66634 9.67988 6.73658 9.8049 6.8616C9.92992 6.98663 10.0002 7.1562 10.0002 7.33301V11.333C10.0002 11.5098 9.92992 11.6794 9.8049 11.8044C9.67988 11.9294 9.51031 11.9997 9.3335 11.9997C9.15668 11.9997 8.98712 11.9294 8.86209 11.8044C8.73707 11.6794 8.66683 11.5098 8.66683 11.333V7.33301C8.66683 7.1562 8.73707 6.98663 8.86209 6.8616C8.98712 6.73658 9.15668 6.66634 9.3335 6.66634Z"" fill=""#D00C0C""/>
                </svg></div>"
            OnSelect: |-
                =//Set(deleteStatus, 'TVS->DeleteInvestmentResearch'.Run(resKeyOpenAll.open, resKeyOpenAll.close, If(IsBlank(currenUserV2.id), "", currenUserV2.id), investmentDetail.id, //env).status);
                //If(deleteStatus = "200", Navigate(TableInvestmentResearch, ScreenTransition.Fade));
                Set(idProposalDelete, If(IsBlank(proposalInfoEdit), investmentId, proposalInfoEdit.id));
                Set(isShowPopupDelete, true);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =btnDelete_2.Visible
            Width: =42
            X: =btnDelete_2.X
            Y: =btnDelete_2.Y
            ZIndex: =19

        btnPublic_1 As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(17, 79, 144, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(showPublishPopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: =If(App.Width > 800, If(Language = "Vn", "Công bố", "Publish"), "")
            Visible: =(!IsBlank(investmentDetail) && investmentDetail.status in ["APPROVED", "APPROVE", "PUBLISHED"]) && "PUBLISH" in LookUp(currenUserV2.permissionList, process_code = "Process1.3", action)
            Width: =If(App.Width > 800, 90, 40)
            X: =App.Width - Self.Width - If(App.Width > 800, 40, 15)
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =20

        PublicIcon_1 As htmlViewer:
            Font: =Font.Arial
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""25"" height=""24"" viewBox=""0 0 25 24"" fill=""none"">
                  <path d=""M5 2.25V21.75H20V7.2L19.775 6.975L15.275 2.475L15.05 2.25H5ZM6.5 3.75H14V8.25H18.5V20.25H6.5V3.75ZM15.5 4.8L17.45 6.75H15.5V4.8ZM12.5 9.75L9.5 12.75H11.75V16.5H13.25V12.75H15.5L12.5 9.75ZM9.5 17.25V18.75H15.5V17.25H9.5Z"" fill=""#FEFEFE""/>
                </svg></div>"
            OnSelect: |-
                =Set(showPublishPopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailIRReason_Input_1);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =(!IsBlank(investmentDetail) && investmentDetail.status in ["APPROVED", "APPROVE", "PUBLISHED"]) && "PUBLISH" in LookUp(currenUserV2.permissionList, process_code = "Process1.3", action)
            Width: =40
            X: =btnPublic_1.X
            Y: =btnPublic_1.Y
            ZIndex: =21

        ShowHideProgress_2 As button:
            Align: =Align.Left
            BorderThickness: =0
            Color: =RGBA(0, 0, 0, 1)
            Fill: =RGBA(248, 248, 249, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =30
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =
            OnSelect: |-
                =Set(showProgress, !showProgress);
                SetFocus(TopInputToFocus_DetailPEVC);
            PaddingLeft: =15
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =10.5
            Text: =If(!showProgress, "Show progress", "Hide progress")
            Visible: =App.Width <= 800
            Width: =App.Width - Self.X
            Y: =SubHeaderBg_3.Height + SubHeaderBg_3.Y - 1
            ZIndex: =22

        ShowHideProgressIcon_2 As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(showProgress,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =Select(ShowHideProgress_2)
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =ShowHideProgress_2.Visible
            Width: =35
            X: =ShowHideProgress_2.X + 105
            Y: =ShowHideProgress_2.Y
            ZIndex: =23

    DetailIRPopupGroup_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =87

        DetailIRPopupBack_1 As rectangle:
            Fill: =RGBA(0.3, 0.3, 0.3, 0.3)
            Height: =App.Height
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =App.Width
            ZIndex: =27

        DetailIRPopupBg_1 As htmlViewer:
            Font: =Font.Arial
            Height: =330
            HtmlText: |-
                ="<div style='width: calc(100% - 10px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingRight: =5.00
            PaddingTop: =5.00
            Size: =11.00
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =If(Parent.Width > 600, 600, Parent.Width)
            X: =If(Parent.Width > 600, App.Width / 2 - Self.Width / 2, 5)
            Y: =(App.Height - Self.Height) / 2
            ZIndex: =28

        DetailIR_Title_1 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Height: =43
            LineHeight: =2.2
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =12
            Text: =If(showRejectPopup,"Reject this deal?", showRevisePopup, "Revise this deal?" ,"Approve this deal?")
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =299
            X: =DetailIRPopupBg_1.X + 20
            Y: =DetailIRPopupBg_1.Y + 10
            ZIndex: =29

        DetailIRName_Title_1 As label:
            Font: =Font.Arial
            Height: =43
            LineHeight: =2.2
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =10.5
            Text: =If(Language = "Vn", "Nhập bình luận ", "Add your comment")
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =159
            X: =DetailIR_Title_1.X
            Y: =DetailIR_Title_1.Y + DetailIR_Title_1.Height
            ZIndex: =30

        DetailIRReason_Input_1 As text:
            BorderColor: |-
                =// If(isSummitedPopup && Len(Self.Text) = 0, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                RGBA(191, 191, 192, 1)
            BorderThickness: =1
            Default: =
            FocusedBorderColor: =Self.HoverBorderColor
            FocusedBorderThickness: =1
            Font: =Font.Arial
            Height: =If(App.Width > 600, 140, 120)
            HintText: =If(Language = "Vn", "Nhập bình luận.", "Input your comment.")
            HoverFill: =RGBA(186, 202, 226, 0)
            Mode: =TextMode.MultiLine
            Size: =If(App.Width > 600, 10.5, 12)
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =DetailIRPopupBg_1.Width - 50
            X: =DetailIRName_Title_1.X
            Y: =DetailIRName_Title_1.Y + DetailIRName_Title_1.Height
            ZIndex: =31

        DetailIRSubmitButton_1 As button:
            BorderThickness: =0
            Fill: =If(showRejectPopup, RGBA(214, 27, 27, 1), showRevisePopup, RGBA(214, 117, 27, 1), RGBA(17, 79, 144, 1))
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(pevcObjectToSendEmail, If(IsBlank(detailPEVCById), prePEVCInfoEdit, detailPEVCById));
                Set(isRevise, showRevisePopup);
                Set(isReject, showRejectPopup);
                Set(isChangeStatus, false);
                Set(pevcAction, If(showRejectPopup, "REJECT", showRevisePopup, "REVISE", "APPROVE"));
                Set(pevcUpdateStatusRes, Blank());
                If( showRejectPopup,
                    // If( Len(DetailIRReason_Input_1.Text) <> 0,
                    If(true,
                        Set(isLoading, true);
                        If(isDivestment,
                            Set(pevcUpdateStatusRes, 'TVS->ApproveRejectPEVCDivestment-Process5-V2'.Run(resKeyOpenAll.open, resKeyOpenAll.close, detailPEVCById.id, Text(detailPEVCById.level_of_approval), detailPEVCById.status, "REJECT", "", currenUserV2.id, If(IsBlank(DetailIRReason_Input_1.Text), "", DetailIRReason_Input_1.Text), If(IsBlank(Text(detailPEVCById.group_rejected)), "", Text(detailPEVCById.group_rejected))));,
                            Set(pevcUpdateStatusRes, 'TVS->ApproveRejectPEVC-Process5-V2'.Run(resKeyOpenAll.open, resKeyOpenAll.close, detailPEVCById.id, Text(detailPEVCById.level_of_approval), detailPEVCById.status, "REJECT", "", currenUserV2.id, If(IsBlank(DetailIRReason_Input_1.Text), "", DetailIRReason_Input_1.Text), If(IsBlank(Text(detailPEVCById.group_rejected)), "", Text(detailPEVCById.group_rejected))));
                        );
                        Set(isLoading, false);
                    );,
                    showRevisePopup,
                    // If( Len(DetailIRReason_Input_1.Text) <> 0,
                    If(true,
                        Set(isLoading, true);
                        If(isDivestment,
                            Set(pevcUpdateStatusRes, 'TVS->ApproveRejectPEVCDivestment-Process5-V2'.Run(resKeyOpenAll.open, resKeyOpenAll.close, detailPEVCById.id, Text(detailPEVCById.level_of_approval), detailPEVCById.status, "REVISE", "", currenUserV2.id, If(IsBlank(DetailIRReason_Input_1.Text), "", DetailIRReason_Input_1.Text), If(IsBlank(Text(detailPEVCById.group_rejected)), "", Text(detailPEVCById.group_rejected))));,
                            Set(pevcUpdateStatusRes, 'TVS->ApproveRejectPEVC-Process5-V2'.Run(resKeyOpenAll.open, resKeyOpenAll.close, detailPEVCById.id, Text(detailPEVCById.level_of_approval), detailPEVCById.status, "REVISE", "", currenUserV2.id, If(IsBlank(DetailIRReason_Input_1.Text), "", DetailIRReason_Input_1.Text), If(IsBlank(Text(detailPEVCById.group_rejected)), "", Text(detailPEVCById.group_rejected))));
                        );
                        Set(isLoading, false);
                    );,
                    showApprovePopup,
                    Set(isLoading, true);
                    If(isDivestment,
                        Set(pevcUpdateStatusRes, 'TVS->ApproveRejectPEVCDivestment-Process5-V2'.Run(resKeyOpenAll.open, resKeyOpenAll.close, detailPEVCById.id, Text(detailPEVCById.level_of_approval), detailPEVCById.status, "APPROVE", "", currenUserV2.id, If(IsBlank(DetailIRReason_Input_1.Text), "", DetailIRReason_Input_1.Text), If(IsBlank(Text(detailPEVCById.group_rejected)), "", Text(detailPEVCById.group_rejected))));,
                        Set(pevcUpdateStatusRes, 'TVS->ApproveRejectPEVC-Process5-V2'.Run(resKeyOpenAll.open, resKeyOpenAll.close, detailPEVCById.id, Text(detailPEVCById.level_of_approval), detailPEVCById.status, "APPROVE", "", currenUserV2.id, If(IsBlank(DetailIRReason_Input_1.Text), "", DetailIRReason_Input_1.Text), If(IsBlank(Text(detailPEVCById.group_rejected)), "", Text(detailPEVCById.group_rejected))));
                    );
                    Set(isLoading, false);
                );
                
                // Call send mail and noti
                Set(urlToSendNoti, "<a href='" & linkToApp & "?screen=detail-ir&action=approve-ir&ir_id=" & detailPEVCById.id & "'>Link to item</a>");
                If(!IsBlank(pevcUpdateStatusRes) && pevcUpdateStatusRes.status <> "301",
                    Set(ShowNotificationCheck, If(showRejectPopup, "REJECTED_SUCCESS", showRevisePopup, "REVISED_SUCCESS", "APPROVED_SUCCESS"));
                    Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false); Set(showPublishPopup, false);
                    Set(isSaveFromApprove, true);
                    Set(isChangeStatus, If(showRejectPopup || showRevisePopup,
                    PEVCCurrentStatus <> pevcUpdateStatusRes.status,
                    PEVCCurrentStatus <> pevcUpdateStatusRes.status && !("_IC" in pevcUpdateStatusRes.status || "_ISC" in pevcUpdateStatusRes.status)));
                    If(SaveButton_9.Visible, Select(SaveButton_9);, Set(isLoading, false); Navigate(TablePEVC););
                    
                    // Send noti here
                    Set(mailRes, 'TVS->SendNotiEmail-PrePEVC-V2'.Run(
                        resKeyOpenAll.open,resKeyOpenAll.close, Text(detailPEVCById.id), Text(pevcUpdateStatusRes.status),
                        Text(LabelTitle_6.Text), Text(dealTypeSelectedValue),
                        Text(First(Filter(companyPEVC, id_company = If(IsBlank(CompanyNameSelectedValue), Text(detailPEVCById.id), CompanyNameSelectedValue))).company_name),
                        "<a href='" & linkToApp & "?screen=detail-pevc&action=approve-pevc&pevc_id=" & Text(detailPEVCById.id) & If(isDivestment, "D", "P") & "'>Link</a>", appProperty, emailFromConfix,
                        Text(If(IsBlank(pevcObjectToSendEmail.create_id), currenUserV2.id, pevcObjectToSendEmail.create_id)), currenUserV2.id, currenUserV2.name,
                        Text(pevcObjectToSendEmail.deal_main_procedure),
                        Text(pevcObjectToSendEmail.status), isRevise, !isDivestment, isReject
                    ));
                    ,
                    If(!IsBlank(pevcUpdateStatusRes),
                        Set(pevcAction, Blank());
                        Set(isLoading, false);
                        Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false); Set(showPublishPopup, false);
                        Set(IsError, true);Set(NoticationText,"This deal has been processed by another user, please reload this page."); UpdateContext({ShowNotification: true})
                    );
                );
                // End
                Set(isSummitedPopup, true);
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            PressedColor: =Self.Color 
            PressedFill: =Self.Fill
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: |-
                =If(showRejectPopup,
                If(Language = "Vn", "Từ chối", "Reject"),
                showRevisePopup,
                If(Language = "Vn", "Trả lại", "Revise"),
                showPublishPopup,
                If(Language = "Vn", "Công bố", "Publish"),
                If(Language = "Vn", "Duyệt", "Approve"))
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =120
            X: =DetailIRPopupBg_1.X + DetailIRPopupBg_1.Width - 150
            Y: =DetailIRPopupBg_1.Y + DetailIRPopupBg_1.Height - 70
            ZIndex: =32

        DetailIRCancelButton_1 As button:
            BorderColor: =Self.Color
            BorderThickness: =1
            Color: =RGBA(139, 139, 139, 1)
            DisabledFill: =Self.Fill
            Fill: =RGBA(255, 255, 255, 1)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =44
            HoverBorderColor: =Self.BorderColor
            HoverColor: =Self.Color
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: =Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false); Set(showPublishPopup, false);
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            PressedBorderColor: =Self.BorderColor
            PressedColor: =Self.Color 
            PressedFill: =Self.Fill
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: =If(Language = "Vn", "Trở lại", "Cancel")
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =120
            X: =DetailIRSubmitButton_1.X - 130 
            Y: =DetailIRPopupBg_1.Y + DetailIRPopupBg_1.Height - 70
            ZIndex: =33

        DetailIRPopupCloseIcon_1 As icon.Cancel:
            Color: =RGBA(0, 0, 0, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: =Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false); Set(showPublishPopup, false);
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup
            Width: =20
            X: =DetailIRPopupBg_1.X + DetailIRPopupBg_1.Width - 50
            Y: =DetailIR_Title_1.Y + 10
            ZIndex: =34

        DetailProposalName_Title_3 As label:
            Color: =RGBA(255, 0, 0, 1)
            Font: =Font.Arial
            Height: =20
            LineHeight: =2.2
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =10.5
            Text: =LabelRequired.Text
            Visible: |-
                =// (showRejectPopup || showApprovePopup || showRevisePopup || showPublishPopup) && (isSummitedPopup && Len(DetailIRReason_Input_1.Text) = 0)
                false
            Width: =159
            X: =DetailProposalReason_Input.X
            Y: =DetailProposalReason_Input.Y + DetailProposalReason_Input.Height
            ZIndex: =35

    DeleteConfirm_9 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =93

        RejectPopupBack_22 As rectangle:
            Fill: =RGBA(0.3, 0.3, 0.3, 0.3)
            Height: =Parent.Height
            Visible: =isShowPopupDelete
            Width: =Parent.Width
            ZIndex: =36

        DeleteConfirmBg_19 As htmlViewer:
            Font: =Font.Arial
            Height: =If(Parent.Width > 600, 200, 200)
            HtmlText: |-
                ="<div style='margin-left: 8px; width: calc(100% - 16px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingRight: =5.00
            PaddingTop: =5.00
            Size: =11.00
            Visible: =isShowPopupDelete
            Width: =If(App.Width > 600, 550, App.Width + 5)
            X: =If(App.Width > 600, App.Width * 0.5 - DeleteConfirmBg_19.Width *0.5, -3)
            Y: =App.Height / 2 - Self.Height
            ZIndex: =37

        CancelResearchOpinionButton_16 As button:
            BorderColor: =Self.Color
            BorderThickness: =1
            Color: =RGBA(214, 27, 27, 1)
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(214, 27, 27, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            Height: =44
            HoverColor: =RGBA(214, 27, 27, 1)
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            PressedBorderColor: =RGBA(214, 27, 27, 1)
            PressedColor: =RGBA(214, 27, 27, 1)
            PressedFill: =
            Size: =10.5
            Text: ="No"
            Visible: =isShowPopupDelete
            Width: =120
            X: =40
            Y: =40
            ZIndex: =38

        DeleteResearchOpinionButton_16 As button:
            BorderThickness: =
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(214, 27, 27, 1)
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderThickness: =
            Font: =Font.Arial
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(214, 27, 27, 1)
            Size: =10.5
            Text: ="Yes"
            Visible: =isShowPopupDelete
            Width: =120
            X: =DeleteConfirmBg_19.X + DeleteConfirmBg_19.Width - 150
            Y: =40
            ZIndex: =39

        DeleteConfirmCloseIcon_21 As icon.Cancel:
            Color: =RGBA(26, 26, 26, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            Visible: =isShowPopupDelete
            Width: =20
            X: =DeleteConfirmBg_19. X + DeleteConfirmBg_19.Width -50
            Y: =DeleteConfirmBg_19.Y + 20
            ZIndex: =40

        DeleteConfirmLabel_22 As label:
            Font: =Font.Arial
            Size: =12
            Text: ="Are you sure to delete this report ?"
            Visible: =isShowPopupDelete
            Width: =DeleteConfirmBg_19.Width - 100 - DeleteConfirmCloseIcon_21.Width
            X: =Label2_15.X
            Y: =Label2_15.Y + Label2_15.Height
            ZIndex: =41

        Label2_15 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Size: =14
            Text: ="Delete"
            Visible: =isShowPopupDelete
            X: =DeleteConfirmBg_19.X + 30
            Y: =DeleteConfirmBg_19.Y + 10
            ZIndex: =42

