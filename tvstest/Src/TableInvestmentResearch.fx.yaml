TableInvestmentResearch As screen:
    Fill: =RGBA(248, 248, 249, 1)
    OnVisible: |-
        =// Last edit Dat Ngo 16:47 19/01/2024 ok chÆ°a
        //Header
        Set(MenuSelect,"Portal");
        Set(MenuSelect2,"Investment research");
        Set(HeaderText, "");
        // Reset variable
        Set(isShowPopupDelete, false);
        UpdateContext({ShowNotification: false});
        //Close Dropdown and Popup
        Set(reportTypeShowDropdown, false);
        Set(reportYearShowDropdown, false);
        Set(reportQuarterShowDropdown, false);
        Set(reportMonthShowDropdown, false);
        Set(reportWeekShowDropdown, false);
        Set(reportPrivacyShowDropdown, false);
        Set(reportWeekShowDropdown, false);
        Set(reportPrivacyShowDropdown, false);
        
        // Setup dropdown value
        Set(reportTypeValue, Blank());
        Set(reportWeekValue, Text(WeekNum(Today())));
        Set(reportQuarterValue, Blank());
        Set(reportMonthValue, Blank());
        Set(reportYearValue, Blank());
        Set(reportPrivacyValue, "Public");
        
        Reset(input_searchAll_1);
        Reset(DateFrom_Datepicker_1);
        Reset(DateTo_DatePicker_1);
        
        // Set filter values
        Set(PageSizeNumber, 10);
        Set(sortColumn,"created_date");
        If(IsBlank(currentPageIndex),Set(currentPageIndex,0));
        Set(maxList,[1,2,3,4]);
        Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
        ClearCollect(listPageIndex, pageIndexFirst);
        ClearCollect(investmentFilter, []);
        Switch(
            DealDetailTab,
            1,
            ClearCollect(investmentFilter,[]);
            If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "EDIT" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "DELETE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
            If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));
            If("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
            2,
            ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
            3,
            ClearCollect(investmentFilter,[]);
            Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
            If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));
            If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
            4,
            ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
        );
        
        ClearCollect(investmentFilterComplete,[{value: "REJECTED"}, {value: "APPROVED"}]);
        ClearCollect(investmentFilterUnder,[]);
        Collect(investmentFilterUnder,{value: "DRAFT"}); Collect(investmentFilterUnder,{value: "REVISED"});
        If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilterUnder,{value: "PENDING"}));
        If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilterUnder,{value: "PENDING_DCEO"}));
        ClearCollect(investmentFilterPublish,[{value: "PUBLISHED"}]);
        
        // Call API get datas
        If(!IsFromDetailInvesmentResearch, Set(isLoading, true), Set(isLoading, false));
        Concurrent(
            //Action need
        ClearCollect(listItemInvestmentActionNeed,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
           resKeyOpenAll.open,
           resKeyOpenAll.close,
           If(IsBlank(reportTypeValue) , "", reportTypeValue),
           "",
           "",
           "",
           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
           PageSizeNumber,
           currentPageIndex,
           If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
           )
        ),
         //Under processing
        ClearCollect(listItemInvestmentUnderProcessing,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
           resKeyOpenAll.open,resKeyOpenAll.close,
           If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
           PageSizeNumber,currentPageIndex,
           If(Len(Concat(investmentFilterUnder, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterUnder, "," & "'" & value & "'"), Len(Concat(investmentFilterUnder, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, 0,
           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
           )),
        //Completed
        ClearCollect(listItemInvestmentCompleted,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
           resKeyOpenAll.open,resKeyOpenAll.close,
           If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
           PageSizeNumber,currentPageIndex,
           If(Len(Concat(investmentFilterComplete, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterComplete, "," & "'" & value & "'"), Len(Concat(investmentFilterComplete, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
           )
        ),
        //Publish
        ClearCollect(listItemInvestmentPublish,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
           resKeyOpenAll.open,resKeyOpenAll.close,
           If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
           PageSizeNumber,currentPageIndex,
           If(Len(Concat(investmentFilterPublish, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterPublish, "," & "'" & value & "'"), Len(Concat(investmentFilterPublish, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
           )
        ));
           
        Set(isLoading, false);
        ClearCollect(listItemInvestment, listItemInvestmentActionNeed);
        //Set(lisres, First(listItemInvestment).listItem);
        Set(pageCount,First(listItemInvestment).pageCount);
        
        ForAll(
            maxList,
            If(Last(listPageIndex).Value + 1 < pageCount,
                Collect(listPageIndex,Last(listPageIndex).Value + 1);
            );
        );
        
        // Show notification
        Set(IsError, false);
        Switch(ShowNotificationCheck,
        "CREATED_SUCCESS", Set(NoticationText,"Submitted successfully!");UpdateContext({ShowNotification: true}),
        "UPDATED_SUCCESS", Set(NoticationText,"Submitted successfully!");UpdateContext({ShowNotification: true}),
        "REJECTED_SUCCESS", Set(NoticationText,"Rejected successfully!");UpdateContext({ShowNotification: true}),
        "REVISED_SUCCESS", Set(NoticationText,"Revised successfully!");UpdateContext({ShowNotification: true}),
        "APPROVED_SUCCESS", Set(NoticationText,"Approved successfully!");UpdateContext({ShowNotification: true}),
        "PUBLISHED_SUCCESS", Set(NoticationText,"Published successfully!");UpdateContext({ShowNotification: true}),
        "DELETED_SUCCESS", Set(NoticationText,"Deleted successfully!");UpdateContext({ShowNotification: true}),
        "SYSTEM_ERROR", Set(IsError, true);Set(NoticationText,"The system is busy, please try again later!");UpdateContext({ShowNotification: true}),
        "SYSTEM_ERROR_APPROVED", Set(IsError, true);Set(NoticationText,"This proposal has been approved, please check again.");UpdateContext({ShowNotification: true}),
        "STATUS_CHANGED", Set(IsError, true);Set(NoticationText,"This proposal has been processed by another user, please check again.");UpdateContext({ShowNotification: true})
        );
        Set(ShowNotificationCheck, "");
        Set(isLoading, false);
        Set(IsFromDetailInvesmentResearch, false);

    RectQuickActionBar1_1 As rectangle:
        Height: =56
        Visible: =false
        Width: =1440.00
        Y: =40
        ZIndex: =1

    Canvas1_2 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =App.Height
        Width: =Parent.Width
        Y: =HeaderQT2List_IR.Y + HeaderQT2List_IR.Height
        ZIndex: =2

        DataCard1_2 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =If(App.Width > 1400, App.Height, App.Width > 600, 1050, 1050)
            Width: =Parent.Width
            X: =0.00
            Y: =0
            ZIndex: =1

            WhiteBackground_2 As htmlViewer:
                Font: =Font.Arial
                Height: |-
                    =If(
                        App.Width > 1400,
                        Min(
                            App.Height - 280,
                            Max(
                                TableContent_5.AllItemsCount * TableContent_5.TemplateHeight + ProposalInfomation_Title_1.Height + 92,
                                ProposalInfomation_Title_1.Height + 140
                            )
                        ),
                        Min(550, Max(TableContent_5.AllItemsCount, 1) * TableContent_5.TemplateHeight + ProposalInfomation_Title_1.Height + 92)
                    )
                HtmlText: |-
                    ="<div style='width: calc(100% - 10px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                    '></div>"
                PaddingRight: =5.00
                PaddingTop: =5.00
                Size: =11.00
                Width: =If(Parent.Width > 800, Parent.Width - If(MobileShowMenu, 255, 70), Parent.Width + 5)
                X: =If(Parent.Width > 800, If(MobileShowMenu, 255, 60), 0)
                Y: =InvestmentResearchTabs.Y + InvestmentResearchTabs.Height
                ZIndex: =1

            TableHoziContainer_1 As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Height: =WhiteBackground_2.Height - ProposalInfomation_Title_1.Height - 30
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowX: =LayoutOverflow.Scroll
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =WhiteBackground_2.Width - 40
                X: =WhiteBackground_2.X + 16
                Y: =ProposalInfomation_Title_1.Y + ProposalInfomation_Title_1.Height
                ZIndex: =2

                Container7_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =40
                    LayoutMinHeight: =TableHoziContainer_1.Height
                    LayoutMinWidth: =40
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Width: =HeaderCreatedBy_1.X + HeaderCreatedBy_1.Width
                    ZIndex: =4

                    TableContent_5 As gallery.variableTemplateHeightGallery:
                        '#CopilotOverlayLabel': ="Filtered"
                        BorderColor: =
                        Height: =Parent.Height - Self.Y - 20
                        Items: =First(listItemInvestment).listItem
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =42
                        Width: =Container7_1.Width
                        Y: =40
                        ZIndex: =1

                        No_Content_5 As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent)
                            Size: =10.5
                            Text: =ThisItem.stt
                            Width: =HeaderNo_1.Width
                            ZIndex: =1

                        ReportID_Content As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.id
                            Width: =HeaderReportID.Width
                            X: =No_Content_5.X + No_Content_5.Width
                            ZIndex: =2

                        ReportType_Content As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =If(!IsEmpty(Filter(reportTypeArray, ThisItem.report_type = value)), First(Filter(reportTypeArray, ThisItem.report_type = value)).en, ThisItem.report_type)
                            Width: =HeaderEntity_1.Width
                            X: =ReportID_Content.X + ReportID_Content.Width
                            ZIndex: =3

                        ReportVersion_Content As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.type
                            Width: =HeaderVersion.Width
                            X: =ReportType_Content.X + ReportType_Content.Width
                            ZIndex: =4

                        ReportName_Content As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: |-
                                =If(Len(If(IsBlank(ThisItem.report_name_en), If(IsBlank(ThisItem.report_name), "", ThisItem.report_name), ThisItem.report_name_en)) > If(App.Width > 2000, 150, App.Width > 1600, 130, App.Width > 800, 105, 85),
                                    Left(If(IsBlank(ThisItem.report_name_en), If(IsBlank(ThisItem.report_name), "", ThisItem.report_name), ThisItem.report_name_en), If(App.Width > 2000, 150, App.Width > 1600, 130, App.Width > 800, 105, 85)) & "...",
                                    If(IsBlank(ThisItem.report_name_en), If(IsBlank(ThisItem.report_name), "", ThisItem.report_name), ThisItem.report_name_en)
                                )
                            Width: =HeaderProposalName_3.Width
                            X: =ReportVersion_Content.X + ReportVersion_Content.Width
                            ZIndex: =5

                        ReportDate_Content As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =Text(DateTimeValue(ThisItem.report_date), "dd/mm/yyyy")
                            Width: =HeaderReportDate.Width
                            X: =ReportName_Content.X + ReportName_Content.Width
                            ZIndex: =6

                        Privacy_Content As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =If(!IsEmpty(Filter(reportPrivacyArray, ThisItem.allow_access = value)), First(Filter(reportPrivacyArray, ThisItem.allow_access = value)).en, ThisItem.allow_access)
                            Width: =HeaderPrivacy.Width
                            X: =ReportDate_Content.X + ReportDate_Content.Width
                            ZIndex: =7

                        Status_Content_4 As label:
                            Color: |-
                                =If(
                                    ThisItem.status = "DRAFT",
                                    RGBA(98,95,95,1),
                                    !IsBlank(Find("PENDING",ThisItem.status)),
                                    RGBA(181,184,24,1),
                                    !IsBlank(Find("REJECTED",ThisItem.status)) || !IsBlank(Find("REVISED",ThisItem.status)),
                                    RGBA(214,27,27,1),
                                    ThisItem.status = "APPROVED",
                                    RGBA(11,201,75,1),
                                    ThisItem.status = "PUBLISHED",
                                    RGBA(22, 63, 130, 1)
                                )
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Bold
                            OnSelect: =Select(Parent);
                            PaddingLeft: =29
                            PaddingRight: =10
                            Size: =10.5
                            Text: =If(ThisItem.status in ["PENDING"], "Pending approval by head of division", ThisItem.status in ["PENDING_DCEO"], "Pending approval by D.CEO", ThisItem.status in ["PARTIALLY_REJECTED"], "Revised", Proper(Substitute(ThisItem.status, "_", " ")))
                            Width: =HeaderStatus_1.Width
                            X: =Privacy_Content.X + Privacy_Content.Width
                            ZIndex: =8

                        ReportCreatedDate_Content As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =Text(DateTimeValue(ThisItem.created_date), "dd/mm/yyyy")
                            Width: =HeaderCreatedDate_2.Width
                            X: =Status_Content_4.X + Status_Content_4.Width
                            ZIndex: =9

                        CreatedBy_Content_3 As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingLeft: =7
                            PaddingRight: =45
                            Size: =10.5
                            Text: =ThisItem.created_by
                            Width: =HeaderCreatedBy_1.Width
                            X: =ReportCreatedDate_Content.X + ReportCreatedDate_Content.Width
                            ZIndex: =10

                        Status_Icon_3 As label:
                            Color: =Status_Content_4.Color
                            Fill: =RGBA(0,0,0,0)
                            Font: =Font.Lato
                            OnSelect: =Select(Parent);
                            Size: =50
                            Text: ="."
                            VerticalAlign: =VerticalAlign.Bottom
                            Width: =30
                            X: =Status_Content_4.X - 1
                            Y: =2
                            ZIndex: =11

                        ClickButton_3 As button:
                            BorderThickness: =0
                            Color: =RGBA(0, 0, 0, 0)
                            DisabledBorderColor: =RGBA(166, 166, 166, 0)
                            DisabledColor: =RGBA(166, 166, 166, 0)
                            DisabledFill: =RGBA(244, 244, 244, 0)
                            Fill: =RGBA(56, 96, 178, 0)
                            FocusedBorderThickness: =0
                            Font: =Font.Arial
                            Height: =TableContent_5.TemplateHeight
                            HoverColor: =RGBA(255, 255, 255, 0)
                            HoverFill: =ColorFade(RGBA(56, 96, 178, 0), -20%)
                            OnSelect: |-
                                =Set(investmentDetail, ThisItem); Navigate(DetailInvestmentResearch, ScreenTransition.Fade);
                                Clear(listOthersAttachFile); Clear(listReportAttachFile); Clear(listReportAttachFileVn); Clear(listOthersAttachFileVn);
                                
                                Set(irLoading, true);
                                Set(irDetail, 'TVS->GetByIdInvestmentResearch-V1'.Run(ThisItem.id, resKeyOpenAll.open, resKeyOpenAll.close, envDEV,envTEST, envUAT1, envUAT2));
                                If(!IsBlank(irDetail),
                                    ClearCollect(listReportAttachFile, AddColumns(Filter(irDetail.listAttach, type = "RP"), IsDeleted, false));
                                    ClearCollect(listOthersAttachFile, AddColumns(Filter(irDetail.listAttach, type = "ORP"), IsDeleted, false));
                                    ClearCollect(listReportAttachFileVn, AddColumns(Filter(irDetail.listAttach, type = "RPVN"), IsDeleted, false));
                                    ClearCollect(listOthersAttachFileVn, AddColumns(Filter(irDetail.listAttach, type = "ORPVN"), IsDeleted, false));
                                    ,
                                    Clear(listReportAttachFile);
                                    Clear(listOthersAttachFile);
                                    Clear(listReportAttachFileVn);
                                    Clear(listOthersAttachFileVn);
                                );
                                Set(irLoading, false);
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =10
                            Text: =""
                            Width: =TableContent_5.Width
                            ZIndex: =12

                        DeleteIconBg_3 As rectangle:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Height: =40
                            OnSelect: =Select(Parent)
                            Width: =DeleteIcon_3.Width
                            X: =CreatedBy_Content_3.X + CreatedBy_Content_3.Width - Self.Width
                            ZIndex: =13

                        DeleteIcon_3 As htmlViewer:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            HtmlText: |-
                                ="<div style=""cursor:pointer; width:40px; display:flex; justify-content:center; align-items:center""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 16 16"" fill=""none"">
                                  <path d=""M4.66683 2.66634C4.66683 2.31272 4.8073 1.97358 5.05735 1.72353C5.3074 1.47348 5.64654 1.33301 6.00016 1.33301H10.0002C10.3538 1.33301 10.6929 1.47348 10.943 1.72353C11.193 1.97358 11.3335 2.31272 11.3335 2.66634V3.99967H14.0002C14.177 3.99967 14.3465 4.06991 14.4716 4.19494C14.5966 4.31996 14.6668 4.48953 14.6668 4.66634C14.6668 4.84315 14.5966 5.01272 14.4716 5.13775C14.3465 5.26277 14.177 5.33301 14.0002 5.33301H13.2875L12.7095 13.4277C12.6856 13.7641 12.535 14.0789 12.2882 14.3087C12.0415 14.5386 11.7167 14.6663 11.3795 14.6663H4.62016C4.28292 14.6663 3.95821 14.5386 3.71142 14.3087C3.46463 14.0789 3.31411 13.7641 3.29016 13.4277L2.7135 5.33301H2.00016C1.82335 5.33301 1.65378 5.26277 1.52876 5.13775C1.40373 5.01272 1.3335 4.84315 1.3335 4.66634C1.3335 4.48953 1.40373 4.31996 1.52876 4.19494C1.65378 4.06991 1.82335 3.99967 2.00016 3.99967H4.66683V2.66634ZM6.00016 3.99967H10.0002V2.66634H6.00016V3.99967ZM4.0495 5.33301L4.62083 13.333H11.3802L11.9515 5.33301H4.0495ZM6.66683 6.66634C6.84364 6.66634 7.01321 6.73658 7.13823 6.8616C7.26326 6.98663 7.3335 7.1562 7.3335 7.33301V11.333C7.3335 11.5098 7.26326 11.6794 7.13823 11.8044C7.01321 11.9294 6.84364 11.9997 6.66683 11.9997C6.49002 11.9997 6.32045 11.9294 6.19542 11.8044C6.0704 11.6794 6.00016 11.5098 6.00016 11.333V7.33301C6.00016 7.1562 6.0704 6.98663 6.19542 6.8616C6.32045 6.73658 6.49002 6.66634 6.66683 6.66634ZM9.3335 6.66634C9.51031 6.66634 9.67988 6.73658 9.8049 6.8616C9.92992 6.98663 10.0002 7.1562 10.0002 7.33301V11.333C10.0002 11.5098 9.92992 11.6794 9.8049 11.8044C9.67988 11.9294 9.51031 11.9997 9.3335 11.9997C9.15668 11.9997 8.98712 11.9294 8.86209 11.8044C8.73707 11.6794 8.66683 11.5098 8.66683 11.333V7.33301C8.66683 7.1562 8.73707 6.98663 8.86209 6.8616C8.98712 6.73658 9.15668 6.66634 9.3335 6.66634Z"" fill=""#D00C0C""/>
                                </svg></div>"
                            OnSelect: |-
                                =Set(isLoading, true);
                                Set(idProposalDelete, ThisItem.id);
                                ClearCollect(listAttachFileRes,proposalInfoEdit.listAttach);
                                ForAll(listAttachFileRes,Collect(listAttachFile,{
                                    Id:ThisRecord.id,
                                    Name:ThisRecord.file_name,
                                    Date:ThisRecord.created_date,
                                    By:ThisRecord.name_employee
                                }));
                                Set(isShowPopupDelete, true);
                                Set(isLoading, false);
                            Visible: =ThisItem.status = "DRAFT" && DealDetailTab = 1 && "DELETE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)
                            Width: =40
                            X: =DeleteIconBg_3.X
                            ZIndex: =14

                    TableHeader_1 As group:
                        Height: =5
                        Width: =5
                        X: =80
                        Y: =80
                        ZIndex: =12

                        HeaderNo_1 As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="No"
                            Width: =40
                            X: =5
                            ZIndex: =2

                        HeaderReportID As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Report ID"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9 - 40, 120)
                            X: =HeaderNo_1.X + HeaderNo_1.Width
                            ZIndex: =3

                        HeaderEntity_1 As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Report type"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9, 130)
                            X: =HeaderReportID.X + HeaderReportID.Width
                            ZIndex: =4

                        HeaderVersion As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Version"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9 - 80, 100)
                            X: =HeaderEntity_1.X + HeaderEntity_1.Width
                            ZIndex: =5

                        HeaderProposalName_3 As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Report name"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9 + 280, 100)
                            X: =HeaderVersion.X + HeaderVersion.Width
                            ZIndex: =6

                        HeaderReportDate As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Report date"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9 - 60, 130)
                            X: =HeaderProposalName_3.X + HeaderProposalName_3.Width
                            Y: =HeaderProposalName_3.Y
                            ZIndex: =7

                        HeaderPrivacy As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Privacy"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9 - 82, 100)
                            X: =HeaderReportDate.X + HeaderReportDate.Width
                            Y: =HeaderProposalName_3.Y
                            ZIndex: =8

                        HeaderStatus_1 As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Status"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9 - 5, 180)
                            X: =HeaderPrivacy.X + HeaderPrivacy.Width
                            ZIndex: =9

                        HeaderCreatedDate_2 As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Created date"
                            Width: =Max((WhiteBackground_2.Width - 170) / 9 - 30, 130)
                            X: =HeaderStatus_1.X + HeaderStatus_1.Width
                            ZIndex: =10

                        HeaderCreatedBy_1 As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Created by"
                            Width: =Max((WhiteBackground_2.Width - 70) / 9 - 30, If(App.Width > 600, 190, 180))
                            X: =HeaderCreatedDate_2.X + HeaderCreatedDate_2.Width
                            ZIndex: =11

            ProposalInfomation_Title_1 As label:
                Font: =Font.Arial
                FontWeight: =FontWeight.Bold
                Height: =43
                LineHeight: =2.2
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =12
                Text: ="Investment research informations"
                Width: =299
                X: =WhiteBackground_2.X + 20
                Y: =WhiteBackground_2.Y + 10
                ZIndex: =3

            Hr_1 As rectangle:
                BorderColor: =RGBA(191, 191, 192, 1)
                Fill: =RGBA(191, 191, 192, 1)
                Height: =2
                Width: =Min(HeaderCreatedBy_1.X + HeaderCreatedBy_1.Width - Self.X + TableHoziContainer_1.X, WhiteBackground_2.Width - If(App.Width > 800, 50, 40))
                X: =HeaderNo_1.X + TableHoziContainer_1.X - If(App.Width > 800, 0, 5)
                Y: =ProposalInfomation_Title_1.Y + ProposalInfomation_Title_1.Height + 40
                ZIndex: =4

            InvestmentResearchTabs As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Height: =If(IR_Tab1.Width + IR_Tab2.Width + IR_Tab3.Width + IR_Tab4.Width + 20 > App.Width - 20, 52, 47)
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowX: =LayoutOverflow.Scroll
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =Min(IR_Tab1.Width + IR_Tab2.Width + IR_Tab3.Width + IR_Tab4.Width, App.Width - 20)
                X: =WhiteBackground_2.X + 5
                Y: =If(App.Width > 800, StatusDropdown_1.Y + StatusDropdown_1.Height + 10, If(SubmitButton_3.Visible, SubmitButton_3.Y + SubmitButton_3.Height + 10, SubmitButton_3.Y + 10))
                ZIndex: =7

                IR_Tab1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    LayoutMinHeight: =47
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Width: =120
                    ZIndex: =1

                    Button8_6 As button:
                        BorderStyle: =BorderStyle.None
                        Color: =If(DealDetailTab = 1, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        Height: =35
                        HoverColor: =If(DealDetailTab = 1, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        HoverFill: =RGBA(248, 248, 249, 1)
                        OnSelect: |-
                            =Set(DealDetailTab, 1);
                            Set(currentPageIndex,0);
                            ClearCollect(listPageIndex, pageIndexFirst);
                            Set(lisres, Blank());
                            Set(pageCount, 0);
                            
                            ClearCollect(listItemInvestment, listItemInvestmentActionNeed);
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                            
                            Switch(
                                DealDetailTab,
                                1,
                                ClearCollect(investmentFilter,[]);
                                If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "EDIT" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "DELETE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
                                If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));
                                If("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                2,
                                ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
                                3,
                                ClearCollect(investmentFilter,[]);
                                Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
                                If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));
                                If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                4,
                                ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
                            );
                            ClearCollect(listItemInvestment, listItemInvestmentActionNeed);
                            Set(lisres, First(listItemInvestment).listItem);
                            // Call API get datas
                            ClearCollect(listItemInvestmentActionNeed,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                               resKeyOpenAll.open,resKeyOpenAll.close,
                               If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                               If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                               PageSizeNumber,currentPageIndex,
                               If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                               If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                               If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                               )
                            );
                            
                            Switch(DealDetailTab, 1, ClearCollect(listItemInvestment, listItemInvestmentActionNeed), 3, ClearCollect(listItemInvestment, listItemInvestmentUnderProcessing), 2, ClearCollect(listItemInvestment, listItemInvestmentCompleted), 4, ClearCollect(listItemInvestment, listItemInvestmentPublish));
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                        PaddingLeft: =0
                        PaddingRight: =0
                        PressedColor: =Self.Color
                        PressedFill: =Self.Fill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 10.5, 10.5)
                        Text: ="Action needed"
                        Tooltip: ="Action needed"
                        Width: =Parent.Width
                        ZIndex: =1

                    BottomBorder1_13 As rectangle:
                        BorderColor: =If(DealDetailTab = 1, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                        BorderThickness: =If(DealDetailTab = 1, 2, 0)
                        Fill: =RGBA(246, 246, 246, 1)
                        Height: =If(DealDetailTab = 1, 2, 0)
                        Width: =Parent.Width
                        Y: =38
                        ZIndex: =2

                IR_Tab3 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    LayoutMinHeight: =47
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Width: =150
                    ZIndex: =2

                    Button8_7 As button:
                        BorderStyle: =BorderStyle.None
                        Color: =If(DealDetailTab = 3, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        Height: =35
                        HoverColor: =If(DealDetailTab = 3, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        HoverFill: =RGBA(248, 248, 249, 1)
                        OnSelect: |-
                            =Set(DealDetailTab, 3);
                            Set(currentPageIndex,0);
                            ClearCollect(listPageIndex, pageIndexFirst);
                            Set(lisres, Blank());
                            Set(pageCount, 0);
                            Clear(investmentFilter);
                            
                            ClearCollect(listItemInvestment, listItemInvestmentUnderProcessing);
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                            
                            Switch(
                                DealDetailTab,
                                1,
                                If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "EDIT" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "DELETE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
                                If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));
                                If("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                2,
                                ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
                                3,
                                Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
                                If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));
                                If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                4,
                                ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
                            );
                            
                            
                            // Call API get datas
                            ClearCollect(listItemInvestmentUnderProcessing,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                               resKeyOpenAll.open,resKeyOpenAll.close,
                               If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                               If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                               PageSizeNumber,currentPageIndex,
                               If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                               If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                               If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                               )
                            );
                            
                            Switch(DealDetailTab, 1, ClearCollect(listItemInvestment, listItemInvestmentActionNeed), 3, ClearCollect(listItemInvestment, listItemInvestmentUnderProcessing), 2, ClearCollect(listItemInvestment, listItemInvestmentCompleted), 4, ClearCollect(listItemInvestment, listItemInvestmentPublish));
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                        PaddingLeft: =0
                        PaddingRight: =0
                        PressedColor: =Self.Color
                        PressedFill: =Self.Fill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 10.5, 10.5)
                        Text: ="Under processing"
                        Tooltip: ="Under processing"
                        Width: =Parent.Width
                        ZIndex: =1

                    BottomBorder1_14 As rectangle:
                        BorderColor: =If(DealDetailTab = 3, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                        BorderThickness: =If(DealDetailTab = 3, 2, 0)
                        Fill: =RGBA(246, 246, 246, 1)
                        Height: =If(DealDetailTab = 3, 2, 0)
                        Width: =Parent.Width
                        Y: =38
                        ZIndex: =2

                IR_Tab2 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    LayoutMinHeight: =47
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Width: =100
                    ZIndex: =3

                    Button8_8 As button:
                        BorderStyle: =BorderStyle.None
                        Color: =If(DealDetailTab = 2, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        Height: =35
                        HoverColor: =If(DealDetailTab = 2, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        HoverFill: =RGBA(248, 248, 249, 1)
                        OnSelect: |-
                            =Set(DealDetailTab, 2);
                            Set(currentPageIndex,0);
                            ClearCollect(listPageIndex, pageIndexFirst);
                            Set(lisres, Blank());
                            Set(pageCount, 0);
                            ClearCollect(listItemInvestment, listItemInvestmentCompleted);
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                            
                            Switch(
                                DealDetailTab,
                                1,
                                ClearCollect(investmentFilter,[]);
                                If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "EDIT" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "DELETE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
                                If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));
                                If("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                2,
                                ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
                                3,
                                ClearCollect(investmentFilter,[]);
                                Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
                                If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));
                                If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                4,
                                ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
                            );
                            
                            
                            // Call API get datas
                            ClearCollect(listItemInvestmentCompleted,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                               resKeyOpenAll.open,resKeyOpenAll.close,
                               If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                               If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                               PageSizeNumber,currentPageIndex,
                               If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                               If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                               If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                               )
                            );
                            
                            Switch(DealDetailTab, 1, ClearCollect(listItemInvestment, listItemInvestmentActionNeed), 3, ClearCollect(listItemInvestment, listItemInvestmentUnderProcessing), 2, ClearCollect(listItemInvestment, listItemInvestmentCompleted), 4, ClearCollect(listItemInvestment, listItemInvestmentPublish));
                            
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                        PaddingLeft: =0
                        PaddingRight: =0
                        PressedColor: =Self.Color
                        PressedFill: =Self.Fill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 10.5, 10.5)
                        Text: ="Completed"
                        Tooltip: ="Completed"
                        Width: =Parent.Width
                        ZIndex: =1

                    BottomBorder1_15 As rectangle:
                        BorderColor: =If(DealDetailTab = 2, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                        BorderThickness: =If(DealDetailTab = 2, 2, 0)
                        Fill: =RGBA(246, 246, 246, 1)
                        Height: =If(DealDetailTab = 2, 2, 0)
                        Width: =Parent.Width
                        Y: =38
                        ZIndex: =2

                IR_Tab4 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    LayoutMinHeight: =47
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Width: =100
                    ZIndex: =4

                    Button8_9 As button:
                        BorderStyle: =BorderStyle.None
                        Color: =If(DealDetailTab = 4, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        Height: =35
                        HoverColor: =If(DealDetailTab = 4, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        HoverFill: =RGBA(248, 248, 249, 1)
                        OnSelect: |-
                            =Set(DealDetailTab, 4);
                            Set(currentPageIndex,0);
                            ClearCollect(listPageIndex, pageIndexFirst);
                            Set(lisres, Blank());
                            Set(pageCount, 0);
                            
                            ClearCollect(listItemInvestment, listItemInvestmentPublish);
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                            
                            Switch(
                                DealDetailTab,
                                1,
                                ClearCollect(investmentFilter,[]);
                                If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "EDIT" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "DELETE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
                                If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));
                                If("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                2,
                                ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
                                3,
                                ClearCollect(investmentFilter,[]);
                                Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
                                If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));
                                If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                                4,
                                ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
                            );
                            
                            // Call API get datas
                            ClearCollect(listItemInvestmentPublish,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                               resKeyOpenAll.open,resKeyOpenAll.close,
                               If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                               If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                               PageSizeNumber,currentPageIndex,
                               If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                               If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                               If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                               )
                            );
                            
                            Switch(DealDetailTab, 1, ClearCollect(listItemInvestment, listItemInvestmentActionNeed), 3, ClearCollect(listItemInvestment, listItemInvestmentUnderProcessing), 2, ClearCollect(listItemInvestment, listItemInvestmentCompleted), 4, ClearCollect(listItemInvestment, listItemInvestmentPublish));
                            
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                        PaddingLeft: =0
                        PaddingRight: =0
                        PressedColor: =Self.Color
                        PressedFill: =Self.Fill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 10.5, 10.5)
                        Text: ="Published"
                        Tooltip: ="Published"
                        Width: =Parent.Width
                        ZIndex: =1

                    BottomBorder1_16 As rectangle:
                        BorderColor: =If(DealDetailTab = 4, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                        BorderThickness: =If(DealDetailTab = 4, 2, 0)
                        Fill: =RGBA(246, 246, 246, 1)
                        Height: =If(DealDetailTab = 4, 2, 0)
                        Width: =Parent.Width
                        Y: =38
                        ZIndex: =2

            _Label1_1 As label:
                Align: =Align.Center
                Font: =Font.Arial
                Size: =10.5
                Text: ="Empty data."
                Visible: =TableContent_5.AllItemsCount = 0 && !isLoading
                Width: =Hr_1.Width
                X: =Hr_1.X
                Y: =Hr_1.Y + 10
                ZIndex: =17

            SubmitButtonContainer_1 As group:
                Height: =5
                Width: =5
                X: =-1121
                Y: =30
                ZIndex: =35

                SubmitButton_3 As button:
                    BorderThickness: =0
                    Fill: =RGBA(17, 79, 144, 1)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    OnSelect: =Set(investmentDetail, Blank()); Set(irDetail, Blank()); Navigate(DetailInvestmentResearch, ScreenTransition.Fade);
                    PaddingBottom: =10
                    PaddingLeft: =40
                    PaddingRight: =10
                    PaddingTop: =10
                    PressedColor: =Self.Color 
                    PressedFill: =Self.Fill
                    Size: =10.5
                    Text: ="Create"
                    Visible: ="CREATE" in LookUp(currenUserV2.permissionList, process_code = "Process1.3", action)
                    Width: =120
                    X: =If(Parent.Width > 1000, WhiteBackground_2.X + WhiteBackground_2.Width - 140, Parent.Width > 600, Parent.Width - 140, Parent.Width - 130)
                    Y: =If(App.Width > 800, input_searchAll_1.Y, StatusDropdown_1.Y + StatusDropdown_1.Height + 10)
                    ZIndex: =11

                SubmitButtonIcon_2 As icon.AddDocument:
                    Color: =RGBA(255, 255, 255, 1)
                    Height: =20
                    Icon: =Icon.Add
                    OnSelect: =Set(investmentDetail, Blank()); Set(irDetail, Blank()); Navigate(DetailInvestmentResearch, ScreenTransition.Fade);
                    PaddingRight: =0.00
                    PaddingTop: =0.00
                    Tooltip: ="New"
                    Visible: ="CREATE" in LookUp(currenUserV2.permissionList, process_code = "Process1.3", action)
                    Width: =20
                    X: =SubmitButton_3.X + 25
                    Y: =SubmitButton_3.Y + 12
                    ZIndex: =12

            btnRefresh_9 As button:
                BorderThickness: =0
                DisabledColor: =Self.Color
                DisabledFill: =Self.Fill
                Fill: =RGBA(17, 79, 144, 1)
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                Height: =44
                OnSelect: =Select(RefreshListIcon_5)
                PaddingBottom: =10
                PaddingLeft: =30
                PaddingRight: =10
                PaddingTop: =10
                PressedColor: =Self.Color 
                PressedFill: =Self.Fill
                Size: =10.5
                Text: =""
                Tooltip: ="Click here to clear filters"
                Width: =44
                X: =RefreshListIcon_5.X - 11
                Y: =SearchAUMButton_2.Y
                ZIndex: =36

            RefreshListIcon_5 As icon.Reload:
                Color: =RGBA(255, 255, 255, 1)
                Height: =20
                Icon: =Icon.Reload
                OnSelect: |-
                    =Set(isLoading, true);
                    Reset(input_searchAll_1);
                    Reset(DateFrom_Datepicker_1);
                    Reset(DateTo_DatePicker_1);
                    Set(reportTypeValue, Blank());
                    Set(DealDetailTab, 1);
                    
                    // Set filter values
                    Set(PageSizeNumber, 10);
                    Set(sortColumn,"created_date");
                    If(IsBlank(currentPageIndex),Set(currentPageIndex,0));
                    Set(maxList,[1,2,3,4]);
                    Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
                    ClearCollect(listPageIndex, pageIndexFirst);
                    ClearCollect(investmentFilter, []);
                    Switch(
                        DealDetailTab,
                        1,
                        ClearCollect(investmentFilter,[]);
                        If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
                        If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));
                        If("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                        2, ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
                        3,
                        ClearCollect(investmentFilter,[]);
                        Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
                        If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));
                        If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                        4, ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
                    );
                    // Call API get datas
                    Set(isLoading, true);
                    Concurrent(
                        //Action need
                    ClearCollect(listItemInvestmentActionNeed,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                       resKeyOpenAll.open,
                       resKeyOpenAll.close,
                       If(IsBlank(reportTypeValue) , "", reportTypeValue),
                       "",
                       "",
                       "",
                       If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                       PageSizeNumber,
                       currentPageIndex,
                       If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                       If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                       If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                       )
                    ),
                     //Under processing
                    ClearCollect(listItemInvestmentUnderProcessing,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                       resKeyOpenAll.open,resKeyOpenAll.close,
                       If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                       If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                       PageSizeNumber,currentPageIndex,
                       If(Len(Concat(investmentFilterUnder, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterUnder, "," & "'" & value & "'"), Len(Concat(investmentFilterUnder, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                       If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                       If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                       )),
                    //Completed
                    ClearCollect(listItemInvestmentCompleted,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                       resKeyOpenAll.open,resKeyOpenAll.close,
                       If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                       If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                       PageSizeNumber,currentPageIndex,
                       If(Len(Concat(investmentFilterComplete, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterComplete, "," & "'" & value & "'"), Len(Concat(investmentFilterComplete, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                       If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                       If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                       )
                    ),
                    //Publish
                    ClearCollect(listItemInvestmentPublish,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                       resKeyOpenAll.open,resKeyOpenAll.close,
                       If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                       If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                       PageSizeNumber,currentPageIndex,
                       If(Len(Concat(investmentFilterPublish, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterPublish, "," & "'" & value & "'"), Len(Concat(investmentFilterPublish, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                       If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                       If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                       )
                    ));
                    Switch(DealDetailTab, 1, ClearCollect(listItemInvestment, listItemInvestmentActionNeed), 3, ClearCollect(listItemInvestment, listItemInvestmentUnderProcessing), 2, ClearCollect(listItemInvestment, listItemInvestmentCompleted), 4, ClearCollect(listItemInvestment, listItemInvestmentPublish));
                    Set(isLoading, false);
                    
                    Set(lisres, First(listItemInvestment).listItem);
                    Set(pageCount,First(listItemInvestment).pageCount);
                    ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                Tooltip: ="Click here to clear all filters"
                Width: =20
                X: =SearchAUMButton_2.X + SearchAUMButton_2.Width + 17
                Y: =SearchAUMButton_2.Y + 12
                ZIndex: =37

            ProposalSearchGroup_1 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =40

                SearchAUMButton_2 As button:
                    BorderThickness: =0
                    DisabledColor: =Self.Color
                    DisabledFill: =Self.Fill
                    Fill: =RGBA(17, 79, 144, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    OnSelect: =Select(SearchAUMIcon_6)
                    PaddingBottom: =10
                    PaddingLeft: =40
                    PaddingRight: =10
                    PaddingTop: =10
                    PressedColor: =Self.Color 
                    PressedFill: =Self.Fill
                    Size: =10.5
                    Text: =""
                    Width: =44
                    X: =input_searchAll_1.X + input_searchAll_1.Width + 10
                    Y: =input_searchAll_1.Y
                    ZIndex: =33

                SearchAUMIcon_6 As htmlViewer:
                    Font: =Font.Arial
                    Height: =35
                    HtmlText: |-
                        ="<div style=""cursor: pointer; width: 30px; height: 3-px; padding: 5px""><svg xmlns=""http://www.w3.org/2000/svg"" width=""21"" height=""20"" viewBox=""0 0 21 20"" fill=""none"">
                          <path d=""M19.5002 19.0002L15.1572 14.6572M15.1572 14.6572C15.9001 13.9143 16.4894 13.0324 16.8914 12.0618C17.2935 11.0911 17.5004 10.0508 17.5004 9.00021C17.5004 7.9496 17.2935 6.90929 16.8914 5.93866C16.4894 4.96803 15.9001 4.08609 15.1572 3.34321C14.4143 2.60032 13.5324 2.01103 12.5618 1.60898C11.5911 1.20693 10.5508 1 9.50021 1C8.4496 1 7.40929 1.20693 6.43866 1.60898C5.46803 2.01103 4.58609 2.60032 3.84321 3.34321C2.34288 4.84354 1.5 6.87842 1.5 9.00021C1.5 11.122 2.34288 13.1569 3.84321 14.6572C5.34354 16.1575 7.37842 17.0004 9.50021 17.0004C11.622 17.0004 13.6569 16.1575 15.1572 14.6572Z"" stroke=""white"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""/>
                        </svg><div>"
                    OnSelect: |-
                        =Set(isLoading, true);
                        UpdateContext({ShowNotification: false});
                        Set(currentPageIndex,0);
                        Set(dateFromFilterVar, DateFrom_Datepicker_1.SelectedDate);
                        Set(dateToFilterVar, DateTo_DatePicker_1.SelectedDate);
                        
                        // Set filter values
                        Set(currentPageIndex,0);
                        ClearCollect(listPageIndex, pageIndexFirst);
                        
                        Switch(
                            DealDetailTab,
                            1,
                            ClearCollect(investmentFilter,[]);
                            If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "EDIT" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action) || "DELETE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
                            If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));
                            If("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                            2,
                            ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
                            3,
                            ClearCollect(investmentFilter,[]);
                            Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
                            If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));
                            If(!("DCEO_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING_DCEO"}));,
                            4,
                            ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
                        );
                        
                        If(DateDiff(DateFrom_Datepicker_1.SelectedDate, DateTo_DatePicker_1.SelectedDate) < 0,
                        Set(NoticationText, "The from date cannot be greater than the to date!"); Set(IsError, true); UpdateContext({ShowNotification: true}); Set(isLoading, false),
                        
                        // Call API get datas
                        Set(isLoading, true);
                        Concurrent(
                            //Action need
                        ClearCollect(listItemInvestmentActionNeed,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                           resKeyOpenAll.open,
                           resKeyOpenAll.close,
                           If(IsBlank(reportTypeValue) , "", reportTypeValue),
                           "",
                           "",
                           "",
                           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                           PageSizeNumber,
                           currentPageIndex,
                           If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, 1,
                           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                           )
                        ),
                         //Under processing
                            ClearCollect(listItemInvestmentUnderProcessing,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                            resKeyOpenAll.open,resKeyOpenAll.close,
                            If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                            If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                            PageSizeNumber,currentPageIndex,
                            If(Len(Concat(investmentFilterUnder, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterUnder, "," & "'" & value & "'"), Len(Concat(investmentFilterUnder, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, 0,
                            If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                            If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                            )
                            ),
                        //Completed
                        ClearCollect(listItemInvestmentCompleted,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                           resKeyOpenAll.open,resKeyOpenAll.close,
                           If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                           PageSizeNumber,currentPageIndex,
                           If(Len(Concat(investmentFilterComplete, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterComplete, "," & "'" & value & "'"), Len(Concat(investmentFilterComplete, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, 0,
                           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                           )
                        ),
                        //Publish
                        ClearCollect(listItemInvestmentPublish,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                           resKeyOpenAll.open,resKeyOpenAll.close,
                           If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                           PageSizeNumber,currentPageIndex,
                           If(Len(Concat(investmentFilterPublish, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilterPublish, "," & "'" & value & "'"), Len(Concat(investmentFilterPublish, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, 0,
                           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                           )
                        ));
                        Switch(DealDetailTab, 1, ClearCollect(listItemInvestment, listItemInvestmentActionNeed), 3, ClearCollect(listItemInvestment, listItemInvestmentUnderProcessing), 2, ClearCollect(listItemInvestment, listItemInvestmentCompleted), 4, ClearCollect(listItemInvestment, listItemInvestmentPublish));
                        Set(isLoading, false);
                        
                        Set(lisres, First(listItemInvestment).listItem);
                        Set(pageCount,First(listItemInvestment).pageCount);
                        
                        ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                        Set(isLoading, false);
                        )
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Width: =30
                    X: =SearchAUMButton_2.X + 5
                    Y: =SearchAUMButton_2.Y + 6
                    ZIndex: =34

                input_searchAll_1 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: =
                    DisplayMode: =DisplayMode.Edit 
                    FocusedBorderColor: =Self.HoverBorderColor
                    FocusedBorderThickness: =1
                    Font: =Font.Arial
                    Height: =44
                    HintText: ="Search ..."
                    HoverFill: =RGBA(186, 202, 226, 0)
                    Size: =If(App.Width > 600, 10.5, 12)
                    Width: |-
                        =If(
                            App.Width > 1300,
                            StatusDropdown_1.X + StatusDropdown_1.Width - Self.X,
                            App.Width > 600,
                            StatusDropdown_1.X + StatusDropdown_1.Width - Self.X - 57 - 30,
                            App.Width - 73 - 50
                        ) - If(App.Width > 950 && App.Width < 1100, 150, 0)
                    X: |-
                        =If(
                            App.Width > 800,
                            If(MobileShowMenu, MenuItemsSideBar_IR.X + MenuItemsSideBar_IR.Width + 20, MenuItemsSideBar_Small_IR.X + MenuItemsSideBar_Small_IR.Width + 20),
                            10
                        )
                    Y: =10
                    ZIndex: =35

            QT2TabsGroup_4 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =40

                HrQT2_4 As rectangle:
                    BorderColor: =RGBA(176, 176, 176, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(246, 246, 246, 1)
                    Height: =0.5
                    Visible: =false
                    Width: =QT2Tabs_4.Width
                    X: =QT2Tabs_4.X
                    Y: =QT2Tabs_4.Y + QT2Tabs_4.Height - 7
                    ZIndex: =5

                QT2Tabs_4 As gallery.galleryHorizontal:
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =47
                    Items: |-
                        =[{text:"Action needed",tab:1},{text:"Under processing",tab:3},{text:"Completed",tab:2},{text:"Published",tab:4}]
                    ShowScrollbar: =false
                    TemplatePadding: =0
                    TemplateSize: =If(App.Width > 600, 140, (App.Width - 20) / 3)
                    Visible: =false
                    Width: =Min(Self.AllItemsCount * Self.TemplateWidth, App.Width)
                    X: =WhiteBackground_2.X + 5
                    Y: =If(App.Width > 800, StatusDropdown_1.Y + StatusDropdown_1.Height + 10, If(SubmitButton_3.Visible, SubmitButton_3.Y + SubmitButton_3.Height + 10, SubmitButton_3.Y + 10))
                    ZIndex: =6

                    Button8_5 As button:
                        BorderStyle: =BorderStyle.None
                        Color: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        Height: =35
                        HoverColor: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        HoverFill: =RGBA(248, 248, 249, 1)
                        OnSelect: |-
                            =Set(DealDetailTab, 1);
                            Set(currentPageIndex,0);
                            ClearCollect(listPageIndex, pageIndexFirst);
                            Set(lisres, Blank());
                            Set(pageCount, 0);
                            
                            Switch(
                                DealDetailTab,
                                1,
                                ClearCollect(investmentFilter,[]);
                                If("CREATE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"}));
                                If("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action), Collect(investmentFilter,{value: "PENDING"}));,
                                2,
                                ClearCollect(investmentFilter,[{value: "REJECTED"}, {value: "APPROVED"}]),
                                3,
                                ClearCollect(investmentFilter,[]);
                                Collect(investmentFilter,{value: "DRAFT"}); Collect(investmentFilter,{value: "REVISED"});
                                If(!("APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process1.3",action)), Collect(investmentFilter,{value: "PENDING"}));,
                                4,
                                ClearCollect(investmentFilter,[{value: "PUBLISHED"}])
                            );
                            
                            
                            // Call API get datas
                            Set(isLoading, true);
                            ClearCollect(listItemInvestment,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                               resKeyOpenAll.open,resKeyOpenAll.close,
                               If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                               If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                               PageSizeNumber,currentPageIndex,
                               If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                               If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                               If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                               )
                            );
                            Set(isLoading, false);
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                        PaddingLeft: =0
                        PaddingRight: =0
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 10.5, 10.5)
                        Text: =ThisItem.text
                        Tooltip: =ThisItem.text
                        Width: =QT2Tabs_4.TemplateWidth
                        Y: =5
                        ZIndex: =1

                    BottomBorder1_12 As rectangle:
                        BorderColor: =If(DealDetailTab = ThisItem.tab, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                        BorderThickness: =If(DealDetailTab = ThisItem.tab, 2, 0)
                        Fill: =RGBA(246, 246, 246, 1)
                        Height: =If(DealDetailTab = 1, 2, 0)
                        Width: =QT2Tabs_4.TemplateWidth
                        Y: =40
                        ZIndex: =2

            SearchGroup_1 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =41

                DateFrom_InputBack_1 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: ="ÄÃ¢Ìu vaÌo vÄn baÌn"
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =44
                    HoverBorderColor: =RGBA(191, 191, 192, 1)
                    HoverFill: =RGBA(186, 202, 226, 0)
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =13.00
                    Width: =If(Parent.Width > 1000, 216.00, Parent.Width > 800, (Parent.Width - If(MobileShowMenu, 280, 90)) / 2 - 5, (Parent.Width - 25) / 2 - 2)
                    X: =DateFrom_Label_1.X
                    Y: =DateFrom_Label_1.Y + DateFrom_Label_1.Height
                    ZIndex: =18

                DateFrom_Datepicker_1 As datepicker:
                    BorderThickness: =0
                    DefaultDate: =
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Format: ="dd/mm/yyyy"
                    Height: =DateFrom_InputBack_1.Height - 6
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =RGBA(0, 0, 0, 1)
                    InputTextPlaceholder: =If(IsBlank(Self.SelectedDate), Text("From", Self.Format, Self.Language))
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =50
                    PaddingTop: =10
                    Size: =10.5
                    Width: =DateFrom_InputBack_1.Width - 6
                    X: =DateFrom_InputBack_1.X + 3
                    Y: =DateFrom_InputBack_1.Y + 3
                    ZIndex: =19

                DateFrom_Label_1 As label:
                    Color: =RGBA(16, 17, 18, 1)
                    Font: =Font.Arial
                    Height: =30
                    PaddingLeft: =0
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =10.5
                    Text: ="Created date"
                    Width: =150.00
                    X: =input_searchAll_1.X
                    Y: =input_searchAll_1.Y + input_searchAll_1.Height + 5
                    ZIndex: =20

                DateTo_InputBack_1 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: ="ÄÃ¢Ìu vaÌo vÄn baÌn"
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =44
                    HoverBorderColor: =RGBA(191, 191, 192, 1)
                    HoverFill: =RGBA(186, 202, 226, 0)
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =13.00
                    Width: =If(Parent.Width > 1000, 216.00, Parent.Width > 800, (Parent.Width - If(MobileShowMenu, 280, 90)) / 2 - 5, (Parent.Width - 25) / 2 - 2)
                    X: =DateFrom_InputBack_1.X + DateFrom_InputBack_1.Width + 10
                    Y: =DateFrom_Label_1.Y + DateFrom_Label_1.Height
                    ZIndex: =21

                DateTo_DatePicker_1 As datepicker:
                    BorderThickness: =0
                    DefaultDate: =
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Format: ="dd/mm/yyyy"
                    Height: =DateTo_InputBack_1.Height - 6
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =RGBA(0, 0, 0, 1)
                    InputTextPlaceholder: =If(IsBlank(Self.SelectedDate), Text("To", Self.Format, Self.Language))
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    StartYear: =If(IsBlank(DateFrom_Datepicker_1.SelectedDate), 1970, Year(DateFrom_Datepicker_1.SelectedDate))
                    Width: =DateTo_InputBack_1.Width - 6
                    X: =DateTo_InputBack_1.X + 3
                    Y: =DateTo_InputBack_1.Y + 3
                    ZIndex: =22

                ProposalNameFilter_Input_1 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: =""
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =44
                    HintText: ="Proposal name"
                    HoverFill: =RGBA(255, 255, 255, 1)
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =8
                    RadiusBottomRight: =8
                    RadiusTopLeft: =8
                    RadiusTopRight: =8
                    Size: =10.5
                    Visible: =false
                    Width: =If(Parent.Width > 600, 216, Parent.Width - 30)
                    X: =If(Parent.Width > 600, DateTo_InputBack_1.X + DateTo_InputBack_1.Width + 10, DateFrom_InputBack_1.X)
                    Y: =ProposalNameFilter_Label_1.Y + ProposalNameFilter_Label_1.Height
                    ZIndex: =23

                ProposalNameFilter_Label_1 As label:
                    Color: =RGBA(82, 82, 82, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Height: =30
                    PaddingLeft: =0
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =10.5
                    Text: ="Proposal name"
                    Visible: =false
                    Width: =150.00
                    X: =ProposalNameFilter_Input_1.X
                    Y: =DateFrom_Label_1.Y + If(Parent.Width > 600, 0, 80)
                    ZIndex: =24

                Status_Label_1 As label:
                    Color: =RGBA(16, 17, 18, 1)
                    Font: =Font.Arial
                    Height: =30
                    PaddingLeft: =0
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =10.5
                    Text: ="Report type"
                    Width: =150.00
                    X: =StatusDropdown_1.X
                    Y: =DateFrom_Label_1.Y + If(Parent.Width > 1000, 0, 80)
                    ZIndex: =25

                StatusDropdown_1 As button:
                    Align: =Align.Left
                    BorderColor: =If(reportTypeShowDropdown, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                    BorderThickness: =1
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    FocusedBorderThickness: =1
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: =Set(reportTypeShowDropdown, !reportTypeShowDropdown)
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedBorderColor: =
                    PressedColor: =
                    PressedFill: =
                    RadiusBottomLeft: =5
                    RadiusBottomRight: =5
                    RadiusTopLeft: =5
                    RadiusTopRight: =5
                    Size: =10.5
                    Text: =First(Filter(reportTypeArray, value = reportTypeValue)).en
                    Width: |-
                        =If(
                            Parent.Width > 1300,
                            216,
                            Parent.Width > 1000,
                            App.Width - Self.X - 20,
                            Parent.Width <= 1000 && Parent.Width > 800,
                            Parent.Width - If(MobileShowMenu, 280, 90),
                            Parent.Width - 20
                        )
                    X: =If(Parent.Width > 1000, DateTo_InputBack_1.X + DateTo_InputBack_1.Width + 10, DateFrom_InputBack_1.X)
                    Y: =Status_Label_1.Y + Status_Label_1.Height
                    ZIndex: =26

                StatusChevron_1 As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        =If(reportTypeShowDropdown,
                        "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                        <g clip-path=""url(#clip0_1760_3688)"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                        </g>
                        <defs>
                        <clipPath id=""clip0_1760_3688"">
                        <rect width=""24"" height=""24"" fill=""white""/>
                        </clipPath>
                        </defs>
                        </svg></div>"
                        , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                        </svg></div>")
                    OnSelect: =Set(reportTypeShowDropdown, !reportTypeShowDropdown)
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Width: =35
                    X: =StatusDropdown_1.X + StatusDropdown_1.Width - 40
                    Y: =StatusDropdown_1.Y + 5
                    ZIndex: =27

                SearchCloseDropdown_1 As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =App.Height - 100
                    OnSelect: =Set(reportTypeShowDropdown, false)
                    Visible: =reportTypeShowDropdown
                    Width: =Parent.Width
                    Y: =40
                    ZIndex: =28

                "StatusItems_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                    Items: =reportTypeArray
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =reportTypeShowDropdown
                    Width: =StatusDropdown_1.Width
                    X: =StatusDropdown_1.X
                    Y: =StatusDropdown_1.Y + 50
                    ZIndex: =29

                    Button6_13 As button:
                        Align: =Align.Left
                        BorderThickness: =0
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: =If(reportTypeValue = ThisItem.value, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                        FocusedBorderThickness: =0
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: |-
                            =Set(reportTypeValue, ThisItem.value);
                            Set(reportTypeShowDropdown, false);
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedColor: =Self.Color
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10.5
                        Text: =ThisItem.en 
                        Width: =Parent.Width 
                        X: =0.00
                        ZIndex: =1

                ClearFormDateQT2_3 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =15
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Reset(DateFrom_Datepicker_1);
                        Set(dateFromFilterVar,DateFrom_Datepicker_1.SelectedDate);
                        Set(dateToFilterVar,DateTo_DatePicker_1.SelectedDate);
                    Visible: =!IsBlank(DateFrom_Datepicker_1.SelectedDate)
                    Width: =15
                    X: =DateFrom_InputBack_1.X + DateFrom_InputBack_1.Width - 55
                    Y: =DateFrom_InputBack_1.Y + 15
                    ZIndex: =30

                ClearToDateQT2_1 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =15
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Reset(DateTo_DatePicker_1);
                        Set(dateFromFilterVar,DateFrom_Datepicker_1.SelectedDate);
                        Set(dateToFilterVar,DateTo_DatePicker_1.SelectedDate);
                    Visible: =!IsBlank(DateTo_DatePicker_1.SelectedDate)
                    Width: =15
                    X: =DateTo_InputBack_1.X + DateTo_InputBack_1.Width - 55
                    Y: =DateTo_InputBack_1.Y + 15
                    ZIndex: =31

                ClearStatusQT2_1 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =15
                    Icon: =Icon.Cancel
                    OnSelect: =Set(reportTypeValue, Blank());
                    Visible: =!IsBlank(reportTypeValue)
                    Width: =15
                    X: =StatusDropdown_1.X + StatusDropdown_1.Width - 55
                    Y: =StatusDropdown_1.Y + 15
                    ZIndex: =32

            Filter_Container_2 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =43

                PreviousIcon_2 As icon.ChevronLeft:
                    Height: =15
                    Icon: =Icon.ChevronLeft
                    OnSelect: |
                        =Set(currentPageIndex,currentPageIndex - 1);
                        
                        Set(isLoading, true);
                        // Call API get datas
                        ClearCollect(listItemInvestment,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                           resKeyOpenAll.open,resKeyOpenAll.close,
                           If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                           PageSizeNumber,currentPageIndex,
                           If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                           )
                        );
                        Set(isLoading, false);
                        Set(lisres, First(listItemInvestment).listItem);
                        Set(pageCount,First(listItemInvestment).pageCount);
                        
                        Set(pageIndexFirst,5 * RoundDown(currentPageIndex / 5,0));
                        ClearCollect(listPageIndex,pageIndexFirst);
                        ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                    Tooltip: ="Previous page"
                    Visible: =If(currentPageIndex<=0,false,true)
                    Width: =15
                    X: =PageNumbers_2.X - 22
                    Y: =PageNumbers_2.Y + 10
                    ZIndex: =8

                NextIcon_3 As icon.ChevronRight:
                    Height: =15
                    Icon: =Icon.ChevronRight
                    OnSelect: |
                        =Set(currentPageIndex,currentPageIndex + 1);
                        
                        // Call API get datas
                        ClearCollect(listItemInvestment,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                           resKeyOpenAll.open,resKeyOpenAll.close,
                           If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                           If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                           PageSizeNumber,currentPageIndex,
                           If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                           If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                           If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                           )
                        );
                        Set(lisres, First(listItemInvestment).listItem);
                        Set(pageCount,First(listItemInvestment).pageCount);
                        
                        Set(pageIndexFirst,5 * RoundDown(currentPageIndex / 5,0));
                        ClearCollect(listPageIndex,pageIndexFirst);
                        ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                    Tooltip: ="Next page"
                    Visible: =If(currentPageIndex>=pageCount-1,false,true)
                    Width: =15
                    X: =WhiteBackground_2.X + WhiteBackground_2.Width - 50
                    Y: =PageNumbers_2.Y + 10
                    ZIndex: =9

                "PageNumbers_2 As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =42
                    Items: =listPageIndex
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =35
                    Width: =PageNumbers_2.AllItemsCount * 35
                    X: =NextIcon_3.X - PageNumbers_2.Width
                    Y: =WhiteBackground_2.Y + WhiteBackground_2.Height
                    ZIndex: =10

                    pageIndex_2 As htmlViewer:
                        DisplayMode: |
                            =DisplayMode.Edit
                        Font: =Font.Arial
                        HtmlText: |-
                            ="<div style='font-family: Arial; width: 15px; display: flex; justify-content: center; align-items: center; cursor: pointer; padding: 3px; background-color: transparent; border-radius: 5px; border: " & If(currentPageIndex = ThisItem.Value, "1px solid #1890FF", "none")&";'><font color=" & If(currentPageIndex = ThisItem.Value, "#1890FF", "black")&">" & (ThisItem.Value + 1) & "</font></div>"
                        OnSelect: |
                            =Set(currentPageIndex,ThisItem.Value);
                            
                            // Call API get datas
                            ClearCollect(listItemInvestment,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                               resKeyOpenAll.open,resKeyOpenAll.close,
                               If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                               If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                               PageSizeNumber,currentPageIndex,
                               If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                               If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                               If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                               )
                            );
                            
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                        PaddingRight: =0
                        Width: =35
                        ZIndex: =2

                PageDropdown_1 As button:
                    Align: =Align.Left
                    BorderColor: =If(ShowPageSizeSelectPopup, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                    BorderThickness: =1
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    FocusedBorderThickness: =1
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =32
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: =Set(ShowPageSizeSelectPopup, !ShowPageSizeSelectPopup)
                    PaddingLeft: =10
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedBorderColor: =
                    PressedColor: =
                    PressedFill: =
                    Size: =10.5
                    Text: =PageSizeNumber
                    Visible: =App.Width > 600
                    Width: =50
                    X: =PreviousIcon_2.X - 60
                    Y: =PageNumbers_2.Y + 2 
                    ZIndex: =13

                PageChevron_1 As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        ="<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                        </svg></div>"
                    OnSelect: =Set(ShowPageSizeSelectPopup, !ShowPageSizeSelectPopup)
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Visible: =App.Width > 600
                    Width: =35
                    X: =PageDropdown_1.X + PageDropdown_1.Width - 28
                    Y: =PageDropdown_1.Y - 2
                    ZIndex: =14

                PageCloseDropdown_2 As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =App.Height - 100
                    OnSelect: =Set(ShowPageSizeSelectPopup, false)
                    Visible: =ShowPageSizeSelectPopup && App.Width > 600
                    Width: =Parent.Width
                    ZIndex: =15

                "PageItems_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =122
                    Items: |-
                        =[{value: 10}, {value: 20}, {value: 50}]
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =ShowPageSizeSelectPopup && App.Width > 600
                    Width: =PageDropdown_1.Width
                    X: =PageDropdown_1.X
                    Y: =PageDropdown_1.Y - 130
                    ZIndex: =16

                    Button6_15 As button:
                        Align: =Align.Left
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: |-
                            =Set(PageSizeNumber, ThisItem.value);
                            Set(ShowPageSizeSelectPopup, false);
                            Set(currentPageIndex,0);
                            
                            // Call API get datas
                            ClearCollect(listItemInvestment,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                               resKeyOpenAll.open,resKeyOpenAll.close,
                               If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                               If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                               PageSizeNumber,currentPageIndex,
                               If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                               If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                               If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                               )
                            );
                            Set(lisres, First(listItemInvestment).listItem);
                            Set(pageCount,First(listItemInvestment).pageCount);
                            
                            // set PageIndex
                            Set(pageIndexFirst, 5*RoundDown((currentPageIndex)/5, 0));
                            Clear(listPageIndex);
                            Collect(listPageIndex, pageIndexFirst);
                            
                            ForAll(maxList,If((Last(listPageIndex).Value + 1) < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1);););
                            Select(Parent);
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10.5
                        Text: =ThisItem.value
                        Width: =70
                        X: =0.00
                        Y: =4
                        ZIndex: =1

    HeaderQT2List_IR As Header:
        ZIndex: =3

    MenuItemsSideBar_IR As MenuItemsSideBar:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_IR.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_IR.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_IR.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_IR.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_IR.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_IR.IconFile,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_IR.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_IR.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoration&A",
                            MenuIcon: MenuItemsSideBar_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_IR.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =MobileShowMenu
        Width: =If(App.Width > 800, 240, App.Width)
        Y: =56
        ZIndex: =4

    MenuItemsSideBar_Small_IR As MenuItemsSideBar_Small:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_Small_IR.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_Small_IR.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_Small_IR.IconFile,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_Small_IR.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoiation&A",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_Small_IR.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =App.Width > 800 && !MobileShowMenu
        Y: =56
        ZIndex: =5

    DeleteConfirm_2 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =10

        RejectPopupBack_7 As rectangle:
            Fill: =RGBA(0.3, 0.3, 0.3, 0.3)
            Height: =Parent.Height
            Visible: =isShowPopupDelete
            Width: =Parent.Width
            ZIndex: =6

        DeleteConfirmBg_5 As htmlViewer:
            Font: =Font.Arial
            Height: =If(Parent.Width > 600, 200, 200)
            HtmlText: |-
                ="<div style='margin-left: 8px; width: calc(100% - 16px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingRight: =5.00
            PaddingTop: =5.00
            Size: =11.00
            Visible: =isShowPopupDelete
            Width: =If(App.Width > 600, 550, App.Width + 5)
            X: =If(App.Width > 600, App.Width * 0.5 - DeleteConfirmBg_5.Width *0.5, -3)
            Y: =App.Height / 2 - Self.Height
            ZIndex: =7

        CancelResearchOpinionButton_3 As button:
            BorderColor: =Self.Color
            BorderThickness: =1
            Color: =RGBA(214, 27, 27, 1)
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(214, 27, 27, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            Height: =44
            HoverColor: =RGBA(214, 27, 27, 1)
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            PressedBorderColor: =RGBA(214, 27, 27, 1)
            PressedColor: =RGBA(214, 27, 27, 1)
            PressedFill: =
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="No"
            Visible: =isShowPopupDelete
            Width: =120
            X: =DeleteResearchOpinionButton_3.X - Self.Width - 10
            Y: =DeleteResearchOpinionButton_3.Y
            ZIndex: =8

        DeleteResearchOpinionButton_3 As button:
            BorderThickness: =
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(214, 27, 27, 1)
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderThickness: =
            Font: =Font.Arial
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(isLoading, true);
                Set(IsError, false);
                UpdateContext({ShowNotification: false});
                
                Set(deleteStatus, 'TVS->DeleteInvestmentResearch-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, If(IsBlank(currenUserV2.id), "", currenUserV2.id), idProposalDelete, envDEV,envTEST, envUAT1, envUAT2).status);
                
                // Call API get datas
                ClearCollect(listItemInvestment,'TVS->FindAllWithFilterPagingSortingInvestment-V1'.Run(
                   resKeyOpenAll.open,resKeyOpenAll.close,
                   If(IsBlank(reportTypeValue) , "", reportTypeValue),"","","",
                   If(IsBlank(input_searchAll_1.Text), "", Trim(Text(input_searchAll_1.Text))),
                   PageSizeNumber,currentPageIndex,
                   If(Len(Concat(investmentFilter, "," & "'" & value & "'")) > 0, Right(Concat(investmentFilter, "," & "'" & value & "'"), Len(Concat(investmentFilter, "," & "'" & value & "'")) - 1), "''"),envDEV,envTEST, envUAT1, envUAT2, currenUserV2.id, If(DealDetailTab = 1, 1, 0),
                   If(IsBlank(DateFrom_Datepicker_1.SelectedDate), "", Text(DateFrom_Datepicker_1.SelectedDate, "yyyy-mm-dd")),
                   If(IsBlank(DateTo_DatePicker_1.SelectedDate), "", Text(DateTo_DatePicker_1.SelectedDate, "yyyy-mm-dd"))
                   )
                );
                Set(lisres, First(listItemInvestment).listItem);
                Set(pageCount,First(listItemInvestment).pageCount);
                
                Set(isShowPopupDelete, false);
                Set(isLoading, false);
                
                If(Value(deleteStatus) = 200,
                Set(NoticationText,"Delete successfully!");UpdateContext({ShowNotification: true});,
                Set(IsError, true);Set(NoticationText,"This proposal has been processed by another user, please reload this page again.");UpdateContext({ShowNotification: true});
                );
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(214, 27, 27, 1)
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="Yes"
            Visible: =isShowPopupDelete
            Width: =120
            X: =DeleteConfirmBg_5.X + DeleteConfirmBg_5.Width - Self.Width - 30
            Y: =DeleteConfirmBg_5.Y + DeleteConfirmBg_5.Height - Self.Height - 30
            ZIndex: =9

        DeleteConfirmCloseIcon_6 As icon.Cancel:
            Color: =RGBA(26, 26, 26, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            Visible: =isShowPopupDelete
            Width: =20
            X: =DeleteConfirmBg_5. X + DeleteConfirmBg_5.Width -50
            Y: =DeleteConfirmBg_5.Y + 20
            ZIndex: =10

        DeleteConfirmLabel_7 As label:
            Font: =Font.Arial
            Size: =12
            Text: ="Are you sure to delete this report ?"
            Visible: =isShowPopupDelete
            Width: =DeleteConfirmBg_5.Width - 100 - DeleteConfirmCloseIcon_6.Width
            X: =Label2_3.X
            Y: =Label2_3.Y + Label2_3.Height
            ZIndex: =11

        Label2_3 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Size: =14
            Text: ="Delete"
            Visible: =isShowPopupDelete
            X: =DeleteConfirmBg_5.X + 30
            Y: =DeleteConfirmBg_5.Y + 10
            ZIndex: =12

    Timer1_14 As timer:
        Duration: =3000
        Font: =Font.Arial
        OnTimerEnd: |-
            =Reset(Timer1_14); UpdateContext({ShowNotification: false}); Set(IsError, false);
        Start: =ShowNotification
        Visible: =false
        X: =60
        Y: =627
        ZIndex: =13

    NotificationBox_14 As button:
        Align: =Align.Left
        BorderColor: =RGBA(40, 167, 69, 1)
        BorderThickness: =0
        DisabledFill: =Self.Fill
        Fill: =If(IsError, RGBA(209, 50, 50, 1), RGBA(40, 167, 69, 1))
        FocusedBorderThickness: =0
        Font: =Font.Arial
        Height: =50
        HoverBorderColor: =Self.Fill
        HoverFill: =Self.Fill
        PaddingLeft: =15
        PaddingRight: =30
        PressedColor: =RGBA(255, 255, 255, 1)
        PressedFill: =Self.Fill
        RadiusBottomLeft: =5
        RadiusBottomRight: =5
        RadiusTopLeft: =5
        RadiusTopRight: =5
        Size: =10.5
        Text: =NoticationText
        Visible: =Timer1_14.Value <> 0
        Width: =320
        X: =App.Width - Self.Width - 2
        Y: =60
        ZIndex: =14

    CloseNotiIcon_14 As icon.Cancel:
        Color: =RGBA(255, 255, 255, 1)
        Height: =15
        Icon: =Icon.Cancel
        OnSelect: =Reset(Timer1_14); Set(IsError, false);
        Visible: =NotificationBox_14.Visible
        Width: =15
        X: =NotificationBox_14.X + NotificationBox_14.Width - 25
        Y: =NotificationBox_14.Y + 17.5
        ZIndex: =15

    NotificationScreen_IR As NotificationScreen:
        Visible: =ShowNotificationPopup
        ZIndex: =16

    LoadingQT2List_11 As LoadingComponent_4:
        Visible: =isLoading
        ZIndex: =17

