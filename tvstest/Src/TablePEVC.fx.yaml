"TablePEVC As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    Fill: =RGBA(248, 248, 249, 1)
    OnVisible: |-
        =Set(isShowCreateProposalPopup, false);
        Set(ShowNotificationPopup,false);
        Set(DealDetailTab, 1);
        //Clear(listRes);
        // Set config variabless
        Set(MenuSelect,"Business process");
        Set(MenuSelect2,If(App.Width > 800, "Process of Private Equity Investment", "PEVC"));
        Set(HeaderText,"");
        Set(StatusSelectedValue, "All");
        Set(serverSelectedValue, "");
        Set(isActionNeeded, true);
        Set(isShowPopupDelete, false);
        UpdateContext({ShowNotification: false});
        Set(isDirectorPEVCUser, "PE_DIRECTOR_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process5",action));
        Set(showAssignPopup, false);
        Set(pvecId, Blank());
        Set(showLoading, true);
        
        // Show notification
        Set(IsError, false);
        Switch(ShowNotificationCheck,
        "CREATED_SUCCESS", Set(NoticationText,"Submitted successfully!");UpdateContext({ShowNotification: true}),
        "UPDATED_SUCCESS", Set(NoticationText,"Submitted successfully!");UpdateContext({ShowNotification: true}),
        "CLOSED_SUCCESS", Set(NoticationText,"Closed successfully!");UpdateContext({ShowNotification: true}),
        "REJECTED_SUCCESS", Set(NoticationText,"Rejected successfully!");UpdateContext({ShowNotification: true}),
        "REVISED_SUCCESS", Set(NoticationText,"Revise successfully!");UpdateContext({ShowNotification: true}),
        "APPROVED_SUCCESS", Set(NoticationText,"Approved successfully!");UpdateContext({ShowNotification: true}),
        "DELETED_SUCCESS", Set(NoticationText,"Deleted successfully!");UpdateContext({ShowNotification: true}),
        "SYSTEM_ERROR", Set(IsError, true);Set(NoticationText,"The system is busy, please try again later!");UpdateContext({ShowNotification: true}),
        "SYSTEM_ERROR_APPROVED", Set(IsError, true);Set(NoticationText,"This proposal has been approved, please check again.");UpdateContext({ShowNotification: true}),
        "STATUS_CHANGED", Set(IsError, true);Set(NoticationText,"This proposal has been processed by another user, please reload this page.");UpdateContext({ShowNotification: true})
        );
        Set(ShowNotificationCheck, "");
        
        Set(assignDealOwnerValue, Blank());
        Set(assignDealMentorValue, Blank());
        ClearCollect(assignDealSupport, []);
        ClearCollect(assignDealObserver, []);
        ClearCollect(assignDealSupportRemove, []);
        ClearCollect(assignDealObserverRemove, []);
        // Reset form
        Reset(input_searchAll_4);
        Reset(DateFrom_Datepicker_12);
        Reset(DateTo_DatePicker_12);
        Clear(listAttachFile);
        Clear(colAttachments);
        Clear(listAttachDelete);
        Clear(listAttachmentInsert);
        Clear(listAttachmentDelete);
        If(IsBlank(statusFilterVar),Set(statusFilterVar, ""), Set(statusFilterVar, StatusSelectedValue));
        
        // Set filter values
        Set(PageSizeNumber, 10);
        Set(sortColumn,"created_date");
        Set(dateFromFilterVar,DateFrom_Datepicker_4.SelectedDate);
        Set(dateToFilterVar,DateTo_DatePicker_5.SelectedDate);
        Set(proposalNameFilterVar,ProposalNameFilter_Input_3.Text);
        If(IsBlank(currentPageIndex),Set(currentPageIndex,0));
        Set(isAllowTab, true); // isActive
        
        // get role and teamGroup
        Clear(pevcTeamGroup);
        Clear(pevcRole);
        ForAll(currenUserV2.permissionList As item, Collect(pevcTeamGroup, item.name_team));
        Set(pevcTeamGroupString,If(IsEmpty(pevcTeamGroup),"''", Left(Concat(pevcTeamGroup, "'" & Value & "' ,"), Len(Concat(pevcTeamGroup, "'" & Value & "' ,")) -1)));
        ForAll(Filter(currenUserV2.permissionList,process_code = "Process5") As item, Collect(pevcRole, item.action));
        Set(pevcRoleString,If(IsEmpty(pevcRole), "''",Left(Concat(pevcRole, "'" & Value & "' ,"), Len(Concat(pevcRole, "'" & Value & "' ,")) -1)));
        
        
        //Select(RefreshPEVCButton);
        Reset(input_searchAll_4);
        Reset(DateFrom_Datepicker_12);
        Reset(DateTo_DatePicker_12);
        Set(StatusSelectedValue, "All");
        Set(serverSelectedValue, "");
        //Select(SearchAUMButton_17);
        UpdateContext({ShowNotification: false});
        Set(currentPageIndex,0);
        Set(dateFromFilterVar, DateFrom_Datepicker_12.SelectedDate);
        Set(dateToFilterVar, DateTo_DatePicker_12.SelectedDate);
        Set(statusFilterPEVC,If(StatusSelectedValue = "All","",StatusSelectedValue));
        Set(serverFilterPEVC,ServerDropDown_1.Text);
        
        If(DateDiff(DateFrom_Datepicker_12.SelectedDate, DateTo_DatePicker_12.SelectedDate) < 0,
            Set(NoticationText, "The from date cannot be greater than the to date!"); Set(IsError, true); UpdateContext({ShowNotification: true}); Set(isLoading, false),
            //Select(CallGetAll_PEVC);
            Set(isLoading, true);
            Concurrent(
            //Divesment - Action need
             ClearCollect(listItemDisvesmentActionNeed,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
            //Divesment - Under processing
            ClearCollect(listItemDisvesmentUnderProcessing,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
            //Divesment - Complete
            ClearCollect(listItemDisvesmentComplete,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC));,
        
            //PreDivesment - Action need
           ClearCollect(listItemPreDisvesmentActionNeed,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
            //PreDivesment - Under processing
            ClearCollect(listItemPreDisvesmentUnderProcessing,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
            //PreDivesment - Complete
           ClearCollect(listItemPreDisvesmentComplete,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)));
        Set(isLoading, false);
        
        If(!isDivestment, 
            Switch(DealDetailTab, 
            1, 
                ClearCollect(listRes,listItemPreDisvesmentActionNeed.listItem);
                Set(pageCount,First(listItemPreDisvesmentActionNeed.pageCount).pageCount),
            2, 
                ClearCollect(listRes,listItemPreDisvesmentUnderProcessing.listItem);
                Set(pageCount,First(listItemPreDisvesmentUnderProcessing.pageCount).pageCount),
            3, 
                ClearCollect(listRes,listItemPreDisvesmentComplete.listItem);
                Set(pageCount,First(listItemPreDisvesmentComplete.pageCount).pageCount)),
            
            Switch(DealDetailTab, 
            1, 
                ClearCollect(listRes,listItemDisvesmentActionNeed.listItem);
                Set(pageCount,First(listItemDisvesmentActionNeed.pageCount).pageCount),
            2, 
                ClearCollect(listRes,listItemDisvesmentUnderProcessing.listItem);
                Set(pageCount,First(listItemDisvesmentUnderProcessing.pageCount).pageCount),
            3, 
                ClearCollect(listRes,listItemDisvesmentComplete.listItem);
                Set(pageCount,First(listItemDisvesmentComplete.pageCount).pageCount))
        );
        //pageIndex
        Set(maxList,[1,2,3,4]);
        Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
        ClearCollect(listPageIndex, pageIndexFirst);
        ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
        
        );
        
        
        Concurrent(
            ClearCollect(listUserAsignPEVC,'TVS->GetByRoleEmployeeDealPEVC-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close));,
            ClearCollect(investmentPortfolioList, 'TVS->FindAlllInvestmentPortfolio'.Run(resKeyOpenAll.open,resKeyOpenAll.close).listItem);
        );

    RectQuickActionBar8 As rectangle:
        Height: =56
        Width: =Parent.Width
        ZIndex: =1

    Canvas10 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =Parent.Height - Self.Y
        Width: =Parent.Width
        Y: =RectQuickActionBar8.Y + RectQuickActionBar8.Height
        ZIndex: =2

        DataCard10 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =Parent.Height - 100
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            WhiteBackground_9 As htmlViewer:
                Font: =Font.Arial
                Height: |-
                    =If(
                        App.Width > 1400,
                        Min(
                            App.Height - 345,
                            Max(
                                TableContent_10.AllItemsCount * TableContent_10.TemplateHeight + ProposalInfomation_Title_6.Height + 82,
                                ProposalInfomation_Title_6.Height + 140
                            )
                        ),
                        Min(550, Max(TableContent_10.AllItemsCount, 1) * TableContent_10.TemplateHeight + ProposalInfomation_Title_6.Height + 92)
                    )
                HtmlText: |-
                    ="<div style='width: calc(100% - 10px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                    '></div>"
                PaddingRight: =5.00
                PaddingTop: =5.00
                Size: =11.00
                Width: =If(Parent.Width > 800, Parent.Width - If(MobileShowMenu, 255, 70), Parent.Width + 5)
                X: =If(Parent.Width > 800, If(MobileShowMenu, 255, 60), 0)
                Y: =QT2Tabs_11.Y + QT2Tabs_11.Height + If(App.Width > 600, 0, 0) - If(!isAllowTab, 40)
                ZIndex: =1

            TableHoziContainer_4 As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Height: =WhiteBackground_9.Height - ProposalInfomation_Title_6.Height - 30
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowX: =LayoutOverflow.Scroll
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =Hr_11.Width + If(App.Width > 600, 5, -5)
                X: =WhiteBackground_9.X + 16
                Y: =ProposalInfomation_Title_6.Y + ProposalInfomation_Title_6.Height
                ZIndex: =2

                Container7_4 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =40
                    LayoutMinHeight: =TableHoziContainer_4.Height
                    LayoutMinWidth: =40
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Width: =HeaderClosedDate_PEVC.X + HeaderClosedDate_PEVC.Width
                    ZIndex: =4

                    TableContent_10 As gallery.variableTemplateHeightGallery:
                        '#CopilotOverlayLabel': ="Filtered"
                        BorderColor: =
                        Height: =Parent.Height - Self.Y - 20
                        Items: =First(listRes).listItem
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =42
                        Width: =Container7_4.Width
                        Y: =40
                        ZIndex: =1

                        No_Content_PEVC As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent)
                            Size: =10.5
                            Text: =ThisItem.stt
                            Width: =HeaderNo_PEVC.Width
                            ZIndex: =1

                        AssignMember_Content_PEVC As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            LineHeight: =1.5
                            OnSelect: =
                            PaddingBottom: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: =""
                            VerticalAlign: =VerticalAlign.Top
                            Width: =LabelAssignMember.Width
                            X: =No_Content_PEVC.X + No_Content_PEVC.Width
                            ZIndex: =2

                        DealName_Content_PEVC As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.id &" - "& ThisItem.deal_type &" - "&ThisItem.company_name
                            Width: =HeaderDealName_PEVC.Width
                            X: =AssignMember_Content_PEVC.X + AssignMember_Content_PEVC.Width
                            ZIndex: =3

                        Server_Content_PEVC As label:
                            Color: =RGBA(0,0,0,1)
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.share
                            Width: =HeaderServer_PEVC.Width
                            X: =DealName_Content_PEVC.X + DealName_Content_PEVC.Width
                            ZIndex: =4

                        Status_Content_PEVC As label:
                            Color: |-
                                =If(ThisItem.deal_status in ["Canceled", "Revised", "Rejected"],
                                    RGBA(214, 27, 27, 1),
                                    ThisItem.deal_status in ["Closed"],
                                    RGBA(11, 201, 75, 1),
                                    ThisItem.deal_status in ["Pending approval"],
                                    RGBA(181, 184, 24, 1),
                                    ThisItem.deal_status in ["Draft"],
                                    RGBA(98,95,95,1),
                                    RGBA(181, 184, 24, 1)
                                )
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.deal_status
                            Width: =HeaderStatus_PEVC_1.Width
                            X: =Server_Content_PEVC.X + Server_Content_PEVC.Width
                            ZIndex: =5

                        MainProcedures_Content_PEVC As label:
                            Color: =RGBA(0,0,0,1)
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.deal_main_procedure
                            Width: =HeaderMainProcedures_PEVC.Width
                            X: =Status_Content_PEVC.X + Status_Content_PEVC.Width
                            ZIndex: =6

                        DealType_Content_PEVC As label:
                            Color: =RGBA(0,0,0,1)
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.deal_type
                            Width: =HeaderDealType_PEVC.Width
                            X: =MainProcedures_Content_PEVC.X + MainProcedures_Content_PEVC.Width
                            ZIndex: =7

                        CreatedBy_Content_PEVC As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingLeft: =7
                            PaddingRight: =10
                            Size: =10.5
                            Text: =ThisItem.created_by
                            Width: =HeaderCreatedBy_PEVC.Width
                            X: =DealType_Content_PEVC.X + DealType_Content_PEVC.Width
                            ZIndex: =8

                        CreatedDate_Content_PEVC As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingLeft: =7
                            Size: =10.5
                            Text: =Text(DateValue(ThisItem.created_date), "dd/mm/yyyy")
                            Width: =HeaderCreatedDate_PEVC.Width
                            X: =CreatedBy_Content_PEVC.X + CreatedBy_Content_PEVC.Width
                            ZIndex: =9

                        ClosedDate_Content_PEVC As label:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            PaddingLeft: =7
                            Size: =10.5
                            Text: =Text(DateValue(ThisItem.close_date), "dd/mm/yyyy")
                            Tooltip: =ThisItem.status
                            Width: =HeaderClosedDate_PEVC.Width
                            X: =CreatedDate_Content_PEVC.X + CreatedDate_Content_PEVC.Width
                            ZIndex: =10

                        Status_Icon_PEVC As label:
                            Fill: =RGBA(0,0,0,0)
                            Font: =Font.Arial
                            OnSelect: =Select(Parent);
                            Size: =50
                            Text: ="."
                            VerticalAlign: =VerticalAlign.Bottom
                            Visible: =Len(ThisItem.proposal_status) > 0
                            Width: =30
                            X: =MainProcedures_Content_PEVC.X - 1
                            Y: =2
                            ZIndex: =11

                        ClickButton_PEVC As button:
                            BorderThickness: =0
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledBorderColor: =RGBA(166, 166, 166, 0)
                            DisabledColor: =RGBA(166, 166, 166, 0)
                            DisabledFill: =RGBA(244, 244, 244, 0)
                            Fill: =RGBA(56, 96, 178, 0)
                            FocusedBorderThickness: =0
                            Font: =Font.Arial
                            Height: =TableContent_10.TemplateHeight
                            HoverColor: =RGBA(255, 255, 255, 0)
                            HoverFill: =ColorFade(RGBA(56, 96, 178, 0), -20%)
                            OnSelect: |-
                                =Set(oldDealDetailTab, DealDetailTab);
                                Set(ShowHideButton, false);
                                Set(detailPEVCById, Blank());
                                Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
                                Set(prePEVCInfoEdit, ThisItem);
                                
                                Set(isLoading, true);
                                If(isDivestment,
                                    Concurrent(
                                        Set(pevcNoteFileLog, 'TVS->GetNoteFileLogDivestment-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, ThisItem.id)),
                                        Set(detailPEVCById, 'TVS->FindByIdPEVCDivestmentProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, ThisItem.id)),
                                        ClearCollect(listDealPEVC,'TVS->GetDealEmployeeDivestment-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,ThisItem.id));
                                    );,
                                    Concurrent(
                                        Set(pevcNoteFileLog, 'TVS->GetNoteFileLog-Process5-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, ThisItem.id)),
                                        Set(detailPEVCById, 'TVS->FindByIdPEVCPreProcess5'.Run(resKeyOpenAll.open, resKeyOpenAll.close, ThisItem.id, envDEV, envTEST, envUAT1, envUAT2)),
                                        ClearCollect(listDealPEVC,'TVS->GetDealEmployee-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,ThisItem.id))
                                    );
                                );
                                Set(isShowSubmitButton, false);
                                Set(isShowSaveButton, false);
                                Set(isShowApproveButton, false);
                                Set(isShowReviseButton, false);
                                Set(isShowRejectButton, false);
                                Navigate(DetailPEVC, ScreenTransition.Fade);
                                Set(DealDetailTab, 1);
                                Set(isLoading, false);
                                Set(ShowHideButton, true);
                                Set(calledFindByID, true);
                                Set(PEVCgroups, pevcNoteFileLog.group);
                                Set(PEVClogs, pevcNoteFileLog.log);
                                Select(FilterVoteResult);
                                
                                
                                // estimatedLegalFeeValue
                                Set(OriginalText, Substitute(If(isDivestment, detailPEVCById.estimated_legal_fee, detailPEVCById.dd_legal_fee), ",", ""));
                                Set(FirstDotIndex, Find(".", OriginalText));
                                Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                                Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                                Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                                If(!IsNumeric(ModifiedText), Substitute(If(isDivestment, detailPEVCById.estimated_legal_fee, detailPEVCById.dd_legal_fee), If(isDivestment, detailPEVCById.estimated_legal_fee, detailPEVCById.dd_legal_fee), "");Set(estimatedLegalFeeValue, Blank()),
                                Set(estimatedLegalFeeValue, ModifiedText));
                                
                                // estimatedDDFeeValue
                                Set(OriginalText, Substitute(detailPEVCById.estimate_dd_fee, ",", ""));
                                Set(FirstDotIndex, Find(".", OriginalText));
                                Set(TextBeforeFirstDot, Left(OriginalText, FirstDotIndex));
                                Set(TextAfterFirstDot, Mid(OriginalText, FirstDotIndex + 1, Len(OriginalText) - FirstDotIndex));
                                Set(ModifiedText, TextBeforeFirstDot & Substitute(TextAfterFirstDot, ".", ""));
                                If(!IsNumeric(ModifiedText), Substitute(detailPEVCById.estimate_dd_fee, detailPEVCById.estimate_dd_fee, "");Set(estimatedDDFeeValue, Blank()),
                                Set(estimatedDDFeeValue, ModifiedText));
                                
                                Set(CompanyNameSelectedValue, detailPEVCById.company_id);
                                Set(dealTypeSelectedValue, detailPEVCById.deal_type);
                                ClearCollect(levelOfApprovalList, If(IsBlank(detailPEVCById.level_of_approval), [], Split(detailPEVCById.level_of_approval, "#")));
                                Set(roleDealUserCurrent,First(Filter(listDealPEVC,id=currenUserV2.id)).type);
                                
                                // Convert notes
                                Set(noteListValue, Blank());
                                ClearCollect(pevcListDeleteFiles, []);
                                ClearCollect(noteOfPEVC, pevcNoteFileLog.note);
                                
                                Select(SetUpProgressTree);
                                
                                ClearCollect(note_APPROVE_RESOLUTION,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_RESOLUTION" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_APPROVE_RESOLUTION), ClearCollect(note_APPROVE_RESOLUTION, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_RESOLUTION", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_NEW_LEAD_CREATION,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "NEW_LEAD_CREATION" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_NEW_LEAD_CREATION), ClearCollect(note_NEW_LEAD_CREATION, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NEW_LEAD_CREATION", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_NEW_LEAD_CREATION_PENDING,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "NEW_LEAD_CREATION_PENDING" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_NEW_LEAD_CREATION_PENDING), ClearCollect(note_NEW_LEAD_CREATION_PENDING, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NEW_LEAD_CREATION_PENDING", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_NDA_APPROVAL,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "NDA_APPROVAL" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_NDA_APPROVAL), ClearCollect(note_NDA_APPROVAL, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NDA_APPROVAL", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_COMPLETE_DISCUSSION_PAPER,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_DISCUSSION_PAPER" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_COMPLETE_DISCUSSION_PAPER), ClearCollect(note_COMPLETE_DISCUSSION_PAPER, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_DISCUSSION_PAPER", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_INVESTMENT_MEMO_PENDING,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_MEMO_PENDING" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_INVESTMENT_MEMO_PENDING), ClearCollect(note_INVESTMENT_MEMO_PENDING, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_MEMO_PENDING", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_COMPLETE_TERM_SHEET,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_TERM_SHEET" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_COMPLETE_TERM_SHEET), ClearCollect(note_COMPLETE_TERM_SHEET, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_TERM_SHEET", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_INVESTMENT_MEMO,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_MEMO" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_INVESTMENT_MEMO), ClearCollect(note_INVESTMENT_MEMO, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_MEMO", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_DD_CONTRACT,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "DD_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_DD_CONTRACT), ClearCollect(note_DD_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "DD_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_LEGAL_CONTRACT,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "LEGAL_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_LEGAL_CONTRACT), ClearCollect(note_LEGAL_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "LEGAL_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_INVESTMENT_CONTRACT,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_INVESTMENT_CONTRACT), ClearCollect(note_INVESTMENT_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_COMPLETE_DISBURSEMENT,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_DISBURSEMENT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_COMPLETE_DISBURSEMENT), ClearCollect(note_COMPLETE_DISBURSEMENT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_DISBURSEMENT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_APPROVE_RESOLUTIONS,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_RESOLUTIONS" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_APPROVE_RESOLUTIONS), ClearCollect(note_APPROVE_RESOLUTIONS, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_RESOLUTIONS", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_LEGAL_CONTRACTS,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "LEGAL_CONTRACTS" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_LEGAL_CONTRACTS), ClearCollect(note_LEGAL_CONTRACTS, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "LEGAL_CONTRACTS", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_APPROVE_THE_DIVESTMENT_CONTRACT,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_THE_DIVESTMENT_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_APPROVE_THE_DIVESTMENT_CONTRACT), ClearCollect(note_APPROVE_THE_DIVESTMENT_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_THE_DIVESTMENT_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                ClearCollect(note_COMPLETED_DIVESTMENT,
                                    Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETED_DIVESTMENT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                                );
                                If(IsEmpty(note_COMPLETED_DIVESTMENT), ClearCollect(note_COMPLETED_DIVESTMENT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETED_DIVESTMENT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                                
                                If(!IsBlank(prePEVCInfoEdit),
                                    Set(currentStatus, If(prePEVCInfoEdit.status = "APPROVED",
                                        If(isDivestment, "PROPOSED_DIVESTMENT_NEW", "NEW_LEAD_CREATION_NEW"), prePEVCInfoEdit.status)); Set(PEVCCurrentStatus, prePEVCInfoEdit.status);,
                                    Set(currentStatus, "BLANK"); Set(PEVCCurrentStatus, "BLANK");
                                ); 
                                Set(isShowSubmit, PEVCCurrentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW", "NEW_LEAD_CREATION_DONE", "NDA_APPROVAL_ATTACH_FILE", "NDA_APPROVAL_DONE", "COMPLETE_DISCUSSION_PAPER_DONE", "INVESTMENT_MEMO_DONE", "COMPLETE_TERM_SHEET_DONE", "INVESTMENT_MEMO_ADJUSTED_DONE", "DD_CONTRACT_ATTACH_FILE", "DD_CONTRACT_DONE", "LEGAL_CONTRACT_PENDING_DONE", "INVESTMENT_CONTRACT_ATTACH_FILE", "INVESTMENT_CONTRACT_DONE", "COMPLETE_DISBURSEMENT_ATTACH_FILE"]);
                                
                                Set(companyPEVC, 'TVS->FindAllCompanyPEVC-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, envDEV, envTEST, envUAT1, envUAT2));
                                If(!IsBlank(CompanyNameSelectedValue),
                                    Set(PEVCFouderSharehoderData, 'TVS->FindByIdPVECLeadCreationFounderAndShareHolder-V1'.Run(CompanyNameSelectedValue,resKeyOpenAll.open, resKeyOpenAll.close, envDEV, envTEST, envUAT1, envUAT2));
                                    ClearCollect(PEVC_founderData, AddColumns(PEVCFouderSharehoderData.listFounder, isTotal, false));
                                    Collect(PEVC_founderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_founderData, ownership))});
                                    ClearCollect(PEVC_shareholderData, AddColumns(PEVCFouderSharehoderData.listShareholder, isTotal, false));
                                    Collect(PEVC_shareholderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_shareholderData, ownership))});
                                );
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            PressedFill: =RGBA(244, 244, 244, 0)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =10
                            Text: =""
                            Width: =Parent.Width
                            ZIndex: =12

                        DeleteIconBg_PEVC As rectangle:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Height: =40
                            OnSelect: =Select(Parent)
                            Width: =AssignIcon_PEVC.Width
                            X: =ClosedDate_Content_PEVC.X + ClosedDate_Content_PEVC.Width - Self.Width
                            ZIndex: =13

                        AssignIcon_PEVC As htmlViewer:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            HtmlText: |-
                                ="<div style=""cursor: pointer;""><svg xmlns=""http://www.w3.org/2000/svg"" width=""25"" height=""24"" viewBox=""0 0 25 24"" fill=""none"">
                                  <path d=""M12.5283 4.25C12.745 4.25 12.924 4.179 13.0653 4.037C13.2067 3.895 13.2777 3.716 13.2783 3.5C13.2783 3.28333 13.2073 3.10433 13.0653 2.963C12.9233 2.82167 12.7443 2.75067 12.5283 2.75C12.3117 2.75 12.1327 2.821 11.9913 2.963C11.85 3.105 11.779 3.284 11.7783 3.5C11.7783 3.71667 11.8493 3.89567 11.9913 4.037C12.1333 4.17833 12.3123 4.24933 12.5283 4.25ZM18.5283 23C17.145 23 15.9657 22.5123 14.9903 21.537C14.015 20.5617 13.5277 19.3827 13.5283 18C13.5283 16.6167 14.016 15.4373 14.9913 14.462C15.9667 13.4867 17.1457 12.9993 18.5283 13C19.9117 13 21.091 13.4877 22.0663 14.463C23.0417 15.4383 23.529 16.6173 23.5283 18C23.5283 19.3833 23.0407 20.5627 22.0653 21.538C21.09 22.5133 19.911 23.0007 18.5283 23ZM18.0283 21H19.0283V18.5H21.5283V17.5H19.0283V15H18.0283V17.5H15.5283V18.5H18.0283V21ZM7.52832 9H17.5283V7H7.52832V9ZM12.2033 21H5.52832C4.97832 21 4.50732 20.804 4.11532 20.412C3.72332 20.02 3.52766 19.5493 3.52832 19V5C3.52832 4.45 3.72432 3.979 4.11632 3.587C4.50832 3.195 4.97899 2.99933 5.52832 3H9.72832C9.94499 2.4 10.3077 1.91667 10.8163 1.55C11.325 1.18333 11.8957 1 12.5283 1C13.1617 1 13.7327 1.18333 14.2413 1.55C14.75 1.91667 15.1123 2.4 15.3283 3H19.5283C20.0783 3 20.5493 3.196 20.9413 3.588C21.3333 3.98 21.529 4.45067 21.5283 5V11.7C21.045 11.4667 20.5573 11.2917 20.0653 11.175C19.5733 11.0583 19.061 11 18.5283 11C18.345 11 18.174 11.004 18.0153 11.012C17.8567 11.02 17.6943 11.041 17.5283 11.075V11H7.52832V13H13.6533C13.3533 13.2833 13.0823 13.5917 12.8403 13.925C12.5983 14.2583 12.386 14.6167 12.2033 15H7.52832V17H11.6033C11.57 17.1667 11.549 17.3293 11.5403 17.488C11.5317 17.6467 11.5277 17.8173 11.5283 18C11.5283 18.55 11.5783 19.0627 11.6783 19.538C11.7783 20.0133 11.9533 20.5007 12.2033 21Z"" fill=""black""/>
                                </svg></div>"
                            OnSelect: |-
                                =// Set(isLoading, true);
                                //Set(dealSelected, TableContent_9.Selected);
                                If(isDivestment,
                                    ClearCollect(listDealPEVC,'TVS->GetDealEmployeeDivestment-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,ThisItem.id));,
                                    ClearCollect(listDealPEVC,'TVS->GetDealEmployee-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,ThisItem.id));
                                );
                                
                                Set(pvecId,ThisItem.id);
                                Set(dealNamePEVC,ThisItem.id&" - "&ThisItem.company_name);
                                Set(assignServerValue, ThisItem.share);
                                Set(assignDealLeadValue, First(Filter(listDealPEVC, type = "deal_lead")));
                                Set(assignDealMentorValue, First(Filter(listDealPEVC, type = "deal_mentor")));
                                ClearCollect(assignDealSupport, Filter(listDealPEVC, type = "deal_support"));
                                ClearCollect(assignDealSupportRemove, []);
                                ClearCollect(assignDealObserverRemove, []);
                                Set(isSubmittedAssignPopup, false);
                                
                                //AsignNoti-Add list first
                                Clear(listUserAsignFirst);
                                Collect(
                                    listUserAsignFirst,
                                    If(!IsBlank(assignDealLeadValue),
                                    {
                                        employee_id: assignDealLeadValue.id,
                                        email:assignDealLeadValue.email,
                                       internal_email:assignDealLeadValue.internal_email,
                                        name:assignDealLeadValue.name,
                                        type: "deal lead"
                                    })
                                );
                                Collect(
                                    listUserAsignFirst,
                                    If(!IsBlank(assignDealMentorValue),
                                    {
                                        employee_id: assignDealMentorValue.id,
                                           email:assignDealMentorValue.email,
                                       internal_email:assignDealMentorValue.internal_email,
                                        name:assignDealMentorValue.name,
                                        type: "deal mentor"
                                    })
                                );
                                ForAll(
                                    assignDealSupport,
                                    Collect(
                                        listUserAsignFirst,
                                        {
                                            employee_id: ThisRecord.id,
                                            email:ThisRecord.email,
                                            internal_email:ThisRecord.internal_email,
                                            name:ThisRecord.name,
                                            type: "deal support"
                                        }
                                    )
                                );
                                Set(dealType,ThisItem.deal_type);
                                Set(companyName,ThisItem.company_name);
                                Set(dealName,ThisItem.deal_name);
                                //End
                                
                                Reset(AssignDealMentor_InputBg_1);
                                Reset(AssignDealSupport_InputBg_1);
                                
                                Set(showAssignPopup, true);
                            Width: =40
                            X: =AssignMember_Content_PEVC.X
                            ZIndex: =14

                        DeleteIcon_PEVC As htmlViewer:
                            Fill: =If(Mod(Value(ThisItem.stt), 2) = 0, RGBA(246,246,246,1), RGBA(0,0,0,0))
                            Font: =Font.Arial
                            HtmlText: |-
                                ="<div style=""cursor:pointer; width:40px; display:flex; justify-content:center; align-items:center""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 16 16"" fill=""none"">
                                  <path d=""M4.66683 2.66634C4.66683 2.31272 4.8073 1.97358 5.05735 1.72353C5.3074 1.47348 5.64654 1.33301 6.00016 1.33301H10.0002C10.3538 1.33301 10.6929 1.47348 10.943 1.72353C11.193 1.97358 11.3335 2.31272 11.3335 2.66634V3.99967H14.0002C14.177 3.99967 14.3465 4.06991 14.4716 4.19494C14.5966 4.31996 14.6668 4.48953 14.6668 4.66634C14.6668 4.84315 14.5966 5.01272 14.4716 5.13775C14.3465 5.26277 14.177 5.33301 14.0002 5.33301H13.2875L12.7095 13.4277C12.6856 13.7641 12.535 14.0789 12.2882 14.3087C12.0415 14.5386 11.7167 14.6663 11.3795 14.6663H4.62016C4.28292 14.6663 3.95821 14.5386 3.71142 14.3087C3.46463 14.0789 3.31411 13.7641 3.29016 13.4277L2.7135 5.33301H2.00016C1.82335 5.33301 1.65378 5.26277 1.52876 5.13775C1.40373 5.01272 1.3335 4.84315 1.3335 4.66634C1.3335 4.48953 1.40373 4.31996 1.52876 4.19494C1.65378 4.06991 1.82335 3.99967 2.00016 3.99967H4.66683V2.66634ZM6.00016 3.99967H10.0002V2.66634H6.00016V3.99967ZM4.0495 5.33301L4.62083 13.333H11.3802L11.9515 5.33301H4.0495ZM6.66683 6.66634C6.84364 6.66634 7.01321 6.73658 7.13823 6.8616C7.26326 6.98663 7.3335 7.1562 7.3335 7.33301V11.333C7.3335 11.5098 7.26326 11.6794 7.13823 11.8044C7.01321 11.9294 6.84364 11.9997 6.66683 11.9997C6.49002 11.9997 6.32045 11.9294 6.19542 11.8044C6.0704 11.6794 6.00016 11.5098 6.00016 11.333V7.33301C6.00016 7.1562 6.0704 6.98663 6.19542 6.8616C6.32045 6.73658 6.49002 6.66634 6.66683 6.66634ZM9.3335 6.66634C9.51031 6.66634 9.67988 6.73658 9.8049 6.8616C9.92992 6.98663 10.0002 7.1562 10.0002 7.33301V11.333C10.0002 11.5098 9.92992 11.6794 9.8049 11.8044C9.67988 11.9294 9.51031 11.9997 9.3335 11.9997C9.15668 11.9997 8.98712 11.9294 8.86209 11.8044C8.73707 11.6794 8.66683 11.5098 8.66683 11.333V7.33301C8.66683 7.1562 8.73707 6.98663 8.86209 6.8616C8.98712 6.73658 9.15668 6.66634 9.3335 6.66634Z"" fill=""#D00C0C""/>
                                </svg></div>"
                            OnSelect: |-
                                =Set(idProposalDelete, ThisItem.id);
                                Set(isShowPopupDelete, true);
                            Visible: =DealDetailTab = 1 && ThisItem.status in ["NEW_LEAD_CREATION_NEW", "NEW_LEAD_CREATION_DONE", "PROPOSED_DIVESTMENT_NEW"] && !(Status_Content_PEVC.Text in ["Revised"])
                            Width: =40
                            X: =ClosedDate_Content_PEVC.X + ClosedDate_Content_PEVC.Width - Self.Width
                            Y: =2
                            ZIndex: =15

                    TableHeader_PEVC As group:
                        Height: =5
                        Width: =5
                        X: =60
                        Y: =60
                        ZIndex: =12

                        HeaderNo_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="No"
                            Width: =40
                            X: =5
                            ZIndex: =2

                        LabelAssignMember_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Bold
                            PaddingBottom: =10
                            PaddingRight: =10
                            PaddingTop: =10
                            Size: =10.5
                            Text: ="Assign member"
                            Width: =Max(WhiteBgQT1.Width * 0.06, 125)
                            X: =HeaderNo_PEVC.X + HeaderNo_PEVC.Width
                            Y: =LabelNoTable_1.Y
                            ZIndex: =3

                        HeaderDealName_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Deal name"
                            Width: =Max((WhiteBackground_9.Width - 80) * 0.3, 400)
                            X: =LabelAssignMember_PEVC.X + LabelAssignMember_PEVC.Width
                            ZIndex: =4

                        HeaderServer_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Server"
                            Width: =Max((WhiteBackground_9.Width - 80) * (0.7/7) - 60, 80)
                            X: =HeaderDealName_PEVC.X + HeaderDealName_PEVC.Width
                            ZIndex: =5

                        HeaderStatus_PEVC_1 As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Status"
                            Width: =Max((WhiteBackground_9.Width - 80) * (0.7/7), 150)
                            X: =HeaderServer_PEVC.X + HeaderServer_PEVC.Width
                            ZIndex: =6

                        HeaderMainProcedures_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Main procedures"
                            Width: =Max((WhiteBackground_9.Width - 80) * (0.7/7) + 40, 200)
                            X: =HeaderStatus_PEVC_1.X + HeaderStatus_PEVC_1.Width
                            ZIndex: =7

                        HeaderDealType_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Deal type"
                            Width: =Max((WhiteBackground_9.Width - 80) * (0.7/7) - 20, 120)
                            X: =HeaderMainProcedures_PEVC.X + HeaderMainProcedures_PEVC.Width
                            ZIndex: =8

                        HeaderCreatedBy_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Created by "
                            Width: =Max((WhiteBackground_9.Width - 80) * (0.7/7) + 40, 150)
                            X: =HeaderDealType_PEVC.X + HeaderDealType_PEVC.Width
                            Y: =HeaderNo_PEVC.Y
                            ZIndex: =9

                        HeaderCreatedDate_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Created date"
                            Width: =Max((WhiteBackground_9.Width - 80) * (0.7/7) - 30, 120)
                            X: =HeaderCreatedBy_PEVC.X + HeaderCreatedBy_PEVC.Width
                            Y: =HeaderNo_PEVC.Y
                            ZIndex: =10

                        HeaderClosedDate_PEVC As label:
                            Font: =Font.Arial
                            FontWeight: =FontWeight.Semibold
                            Height: =42
                            PaddingLeft: =0
                            Size: =10.5
                            Text: ="Closed date"
                            Width: =Max((WhiteBackground_9.Width - 80) * (0.7/7) - 30, 120)
                            X: =HeaderCreatedDate_PEVC.X + HeaderCreatedDate_PEVC.Width
                            ZIndex: =11

            ProposalInfomation_Title_6 As label:
                Font: =Font.Arial
                FontWeight: =FontWeight.Bold
                Height: =43
                LineHeight: =2.2
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =12
                Text: ="Process of Private Equity Information"
                Width: =350
                X: =WhiteBackground_9.X + 20
                Y: =WhiteBackground_9.Y + 10
                ZIndex: =3

            Hr_11 As rectangle:
                BorderColor: =RGBA(191, 191, 192, 1)
                Fill: =RGBA(191, 191, 192, 1)
                Height: =2
                Width: =WhiteBackground_9.Width - If(App.Width > 600, 40, 35)
                X: =WhiteBackground_9.X + 15
                Y: =ProposalInfomation_Title_6.Y + ProposalInfomation_Title_6.Height + 40
                ZIndex: =4

            MarginTab_2 As button:
                BorderColor: =Self.Color
                BorderThickness: =1
                Color: =If(!isDivestment, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                Fill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =1
                Font: =Font.Arial
                HoverColor: =Self.Color
                HoverFill: =Self.Fill
                OnSelect: |-
                    =Set(isDivestment, false); Set(DealDetailTab, 1);
                    Set(currentPageIndex, 0);
                    //Select(CallGetAll_PEVC);
                    ClearCollect(listRes,listItemPreDisvesmentActionNeed.listItem);
                    
                    Concurrent( 
                        //PreDivesment - Action need
                       ClearCollect(listItemPreDisvesmentActionNeed,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                        //PreDivesment - Under processing
                        ClearCollect(listItemPreDisvesmentUnderProcessing,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                        //PreDivesment - Complete
                       ClearCollect(listItemPreDisvesmentComplete,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)));
                    
                    ClearCollect(listRes,listItemPreDisvesmentActionNeed.listItem);
                       
                    Set(pageCount,First(listItemPreDisvesmentActionNeed.pageCount).pageCount);
                    Set(maxList,[1,2,3,4]);
                    Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
                    ClearCollect(listPageIndex, pageIndexFirst);
                    ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                PressedColor: =Self.Color
                PressedFill: =Self.Fill
                RadiusBottomLeft: =8
                RadiusBottomRight: =0
                RadiusTopLeft: =8
                RadiusTopRight: =0
                Size: =10.5
                Text: ="Pre-Investment"
                Width: =120
                X: =DateFrom_Label_6.X + 1
                Y: =ServerDropDown_1.Y + ServerDropDown_1.Height + If(App.Width > 600, 10, 70)
                ZIndex: =5

            ListNotAllowTab_3 As button:
                BorderColor: =Self.Color
                BorderThickness: =1
                Color: =If(isDivestment, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                Fill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =1
                Font: =Font.Arial
                HoverColor: =Self.Color
                HoverFill: =Self.Fill
                OnSelect: |-
                    =Set(isDivestment, true); Set(DealDetailTab, 1);
                    Set(currentPageIndex, 0);
                    //Select(CallGetAll_PEVC);
                    ClearCollect(listRes,listItemDisvesmentActionNeed.listItem);
                     Concurrent(
                        //Divesment - Action need
                         ClearCollect(listItemDisvesmentActionNeed,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                        //Divesment - Under processing
                        ClearCollect(listItemDisvesmentUnderProcessing,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                        //Divesment - Complete
                        ClearCollect(listItemDisvesmentComplete,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)));
                    ClearCollect(listRes,listItemDisvesmentActionNeed.listItem);
                    
                    Set(pageCount,First(listItemDisvesmentActionNeed.pageCount).pageCount);
                    Set(maxList,[1,2,3,4]);
                    Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
                    ClearCollect(listPageIndex, pageIndexFirst);
                    ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                PressedColor: =Self.Color
                PressedFill: =Self.Fill
                RadiusBottomLeft: =0
                RadiusBottomRight: =8
                RadiusTopLeft: =0
                RadiusTopRight: =8
                Size: =10.5
                Text: ="Divestment"
                Width: =120
                X: =MarginTab_2.X + MarginTab_2.Width + 1
                Y: =MarginTab_2.Y
                ZIndex: =6

            _Label1_7 As label:
                Align: =Align.Center
                Font: =Font.Arial
                Size: =10.5
                Text: ="Empty data."
                Visible: =IsBlank(First(listRes).listItem) || IsEmpty(First(listRes).listItem)
                Width: =Hr_11.Width
                X: =Hr_11.X
                Y: =Hr_11.Y + 10
                ZIndex: =32

            RefreshPEVCButton As button:
                BorderThickness: =0
                DisabledColor: =Self.Color
                DisabledFill: =Self.Fill
                Fill: =RGBA(17, 79, 144, 1)
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                Height: =44
                OnSelect: |-
                    =Reset(input_searchAll_4);
                    Reset(DateFrom_Datepicker_12);
                    Reset(DateTo_DatePicker_12);
                    Set(StatusSelectedValue, "All");
                    Set(serverSelectedValue, "");
                    Select(SearchAUMButton_17);
                PaddingBottom: =10
                PaddingLeft: =40
                PaddingRight: =10
                PaddingTop: =10
                PressedColor: =Self.Color 
                PressedFill: =Self.Fill
                Size: =10.5
                Text: =""
                Tooltip: ="Click here to clear all filter"
                Width: =44
                X: =SearchAUMButton_17.X + SearchAUMButton_17.Width + 10
                Y: =input_searchAll_4.Y
                ZIndex: =33

            RefreshListIcon_8 As icon.Reload:
                Color: =RGBA(255, 255, 255, 1)
                Height: =20
                Icon: =Icon.Reload
                OnSelect: =Select(RefreshPEVCButton)
                Tooltip: ="Click here to clear all filter"
                Width: =20
                X: =RefreshPEVCButton.X + 11
                Y: =SearchAUMButton_17.Y + 11
                ZIndex: =34

            StatusDropDown_2 As button:
                Align: =Align.Left
                BorderColor: =If(statusShowDropdown, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                BorderThickness: =1
                Color: =RGBA(82, 82, 82, 1)
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderThickness: =1
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                Height: =44
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: =Set(statusShowDropdown, !statusShowDropdown)
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedBorderColor: =
                PressedColor: =
                PressedFill: =
                RadiusBottomLeft: =5
                RadiusBottomRight: =5
                RadiusTopLeft: =5
                RadiusTopRight: =5
                Size: =10.5
                Text: =StatusSelectedValue
                Width: =DateFrom_InputBack_12.Width - If(App.Width > 950 && App.Width < 1100, 30, 0)
                X: =If(App.Width > 800, input_searchAll_4.X + input_searchAll_4.Width + 10, input_searchAll_4.X)
                Y: =If(App.Width > 800, input_searchAll_4.Y, DateTo_InputBack_11.Y + DateTo_InputBack_11.Height + 30)
                ZIndex: =35

            SubmitButtonContainer_5 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =35

                SubmitButton_6 As button:
                    BorderThickness: =0
                    Fill: =RGBA(17, 79, 144, 1)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    OnSelect: |-
                        =Set(isShowCreateProposalPopup, true);
                        Set(PEVCTypeValue, Blank());
                        Set(pevcNoteFileLog, Blank());
                        Set(detailPEVCById, Blank());
                        Set(isSubmited, false);
                        Set(isPEVCCreatePopupSubmitted, false);
                    PaddingBottom: =10
                    PaddingLeft: =40
                    PaddingRight: =10
                    PaddingTop: =10
                    PressedColor: =Self.Color 
                    PressedFill: =Self.Fill
                    RadiusBottomLeft: =8
                    RadiusBottomRight: =8
                    RadiusTopLeft: =8
                    RadiusTopRight: =8
                    Size: =10.5
                    Text: ="Create"
                    Visible: ="CREATE" in LookUp(currenUserV2.permissionList, process_code = "Process5", action)
                    Width: =120
                    X: =GoAUMButton_2.X - If(App.Width > 1400 || App.Width < 1300, 130, 122)
                    Y: =GoAUMButton_2.Y
                    ZIndex: =12

                SubmitButtonIcon_6 As icon.AddDocument:
                    Color: =RGBA(255, 255, 255, 1)
                    Height: =20
                    Icon: =Icon.Add
                    OnSelect: =Select(SubmitButton_6)
                    PaddingRight: =0.00
                    PaddingTop: =0.00
                    Tooltip: ="New"
                    Visible: =SubmitButton_6.Visible
                    Width: =20
                    X: =SubmitButton_6.X + 25
                    Y: =SubmitButton_6.Y + 12
                    ZIndex: =13

            iconStatusDropDown_2 As htmlViewer:
                Font: =Font.Arial
                Height: =44
                HtmlText: |-
                    =If(statusShowDropdown,
                    "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                    <g clip-path=""url(#clip0_1760_3688)"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                    </g>
                    <defs>
                    <clipPath id=""clip0_1760_3688"">
                    <rect width=""24"" height=""24"" fill=""white""/>
                    </clipPath>
                    </defs>
                    </svg></div>"
                    , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                    </svg></div>")
                OnSelect: =Set(statusShowDropdown, !statusShowDropdown)
                PaddingRight: =5.27
                PaddingTop: =5.27
                Size: =11.60
                Width: =35
                X: =StatusDropDown_2.X + StatusDropDown_2.Width - Self.Width
                Y: =StatusDropDown_2.Y + 5
                ZIndex: =36

            QT2TabsGroup_5 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =36

                HrQT2_6 As rectangle:
                    BorderColor: =RGBA(176, 176, 176, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(246, 246, 246, 1)
                    Height: =0.5
                    Visible: =false
                    Width: =QT2Tabs_11.Width
                    X: =QT2Tabs_11.X
                    Y: =QT2Tabs_11.Y + QT2Tabs_11.Height - 7
                    ZIndex: =7

                QT2Tabs_11 As gallery.galleryHorizontal:
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =47
                    Items: |-
                        =If(isAllowTab,[{text:"Action needed",tab:1},{text:"Under processing",tab:2},{text:"Completed",tab:3}],[{text:"Action needed",tab:1},{text:"Completed",tab:2}])
                    ShowScrollbar: =false
                    TemplatePadding: =0
                    TemplateSize: =If(App.Width > 450, 140, (App.Width - 20) / 3)
                    Visible: =isAllowTab
                    Width: =Self.AllItemsCount * Self.TemplateWidth
                    X: =MarginTab_2.X
                    Y: =MarginTab_2.Y + MarginTab_2.Height 
                    ZIndex: =8

                    Button8_37 As button:
                        BorderStyle: =BorderStyle.None
                        Color: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Bold
                        Height: =35
                        HoverColor: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |-
                            =Set(DealDetailTab,ThisItem.tab);
                            Set(currentPageIndex, 0);
                            //Select(CallGetAll_PEVC);
                            If(!isDivestment, 
                                Switch(DealDetailTab, 
                                1, 
                            
                                    ClearCollect(listRes,listItemPreDisvesmentActionNeed.listItem);
                                    Set(pageCount,First(listItemPreDisvesmentActionNeed.pageCount).pageCount),
                                2, 
                                    ClearCollect(listRes,listItemPreDisvesmentUnderProcessing.listItem);
                                    Set(pageCount,First(listItemPreDisvesmentUnderProcessing.pageCount).pageCount),
                                3, 
                                    ClearCollect(listRes,listItemPreDisvesmentComplete.listItem);
                                    Set(pageCount,First(listItemPreDisvesmentComplete.pageCount).pageCount)),
                                
                                Switch(DealDetailTab, 
                                1, 
                                    ClearCollect(listRes,listItemDisvesmentActionNeed.listItem);
                                    Set(pageCount,First(listItemDisvesmentActionNeed.pageCount).pageCount),
                                2, 
                                    ClearCollect(listRes,listItemDisvesmentUnderProcessing.listItem);
                                    Set(pageCount,First(listItemDisvesmentUnderProcessing.pageCount).pageCount),
                                3, 
                                    ClearCollect(listRes,listItemDisvesmentComplete.listItem);
                                    Set(pageCount,First(listItemDisvesmentComplete.pageCount).pageCount))
                            );
                            
                            Set(maxList,[1,2,3,4]);
                            Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
                            ClearCollect(listPageIndex, pageIndexFirst);
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                            
                            //Call API to get data
                            If(!isDivestment, 
                                Switch(DealDetailTab, 
                                1, 
                                    ClearCollect(listItemPreDisvesmentActionNeed,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                                2, 
                                    ClearCollect(listItemPreDisvesmentUnderProcessing,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                                3, 
                                    ClearCollect(listItemPreDisvesmentComplete,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC))),
                                
                                Switch(DealDetailTab, 
                                1, 
                                    ClearCollect(listItemDisvesmentActionNeed,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                                2, 
                                    ClearCollect(listItemDisvesmentUnderProcessing,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                                3, 
                                    ClearCollect(listItemDisvesmentComplete,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC))
                            ));
                            
                            If(!isDivestment, 
                                Switch(DealDetailTab, 
                                1, 
                                    ClearCollect(listRes,listItemPreDisvesmentActionNeed.listItem);
                                    Set(pageCount,First(listItemPreDisvesmentActionNeed.pageCount).pageCount),
                                2, 
                                    ClearCollect(listRes,listItemPreDisvesmentUnderProcessing.listItem);
                                    Set(pageCount,First(listItemPreDisvesmentUnderProcessing.pageCount).pageCount),
                                3, 
                                    ClearCollect(listRes,listItemPreDisvesmentComplete.listItem);
                                    Set(pageCount,First(listItemPreDisvesmentComplete.pageCount).pageCount)),
                                
                                Switch(DealDetailTab, 
                                1, 
                                    ClearCollect(listRes,listItemDisvesmentActionNeed.listItem);
                                    Set(pageCount,First(listItemDisvesmentActionNeed.pageCount).pageCount),
                                2, 
                                    ClearCollect(listRes,listItemDisvesmentUnderProcessing.listItem);
                                    Set(pageCount,First(listItemDisvesmentUnderProcessing.pageCount).pageCount),
                                3, 
                                    ClearCollect(listRes,listItemDisvesmentComplete.listItem);
                                    Set(pageCount,First(listItemDisvesmentComplete.pageCount).pageCount))
                            );
                            
                            Set(maxList,[1,2,3,4]);
                            Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
                            ClearCollect(listPageIndex, pageIndexFirst);
                            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
                        PaddingLeft: =0
                        PaddingRight: =0
                        PressedFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 10.5, 10.5)
                        Text: =ThisItem.text
                        Tooltip: =ThisItem.text
                        Width: =If(ThisItem.text = "Action needed", If(App.Width > 400, 126, 110), ThisItem.text = "Completed", If(App.Width > 600, 130, 110), QT2Tabs_11.TemplateWidth)
                        Y: =5
                        ZIndex: =1

                    BottomBorder1_44 As rectangle:
                        BorderColor: =If(DealDetailTab = ThisItem.tab, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                        BorderThickness: =If(DealDetailTab = ThisItem.tab, 2, 0)
                        Fill: =RGBA(246, 246, 246, 1)
                        Height: =If(ThisItem.tab = DealDetailTab, 2, 0)
                        Width: |-
                            =// If(ThisItem.text = "Action needed", 124, ThisItem.text = "Completed", If(App.Width > 600, 130, 110), QT2Tabs_11.TemplateWidth)
                            Button8_37.Width
                        Y: =40
                        ZIndex: =2

            ServerDropDown_1 As button:
                Align: =Align.Left
                BorderColor: =If(serverShowDropdown, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                BorderThickness: =1
                Color: =RGBA(82, 82, 82, 1)
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderThickness: =1
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                Height: =44
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: =Set(serverShowDropdown, !serverShowDropdown)
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedBorderColor: =
                PressedColor: =
                PressedFill: =
                RadiusBottomLeft: =5
                RadiusBottomRight: =5
                RadiusTopLeft: =5
                RadiusTopRight: =5
                Size: =10.5
                Text: =serverSelectedValue
                Width: =StatusDropDown_2.Width
                X: =If(App.Width > 800, input_searchAll_4.X + input_searchAll_4.Width + 10, StatusDropDown_2.X + StatusDropDown_2.Width + 10)
                Y: =If(App.Width > 800, DateTo_InputBack_11.Y, DateTo_InputBack_11.Y + DateTo_InputBack_11.Height + 30)
                ZIndex: =37

            Filter_Container_11 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =37

                PreviousIcon_15 As icon.ChevronLeft:
                    Height: =15
                    Icon: =Icon.ChevronLeft
                    OnSelect: |-
                        =Set(currentPageIndex,currentPageIndex - 1);
                        Set(showLoading, false);
                        Select(CallGetAll_PEVC);
                    Tooltip: ="Previous page"
                    Visible: =If(currentPageIndex<=0,false,true) && TableContent_10.AllItemsCount > 0
                    Width: =15
                    X: =PageNumbers_15.X - 22
                    Y: =PageNumbers_15.Y + 10
                    ZIndex: =9

                NextIcon_15 As icon.ChevronRight:
                    Height: =15
                    Icon: =Icon.ChevronRight
                    OnSelect: |-
                        =Set(currentPageIndex,currentPageIndex + 1);
                        Set(showLoading, false);
                        Select(CallGetAll_PEVC);
                    Tooltip: ="Next page"
                    Visible: =If(currentPageIndex>=pageCount-1,false,true) && TableContent_10.AllItemsCount > 0
                    Width: =15
                    X: =WhiteBackground_9.X + WhiteBackground_9.Width - 50
                    Y: =PageNumbers_15.Y + 10
                    ZIndex: =10

                "PageNumbers_15 As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =42
                    Items: =listPageIndex
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =35
                    Visible: =TableContent_10.AllItemsCount > 0
                    Width: =PageNumbers_15.AllItemsCount * 35
                    X: =NextIcon_15.X - PageNumbers_15.Width
                    Y: =WhiteBackground_9.Y + WhiteBackground_9.Height
                    ZIndex: =11

                    pageIndex_15 As htmlViewer:
                        DisplayMode: |
                            =DisplayMode.Edit
                        Font: =Font.Arial
                        HtmlText: |-
                            ="<div style='font-family: Arial; width: 15px; display: flex; justify-content: center; align-items: center; cursor: pointer; padding: 3px; background-color: transparent; border-radius: 5px; border: " & If(currentPageIndex = ThisItem.Value, "1px solid #1890FF", "none")&";'><font color=" & If(currentPageIndex = ThisItem.Value, "#1890FF", "black")&">" & (ThisItem.Value + 1) & "</font></div>"
                        OnSelect: |-
                            =Set(currentPageIndex,ThisItem.Value);
                            Set(showLoading, false);
                            Select(CallGetAll_PEVC);
                        PaddingRight: =0
                        Width: =35
                        ZIndex: =2

                PageDropdown_8 As button:
                    Align: =Align.Left
                    BorderColor: =If(ShowPageSizeSelectPopup, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                    BorderThickness: =1
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    FocusedBorderThickness: =1
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =32
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: =Set(ShowPageSizeSelectPopup, !ShowPageSizeSelectPopup)
                    PaddingLeft: =10
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedBorderColor: =
                    PressedColor: =
                    PressedFill: =
                    Size: =10.5
                    Text: =PageSizeNumber
                    Visible: =App.Width > 600 && TableContent_10.AllItemsCount > 0
                    Width: =50
                    X: =PreviousIcon_15.X - 60
                    Y: =PageNumbers_15.Y + 2 
                    ZIndex: =14

                PageChevron_5 As htmlViewer:
                    Font: =Font.Arial
                    Height: =44
                    HtmlText: |-
                        ="<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                        <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                        </svg></div>"
                    OnSelect: =Set(ShowPageSizeSelectPopup, !ShowPageSizeSelectPopup)
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    Size: =11.60
                    Visible: =PageDropdown_8.Visible
                    Width: =35
                    X: =PageDropdown_8.X + PageDropdown_8.Width - 28
                    Y: =PageDropdown_8.Y - 2
                    ZIndex: =15

                PageCloseDropdown_11 As rectangle:
                    Fill: =RGBA(255, 255, 255, 0)
                    Height: =App.Height - 100
                    OnSelect: =Set(ShowPageSizeSelectPopup, false)
                    Visible: =ShowPageSizeSelectPopup && App.Width > 600
                    Width: =Parent.Width
                    X: =40
                    Y: =40
                    ZIndex: =16

                "PageItems_5 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =122
                    Items: |-
                        =[{value: 10}, {value: 20}, {value: 50}]
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =40
                    Visible: =ShowPageSizeSelectPopup && App.Width > 600
                    Width: =PageDropdown_8.Width
                    X: =PageDropdown_8.X
                    Y: =PageDropdown_8.Y - 130
                    ZIndex: =17

                    Button6_82 As button:
                        Align: =Align.Left
                        Color: =RGBA(82, 82, 82, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Normal
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(241, 244, 249, 1)
                        OnSelect: |-
                            =Set(PageSizeNumber, ThisItem.value);
                            Set(ShowPageSizeSelectPopup, false);
                            Set(currentPageIndex,0);
                            
                            Set(showLoading, false);
                            Select(CallGetAll_PEVC);
                        PaddingLeft: =15
                        PaddingRight: =5.27
                        PaddingTop: =5.27
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10.5
                        Text: =ThisItem.value
                        Width: =70
                        X: =0.00
                        Y: =4
                        ZIndex: =1

            iconServerDropDown_1 As htmlViewer:
                Font: =Font.Arial
                Height: =44
                HtmlText: |-
                    =If(serverShowDropdown,
                    "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                    <g clip-path=""url(#clip0_1760_3688)"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                    </g>
                    <defs>
                    <clipPath id=""clip0_1760_3688"">
                    <rect width=""24"" height=""24"" fill=""white""/>
                    </clipPath>
                    </defs>
                    </svg></div>"
                    , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                    </svg></div>")
                OnSelect: =Set(serverShowDropdown, !serverShowDropdown)
                PaddingRight: =5.27
                PaddingTop: =5.27
                Size: =11.60
                Width: =35
                X: =ServerDropDown_1.X + ServerDropDown_1.Width - Self.Width
                Y: =ServerDropDown_1.Y + 5
                ZIndex: =38

            GoIssuerListButtonContainer_2 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =38

                GoAUMButton_2 As button:
                    BorderThickness: =0
                    Color: =RGBA(254, 254, 254, 1)
                    Fill: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    HoverFill: =Self.Fill
                    OnSelect: =Navigate(InvestmentPorfollo,ScreenTransition.Fade)
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =40
                    PaddingTop: =10
                    PressedColor: =Self.Color 
                    PressedFill: =Self.Fill
                    RadiusBottomLeft: =8
                    RadiusBottomRight: =8
                    RadiusTopLeft: =8
                    RadiusTopRight: =8
                    Size: =10.5
                    Text: ="Investment Portfolio"
                    Width: =180
                    X: =If(Parent.Width > 1000, WhiteBackground_9.X + WhiteBackground_9.Width - Self.Width - 20, Parent.Width > 800, Parent.Width - Self.Width - 20, Parent.Width - Self.Width - 8)
                    Y: = If(App.Width > 1290, input_searchAll_4.Y, App.Width > 600, MarginTab_2.Y, WhiteBackground_9.Y - If(Parent.Width > 1025, 60, If(isAllowTab, 145, 105)))
                    ZIndex: =18

                GoAUMButtonIcon_2 As icon.AddDocument:
                    Color: =RGBA(254, 254, 254, 1)
                    Height: =20
                    Icon: =Icon.NextArrow
                    OnSelect: =Navigate(InvestmentPorfollo,ScreenTransition.Fade)
                    PaddingRight: =0.00
                    PaddingTop: =0.00
                    Tooltip: ="New"
                    Width: =20
                    X: =GoAUMButton_2.X + GoAUMButton_2.Width - 35
                    Y: =GoAUMButton_2.Y + 12
                    ZIndex: =19

            StatusPEVC_Label As label:
                Color: =RGBA(16, 17, 18, 1)
                Font: =Font.Arial
                Height: =25
                PaddingLeft: =3
                PaddingRight: =5.00
                PaddingTop: =5.00
                Size: =10.5
                Text: ="Status"
                Width: =150.00
                X: =StatusDropDown_2.X
                Y: =StatusDropDown_2.Y - Self.Height
                ZIndex: =39

            ProposalSearchGroup_2 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =39

                SearchAUMButton_17 As button:
                    BorderThickness: =0
                    DisabledColor: =Self.Color
                    DisabledFill: =Self.Fill
                    Fill: =RGBA(17, 79, 144, 1)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    Height: =44
                    OnSelect: |-
                        =UpdateContext({ShowNotification: false});
                        Set(currentPageIndex,0);
                        Set(dateFromFilterVar, DateFrom_Datepicker_12.SelectedDate);
                        Set(dateToFilterVar, DateTo_DatePicker_12.SelectedDate);
                        Set(statusFilterPEVC,If(StatusSelectedValue = "All","",StatusSelectedValue));
                        Set(serverFilterPEVC,ServerDropDown_1.Text);
                        
                        If(DateDiff(DateFrom_Datepicker_12.SelectedDate, DateTo_DatePicker_12.SelectedDate) < 0,
                            Set(NoticationText, "The from date cannot be greater than the to date!"); Set(IsError, true); UpdateContext({ShowNotification: true}); Set(isLoading, false),
                            Select(CallGetAll_PEVC);
                        )
                    PaddingBottom: =10
                    PaddingLeft: =40
                    PaddingRight: =10
                    PaddingTop: =10
                    PressedColor: =Self.Color 
                    PressedFill: =Self.Fill
                    Size: =10.5
                    Text: =""
                    Tooltip: ="Search"
                    Width: =44
                    X: =If(App.Width > 800, StatusDropDown_2.X + StatusDropDown_2.Width + 10, input_searchAll_4.X + input_searchAll_4.Width + 10)
                    Y: =input_searchAll_4.Y
                    ZIndex: =29

                SearchAUMIcon_17 As htmlViewer:
                    Font: =Font.Arial
                    Height: =35
                    HtmlText: |-
                        ="<div style=""cursor: pointer; width: 30px; height: 3-px; padding: 5px""><svg xmlns=""http://www.w3.org/2000/svg"" width=""21"" height=""20"" viewBox=""0 0 21 20"" fill=""none"">
                          <path d=""M19.5002 19.0002L15.1572 14.6572M15.1572 14.6572C15.9001 13.9143 16.4894 13.0324 16.8914 12.0618C17.2935 11.0911 17.5004 10.0508 17.5004 9.00021C17.5004 7.9496 17.2935 6.90929 16.8914 5.93866C16.4894 4.96803 15.9001 4.08609 15.1572 3.34321C14.4143 2.60032 13.5324 2.01103 12.5618 1.60898C11.5911 1.20693 10.5508 1 9.50021 1C8.4496 1 7.40929 1.20693 6.43866 1.60898C5.46803 2.01103 4.58609 2.60032 3.84321 3.34321C2.34288 4.84354 1.5 6.87842 1.5 9.00021C1.5 11.122 2.34288 13.1569 3.84321 14.6572C5.34354 16.1575 7.37842 17.0004 9.50021 17.0004C11.622 17.0004 13.6569 16.1575 15.1572 14.6572Z"" stroke=""white"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""/>
                        </svg><div>"
                    OnSelect: =Select(SearchAUMButton_17)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Tooltip: ="Search"
                    Width: =30
                    X: =SearchAUMButton_17.X + 5
                    Y: =SearchAUMButton_17.Y + 6
                    ZIndex: =30

                input_searchAll_4 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: =
                    FocusedBorderColor: =Self.HoverBorderColor
                    FocusedBorderThickness: =1
                    Font: =Font.Arial
                    Height: =44
                    HintText: ="Search ..."
                    HoverFill: =RGBA(186, 202, 226, 0)
                    Size: =If(App.Width > 600, 10.5, 12)
                    Width: |-
                        =If(
                            App.Width > 1000,
                            DateTo_InputBack_11.X + DateTo_InputBack_11.Width - Self.X,
                            App.Width > 600,
                            DateTo_InputBack_11.X + DateTo_InputBack_11.Width - Self.X - 57 - 30,
                            App.Width - 73 - 55
                        )
                    X: |-
                        =If(
                            App.Width > 800,
                            If(MobileShowMenu, MenuItemsSideBar_IR_3.X + MenuItemsSideBar_IR_3.Width + 20, MenuItemsSideBar_Small_IR_3.X + MenuItemsSideBar_Small_IR_3.Width + 20),
                            10
                        )
                    Y: =30
                    ZIndex: =31

            ServerPEVC_Label As label:
                Color: =RGBA(16, 17, 18, 1)
                Font: =Font.Arial
                Height: =30
                PaddingLeft: =3
                PaddingRight: =5.00
                PaddingTop: =5.00
                Size: =10.5
                Text: ="Server"
                Width: =150.00
                X: =ServerDropDown_1.X
                Y: =ServerDropDown_1.Y - Self.Height
                ZIndex: =40

            SearchGroup_2 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =40

                DateFrom_InputBack_12 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: ="u vao vn ban"
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =44
                    HoverBorderColor: =RGBA(191, 191, 192, 1)
                    HoverFill: =RGBA(186, 202, 226, 0)
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =13.00
                    Width: =If(Parent.Width > 1000, 216.00, Parent.Width > 800, (Parent.Width - If(MobileShowMenu, 280, 90)) / 2 - 5, (Parent.Width - 25) / 2 - 2)
                    X: =DateFrom_Label_6.X
                    Y: =DateFrom_Label_6.Y + DateFrom_Label_6.Height
                    ZIndex: =20

                DateFrom_Datepicker_12 As datepicker:
                    BorderThickness: =0
                    DefaultDate: =
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Format: ="dd/mm/yyyy"
                    Height: =DateFrom_InputBack_12.Height - 6
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =RGBA(0, 0, 0, 1)
                    InputTextPlaceholder: =If(IsBlank(Self.SelectedDate), Text("From", Self.Format, Self.Language))
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =50
                    PaddingTop: =10
                    Size: =10.5
                    Width: =DateFrom_InputBack_12.Width - 6
                    X: =DateFrom_InputBack_12.X + 3
                    Y: =DateFrom_InputBack_12.Y + 3
                    ZIndex: =21

                DateFrom_Label_6 As label:
                    Color: =RGBA(16, 17, 18, 1)
                    Font: =Font.Arial
                    Height: =30
                    PaddingLeft: =3
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =10.5
                    Text: ="Created date"
                    Width: =150.00
                    X: =input_searchAll_4.X
                    Y: =input_searchAll_4.Y + input_searchAll_4.Height + 5
                    ZIndex: =22

                DateTo_InputBack_11 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: ="u vao vn ban"
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =44
                    HoverBorderColor: =RGBA(191, 191, 192, 1)
                    HoverFill: =RGBA(186, 202, 226, 0)
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =13.00
                    Width: =If(Parent.Width > 1000, 216.00, Parent.Width > 800, (Parent.Width - If(MobileShowMenu, 280, 90)) / 2 - 5, (Parent.Width - 25) / 2 - 2)
                    X: =DateFrom_InputBack_12.X + DateFrom_InputBack_12.Width + 10
                    Y: =DateFrom_Label_6.Y + DateFrom_Label_6.Height
                    ZIndex: =23

                DateTo_DatePicker_12 As datepicker:
                    BorderThickness: =0
                    DefaultDate: =
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Format: ="dd/mm/yyyy"
                    Height: =DateTo_InputBack_11.Height - 6
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =RGBA(0, 0, 0, 1)
                    InputTextPlaceholder: =If(IsBlank(Self.SelectedDate), Text("To", Self.Format, Self.Language))
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    StartYear: =If(IsBlank(DateFrom_Datepicker_12.SelectedDate), 1970, Year(DateFrom_Datepicker_12.SelectedDate))
                    Width: =DateTo_InputBack_11.Width - 6
                    X: =DateTo_InputBack_11.X + 3
                    Y: =DateTo_InputBack_11.Y + 3
                    ZIndex: =24

                ProposalNameFilter_Input_3 As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =1
                    Default: =""
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =44
                    HintText: ="Proposal name"
                    HoverFill: =RGBA(255, 255, 255, 1)
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =8
                    RadiusBottomRight: =8
                    RadiusTopLeft: =8
                    RadiusTopRight: =8
                    Size: =10.5
                    Visible: =false
                    Width: =If(Parent.Width > 600, 216, Parent.Width - 30)
                    X: =If(Parent.Width > 600, DateTo_InputBack_11.X + DateTo_InputBack_11.Width + 10, DateFrom_InputBack_12.X)
                    Y: =ProposalNameFilter_Label_3.Y + ProposalNameFilter_Label_3.Height
                    ZIndex: =25

                ProposalNameFilter_Label_3 As label:
                    Color: =RGBA(82, 82, 82, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Height: =30
                    PaddingLeft: =0
                    PaddingRight: =5.00
                    PaddingTop: =5.00
                    Size: =10.5
                    Text: ="Proposal name"
                    Visible: =false
                    Width: =150.00
                    X: =ProposalNameFilter_Input_3.X
                    Y: =DateFrom_Label_6.Y + If(Parent.Width > 600, 0, 80)
                    ZIndex: =26

                ClearFormDateQT2_14 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =15
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Reset(DateFrom_Datepicker_12);
                        Set(dateFromFilterVar,DateFrom_Datepicker_12.SelectedDate);
                        Set(dateToFilterVar,DateTo_DatePicker_12.SelectedDate);
                    Visible: =!IsBlank(DateFrom_Datepicker_12.SelectedDate)
                    Width: =15
                    X: =DateFrom_InputBack_12.X + DateFrom_InputBack_12.Width - 55
                    Y: =DateFrom_InputBack_12.Y + 15
                    ZIndex: =27

                ClearToDateQT2_4 As icon.Cancel:
                    Color: =RGBA(0, 0, 0, 1)
                    Height: =15
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =Reset(DateTo_DatePicker_12);
                        Set(dateFromFilterVar,DateFrom_Datepicker_12.SelectedDate);
                        Set(dateToFilterVar,DateTo_DatePicker_12.SelectedDate);
                    Visible: =!IsBlank(DateTo_DatePicker_12.SelectedDate)
                    Width: =15
                    X: =DateTo_InputBack_11.X + DateTo_InputBack_11.Width - 55
                    Y: =DateTo_InputBack_11.Y + 15
                    ZIndex: =28

            SearchCloseDropdown_13 As rectangle:
                Fill: =RGBA(255, 255, 255, 0)
                Height: =App.Height
                OnSelect: |-
                    =Set(serverShowDropdown, false);
                    Set(statusShowDropdown, false)
                Visible: =statusShowDropdown || serverShowDropdown
                Width: =Parent.Width
                ZIndex: =41

            "Gl_StatusDropDown_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =0.5
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                Items: |-
                    =[{value: "All"},{value: "Draft"},{value: "Pending approval"},{value: "Revised"},{value: "Rejected"},{value: "Closing"},{value: "Closed"}]
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =statusShowDropdown
                Width: =StatusDropDown_2.Width
                X: =StatusDropDown_2.X
                Y: =StatusDropDown_2.Y + 50
                ZIndex: =42

                Button6_88 As button:
                    Align: =Align.Left
                    BorderThickness: =0
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =If(StatusSelectedValue = ThisItem.value, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: |-
                        =Set(StatusSelectedValue, ThisItem.value);
                        Set(statusShowDropdown, false);
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedColor: =Self.Color
                    PressedFill: =
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =10.5
                    Text: =ThisItem.value
                    Width: =Parent.Width
                    X: =0.00
                    ZIndex: =1

            "Gl_ServerDropDown_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =0.5
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                Items: |-
                    =[{value: "General"},{value: "Restricted"}]
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =serverShowDropdown
                Width: =ServerDropDown_1.Width
                X: =ServerDropDown_1.X
                Y: =ServerDropDown_1.Y + 50
                ZIndex: =43

                Button6_89 As button:
                    Align: =Align.Left
                    BorderThickness: =0
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =If(serverSelectedValue = ThisItem.value, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: |-
                        =Set(serverSelectedValue, ThisItem.value);
                        Set(serverShowDropdown, false);
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedColor: =Self.Color
                    PressedFill: =
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =10.5
                    Text: =ThisItem.value
                    Width: =Parent.Width
                    X: =0.00
                    ZIndex: =1

    HeaderQT2List_IR_2 As Header:
        ZIndex: =3

    MenuItemsSideBar_IR_3 As MenuItemsSideBar:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_IR_3.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_3.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_IR_3.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_IR_3.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_IR_3.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_IR_3.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_IR_3.IconFile,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_IR_3.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_IR_3.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_IR_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoration&A",
                            MenuIcon: MenuItemsSideBar_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_IR_3.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =MobileShowMenu
        Width: =If(App.Width > 800, 240, App.Width)
        Y: =56
        ZIndex: =4

    MenuItemsSideBar_Small_IR_3 As MenuItemsSideBar_Small:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_Small_IR_3.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_3.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_Small_IR_3.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_Small_IR_3.IconFile,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_Small_IR_3.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_Small_IR_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_IR_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoiation&A",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_Small_IR_3.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =App.Width > 800 && !MobileShowMenu
        Y: =56
        ZIndex: =5

    Timer1_30 As timer:
        Duration: =3000
        Font: =Font.Arial
        OnTimerEnd: |-
            =Reset(Timer1_30); UpdateContext({ShowNotification: false}); Set(IsError, false);
        Start: =ShowNotification
        Visible: =false
        X: =60
        Y: =627
        ZIndex: =61

    NotificationBox_28 As button:
        Align: =Align.Left
        BorderColor: =RGBA(40, 167, 69, 1)
        BorderThickness: =0
        DisabledFill: =Self.Fill
        Fill: =If(IsError, RGBA(209, 50, 50, 1), RGBA(40, 167, 69, 1))
        FocusedBorderThickness: =0
        Font: =Font.Arial
        Height: =50
        HoverBorderColor: =Self.Fill
        HoverFill: =Self.Fill
        PaddingLeft: =15
        PaddingRight: =30
        PressedColor: =RGBA(255, 255, 255, 1)
        PressedFill: =Self.Fill
        RadiusBottomLeft: =5
        RadiusBottomRight: =5
        RadiusTopLeft: =5
        RadiusTopRight: =5
        Size: =10.5
        Text: =NoticationText
        Visible: =Timer1_30.Value <> 0
        Width: =320
        X: =App.Width - Self.Width - 2
        Y: =60
        ZIndex: =62

    CloseNotiIcon_28 As icon.Cancel:
        Color: =RGBA(255, 255, 255, 1)
        Height: =15
        Icon: =Icon.Cancel
        OnSelect: =Reset(Timer1_30); Set(IsError, false);
        Visible: =NotificationBox_28.Visible
        Width: =15
        X: =NotificationBox_28.X + NotificationBox_28.Width - 25
        Y: =NotificationBox_28.Y + 17.5
        ZIndex: =63

    NotificationScreen_IR_3 As NotificationScreen:
        Visible: =ShowNotificationPopup
        ZIndex: =64

    LoadingQT2List_18 As LoadingComponent_4:
        Visible: =isLoading
        ZIndex: =65

    SetUpProgressTree As button:
        Font: =Font.Arial
        FontWeight: =FontWeight.Bold
        OnSelect: |-
            =// Setup tracking progress JSON for Son.Nguyen component
            ClearCollect(groupIC, Filter(PEVCgroups, group_team = "IC"));
            ClearCollect(groupISCVC, Filter(PEVCgroups, group_team = "ISC-VC"));
            ClearCollect(groupISCPE, Filter(PEVCgroups, group_team = "ISC-PE"));
            ClearCollect(PEVCGroupsObject, []);
            ClearCollect(listProgessPEVCForTracking, []);
            Set(action, If(IsEmpty(Filter(PEVClogs, status in ["COMPLETE_DISCUSSION_PAPER_PENDING_IC"] && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "",
            First(Filter(PEVClogs, status in ["COMPLETE_DISCUSSION_PAPER_PENDING_IC"] && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group));
            If(prePEVCInfoEdit.status in ["APPROVED", "REJECTED"],
                Set(CurrentLevel, Last(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC)).level),
                Set(CurrentLevel, First(Filter(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC), prePEVCInfoEdit.status in currentStatus)).level);
            );
            
            ForAll(If(isDivestment, listProgessDivestmentPEVC, listProgessPEVC) As progress,
                Collect(listProgessPEVCForTracking,
                {
                    Text: progress.Text,
                    Code: progress.Code,
                    level: progress.level,
                    subTitle: {
                        name: If(
                        !("_IC" in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                        !(If(isDivestment, "_ISC_VC", "_ISCVC") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                        !(If(isDivestment, "_ISC_PE", "_ISCPE") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status),
                        Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).name_employee,
                        !(progress.shortStatus&"_PENDING_IC" in progress.currentStatus),
                        Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).name_employee,
                        If( // name Reject
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            First(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)).status_group = "REJECTED" &&
                            (IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) ||
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED") &&
                            (IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) ||
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED"),
                            "IC",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            First(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)).status_group = "REJECTED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                            (IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) ||
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED"),
                            "ISC-VC, IC",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            First(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)).status_group = "REJECTED" &&
                            (IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) ||
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED") &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                            "ISC-PE, IC",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            First(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)).status_group = "REJECTED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                            "ISC-VC, ISC-PE, IC",
                            // name Approve
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                            "ISC-VC, ISC-PE, IC",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                            "ISC-PE, IC",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                            "ISC-VC, IC",
                            IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                            "ISC-VC, ISC-PE",
                            IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                            "ISC-VC",
                            IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                            "ISC-PE",
                            IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                            "ISC-VC",
                            IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                            "ISC-PE",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                            "ISC-PE, IC",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                            IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)),
                            "ISC-VC, IC",
                            !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)),
                            "IC",
                            IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                            IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)),
                            "ISC-VC",
                            IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                            IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                            !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                            First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                            "ISC-PE",
                            ""
                        )),
                        action: If(!(progress.shortStatus&"_PENDING_IC" in progress.currentStatus),
                        If((Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status = "COMPLETE_DIVESTMENT_ATTACH_FILE" ||
                        Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status = "COMPLETE_DISBURSEMENT_ATTACH_FILE") && Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).action = "SUBMIT", "CLOSE",
                        Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).action
                        ),
                        !("_IC" in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                        !(If(isDivestment, "_ISC_VC", "_ISCVC") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status) &&
                        !(If(isDivestment, "_ISC_PE", "_ISCPE") in Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).status),
                        Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).action,
                        If(IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status && IsBlank(is_not_action))),
                            If(Value(CurrentLevel) > Value(progress.level),
                                If(!IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    Last(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)).status_group = "APPROVED", "APPROVE",
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    Last(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)).status_group = "REJECTED", "REJECT",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                    First(Filter(voteResult,progress.shortStatus&If(isDivestment,"_PENDING_ISC_PE","_PENDING_ISCPE") in status)).status_group="APPROVED", "APPROVE",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                    First(Filter(voteResult,progress.shortStatus&If(isDivestment,"_PENDING_ISC_PE","_PENDING_ISCPE") in status)).status_group="REJECTED", "REJECT",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                    IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)), "APPROVE",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                                    IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)), "REJECT",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                                    "APPROVE",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "APPROVED" &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                                    "APPROVE",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "APPROVED",
                                    "APPROVE",
                                    IsEmpty(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status)) &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_VC", "_PENDING_ISCVC") in status)).status_group = "REJECTED" &&
                                    !IsEmpty(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)) &&
                                    First(Filter(voteResult, progress.shortStatus&If(isDivestment, "_PENDING_ISC_PE", "_PENDING_ISCPE") in status)).status_group = "REJECTED",
                                    "REJECT",
                                    ""),
                            ""),
                            First(Filter(voteResult, progress.shortStatus&"_PENDING_IC" in status && IsBlank(is_not_action))).action
                        )),
                        time: Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), status in progress.currentStatus && !IsBlank(action))).created_date), "dd/mm/yyyy")
                    },
                    actionLogs: Filter(Sort(PEVClogs, created_date), status in progress.currentStatus),
                    clickScreen: progress.clickScreen,
                    currentStatus: progress.currentStatus,
                    activeArray: progress.activeArray,
                    statusLogFilter: progress.statusLogFilter,
                    Groups: [
                        {
                            groupName: "ISC-Debt",
                            showGroup: "ISC-VC" in detailPEVCById.level_of_approval && progress.Text in ["Complete Discussion Paper", "Investment Memo", "Investment Memo (adjusted)", "Proposed divestment", "Approve resolutions", "Approve resolution"] && If(Switch(
                                    If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)), "",
                                    First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "", !("ISC-VC" in detailPEVCById.group_rejected), true),
                            subTitle: {
                                action: Switch(
                                    If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)), "",
                                    First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", ""),
                                time: If(IsBlank(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_VC", "_ISCVC") in status)).created_date), "",
                                Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_VC", "_ISCVC") in status)).created_date), "dd/mm/yyyy"))
                            },
                            children:
                            If(Switch(If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)), "", First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "",
                                AddColumns(Filter(PEVCgroups, group_team = "ISC-VC") As gr,
                                    name, gr.name_user,
                                    action, Text(Last(Filter(Sort(PEVClogs, created_date) As logs,
                                         logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_VC", "_ISCVC") in logs.status)).action),
                                    time, Text(DateTimeValue(
                                        Last(Filter(Sort(PEVClogs, created_date) As logs,
                                             logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_VC", "_ISCVC") in logs.status
                                        )).created_date), "dd/mm/yyyy")
                                ),
                                AddColumns(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_VC", "_ISCVC") in status),
                                    name, name_employee,
                                    time, Text(DateTimeValue(created_date), "dd/mm/yyyy")
                                )
                            )
                        },
                        {
                            groupName: "ISC-Equity",
                            showGroup: "ISC-PE" in detailPEVCById.level_of_approval && progress.Text in ["Complete Discussion Paper", "Investment Memo", "Investment Memo (adjusted)", "Proposed divestment", "Approve resolutions", "Approve resolution"] && If(Switch(
                                    If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "",
                                    First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "", !("ISC-PE" in detailPEVCById.group_rejected), true),
                            subTitle: {
                                action: Switch(
                                    If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "",
                                    First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", ""),
                                time: If(IsBlank(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_PE", "_ISCPE") in status)).created_date), "",
                                Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), If(isDivestment, "_ISC_PE", "_ISCPE") in status)).created_date), "dd/mm/yyyy"))
                            },
                            children:
                            If(Switch(If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)), "", First(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "",
                            AddColumns(Filter(PEVCgroups, group_team = "ISC-PE") As gr,
                                name, gr.name_user,
                                action, Text(Last(Filter(Sort(PEVClogs, created_date) As logs,
                                     logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_PE", "_ISCPE") in logs.status)).action),
                                time, Text(DateTimeValue(
                                            Last(Filter(Sort(PEVClogs, created_date) As logs,
                                                 logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && If(isDivestment, "_ISC_PE", "_ISCPE") in logs.status
                                            )).created_date), "dd/mm/yyyy")
                            ),
                                AddColumns(Filter(PEVClogs, status in progress.currentStatus && If(isDivestment, "_ISC_PE", "_ISCPE") in status),
                                    name, name_employee,
                                    time, Text(DateTimeValue(created_date), "dd/mm/yyyy")
                                )
                            )
                        },
                        {
                            groupName: "IC",
                            showGroup: "IC" in detailPEVCById.level_of_approval && progress.Text in ["Complete Discussion Paper", "Investment Memo", "Investment Memo (adjusted)", "Proposed divestment", "Approve resolutions", "Approve resolution"],
                            subTitle: {
                                action: Switch(
                                    If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)), "",
                                    First(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", ""),
                                time: If(IsBlank(Last(Filter(Sort(PEVClogs, created_date), "IC" in status)).created_date), "",
                                Text(DateTimeValue(Last(Filter(Sort(PEVClogs, created_date), "IC" in status)).created_date), "dd/mm/yyyy"))
                            },
                            children:
                            If(Switch(If(IsEmpty(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)), "", First(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status)).status_group),
                                "APPROVED", "APPROVE", "REJECTED", "REJECT", "") = "",
                            AddColumns(Filter(PEVCgroups, group_team = "IC") As gr,
                                name, gr.name_user,
                                action, Text(Last(Filter(Sort(PEVClogs, created_date) As logs,
                                    logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && "_IC" in logs.status)).action),
                                time, Text(DateTimeValue(
                                            Last(Filter(Sort(PEVClogs, created_date) As logs,
                                                logs.status in progress.currentStatus && logs.employee_id = gr.employee_id && "_IC" in logs.status
                                            )).created_date), "dd/mm/yyyy")
                            ),
                                AddColumns(Filter(PEVClogs, status in progress.currentStatus && "_IC" in status),
                                    name, name_employee,
                                    time, Text(DateTimeValue(created_date), "dd/mm/yyyy")
                                )
                            )
                        }
                    ]
                }
                );
            );
            
            Set(dealTypeSelectedValue, detailPEVCById.deal_type);
        Text: ="Button"
        Visible: =false
        X: =1119
        Y: =216
        ZIndex: =66

    CallGetAll_PEVC As button:
        Font: =Font.Arial
        OnSelect: |-
            =// Call API get datas
            If(showLoading, Set(isLoading, true));
            // If(isDivestment,
            //     ClearCollect(listItem,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, DealDetailTab, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC));,
            //     ClearCollect(listItem,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, DealDetailTab, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC));
            // );
            
            
            Concurrent(
                //Divesment - Action need
                 ClearCollect(listItemDisvesmentActionNeed,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                //Divesment - Under processing
                ClearCollect(listItemDisvesmentUnderProcessing,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                //Divesment - Complete
                ClearCollect(listItemDisvesmentComplete,'TVS->FindAllAndFilterPagingPEVCDivestment-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC));,
            
                //PreDivesment - Action need
               ClearCollect(listItemPreDisvesmentActionNeed,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 1, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                //PreDivesment - Under processing
                ClearCollect(listItemPreDisvesmentUnderProcessing,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 2, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)),
                //PreDivesment - Complete
               ClearCollect(listItemPreDisvesmentComplete,'TVS->FindAllFilterPagegingPVEC-V1'.Run(PageSizeNumber,currentPageIndex,dateFromFilterVar,dateToFilterVar,resKeyOpenAll.open,resKeyOpenAll.close, If(IsBlank(input_searchAll_4.Text), "", Trim(input_searchAll_4.Text)),pevcRoleString,pevcTeamGroupString, 3, First(currentUserV2Res).id, statusFilterPEVC, serverFilterPEVC)));
            
            Set(isLoading, false);
            
            If(isDivestment,
                Switch(DealDetailTab,
                1, ClearCollect(listRes,listItemDisvesmentActionNeed.listItem); Set(pageCount,First(listItemDisvesmentActionNeed.pageCount).pageCount);,
                2, ClearCollect(listRes,listItemDisvesmentUnderProcessing.listItem); Set(pageCount,First(listItemDisvesmentUnderProcessing.pageCount).pageCount);,
                ClearCollect(listRes,listItemDisvesmentComplete.listItem); Set(pageCount,First(listItemDisvesmentComplete.pageCount).pageCount);
                );,
                Switch(DealDetailTab,
                1, ClearCollect(listRes,listItemPreDisvesmentActionNeed.listItem); Set(pageCount,First(listItemPreDisvesmentActionNeed.pageCount).pageCount);,
                2, ClearCollect(listRes,listItemPreDisvesmentUnderProcessing.listItem); Set(pageCount,First(listItemPreDisvesmentUnderProcessing.pageCount).pageCount);,
                ClearCollect(listRes,listItemPreDisvesmentComplete.listItem); Set(pageCount,First(listItemPreDisvesmentComplete.pageCount).pageCount);
                );
            );
            //pageIndex
            Set(maxList,[1,2,3,4]);
            Set(pageIndexFirst, 5*RoundDown(currentPageIndex/5, 0));
            ClearCollect(listPageIndex, pageIndexFirst);
            ForAll(maxList,If(Last(listPageIndex).Value + 1 < pageCount,Collect(listPageIndex,Last(listPageIndex).Value + 1)));
            
            Set(showLoading, true);
        Text: ="Button"
        Visible: =false
        X: =1211
        Y: =232
        ZIndex: =67

    FilterVoteResult As button:
        Font: =Font.Arial
        OnSelect: |-
            =ClearCollect(voteLogs, Sort(PEVClogs, created_date, SortOrder.Descending));
            ClearCollect(voteResult, []);
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "COMPLETE_DISCUSSION_PAPER_PENDING_ISCVC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "COMPLETE_DISCUSSION_PAPER_PENDING_ISCPE")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "COMPLETE_DISCUSSION_PAPER_PENDING_IC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_PENDING_ISCVC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_PENDING_ISCPE")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_PENDING_IC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_ADJUSTED_PENDING_ISCVC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_ADJUSTED_PENDING_ISCPE")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "INVESTMENT_MEMO_ADJUSTED_PENDING_IC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISCVC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISCPE")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_IC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "PROPOSED_DIVESTMENT_PENDING_ISC_PE")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "PROPOSED_DIVESTMENT_PENDING_ISC_VC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "PROPOSED_DIVESTMENT_PENDING_IC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISC_PE")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_ISC_VC")));
            Collect(voteResult, First(Filter(voteLogs, !IsBlank(status_group) && status = "APPROVE_RESOLUTION_PENDING_IC")));
        Text: ="Button"
        Visible: =false
        X: =1064
        Y: =190
        ZIndex: =68

    AssignPopupGroup_PEVC As group:
        Height: =5
        Width: =5
        X: =80
        Y: =80
        ZIndex: =69

        AssignPopupBack_1 As rectangle:
            Fill: =RGBA(0, 0, 0, 0.5)
            Height: =Parent.Height
            Visible: =showAssignPopup
            Width: =Parent.Width
            ZIndex: =24

        AssignPopupBg_1 As htmlViewer:
            Font: =Font.Arial
            Height: =AssignDealSaveButton_1.Y + AssignDealSaveButton_1.Height + -Self.Y + 40
            HtmlText: |-
                ="<div style='height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 7px 5px 16px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =5.00
            Size: =11.00
            Visible: =showAssignPopup
            Width: =If(Parent.Width > 600, 600, Parent.Width - 30)
            X: =If(Parent.Width > 600, App.Width / 2 - 300, 10)
            Y: =If(App.Height > 800, 100, 40)
            ZIndex: =25

        AssignDealOwner_Start As label:
            Color: =RGBA(255, 0, 0, 1)
            Font: =Font.Arial
            Height: =30
            Size: =10.5
            Text: ="*"
            Visible: =showAssignPopup
            Width: =40
            X: =AssignTitle_1.X + 68
            Y: =AssignDealServer_InputBg_1.Y + AssignDealServer_InputBg_1.Height + 10
            ZIndex: =26

        AssignTitle_1 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Size: =12
            Text: ="Assign Member"
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignPopupBg_1.X + 20
            Y: =AssignPopupBg_1.Y + 15
            ZIndex: =27

        CloseAssignIcon_1 As icon.Cancel:
            Color: =RGBA(0, 0, 0, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: =Set(showAssignPopup, false)
            Visible: =showAssignPopup
            Width: =20
            X: =AssignTitle_1.X + AssignTitle_1.Width - Self.Width
            Y: =AssignTitle_1.Y + 8
            ZIndex: =28

        AssignDealTitle1_Label_1 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Semibold
            Height: =30
            Size: =10.5
            Text: ="Deal Name"
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignTitle_1.X
            Y: =AssignTitle_1.Y + 40
            ZIndex: =29

        AssignDealTitle_Input_1 As text:
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Default: =dealNamePEVC
            DelayOutput: =true
            DisabledColor: =If(App.Width > 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
            DisplayMode: =DisplayMode.Disabled
            FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Font: =Font.Arial
            Height: =44
            HoverBorderColor: =RGBA(191, 191, 192, 1)
            HoverFill: =RGBA(255, 255, 255, 1)
            OnChange: |-
                =UpdateContext({workingCapital: Self.Text})
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            Size: =If(App.Width > 600, 10.5, 12)
            Tooltip: =
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignDealTitle1_Label_1.X
            Y: =AssignDealTitle1_Label_1.Y + AssignDealTitle1_Label_1.Height
            ZIndex: =30

        AssignServer_Label_1 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Semibold
            Height: =30
            Size: =10.5
            Text: ="Server"
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignTitle_1.X
            Y: =AssignDealTitle_Input_1.Y + AssignDealTitle_Input_1.Height + 5
            ZIndex: =31

        AssignDealServer_InputBg_1 As text:
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Default: =assignServerValue
            DelayOutput: =true
            DisabledColor: =If(App.Width > 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
            DisplayMode: =If(isDirectorPEVCUser && DealDetailTab <> 3, DisplayMode.Edit, DisplayMode.Disabled)
            FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Font: =Font.Arial
            Height: =44
            HoverBorderColor: =RGBA(191, 191, 192, 1)
            HoverFill: =RGBA(255, 255, 255, 1)
            OnChange: |-
                =UpdateContext({workingCapital: Self.Text})
            OnSelect: =Set(assignServerShowDropdown, !assignServerShowDropdown);
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            Size: =If(App.Width > 600, 10.5, 12)
            Tooltip: =
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignServer_Label_1.X
            Y: =AssignServer_Label_1.Y + AssignServer_Label_1.Height
            ZIndex: =32

        AssignDealOwner_Label_1 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Semibold
            Height: =30
            Size: =10.5
            Text: ="Deal Lead"
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignTitle_1.X
            Y: =AssignDealServer_InputBg_1.Y + AssignDealServer_InputBg_1.Height + 10
            ZIndex: =33

        AssignDealOwner_InputBg_1 As text:
            BorderColor: =If(IsBlank(assignDealLeadValue) && isSubmittedAssignPopup, Color.Red, RGBA(191, 191, 192, 1))
            BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Default: =assignDealLeadValue.name
            DelayOutput: =true
            DisabledColor: =If(App.Width > 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
            DisplayMode: =If(isDirectorPEVCUser && DealDetailTab <> 3, DisplayMode.Edit, DisplayMode.Disabled)
            FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Font: =Font.Arial
            Height: =44
            HoverBorderColor: =RGBA(191, 191, 192, 1)
            HoverFill: =RGBA(255, 255, 255, 1)
            OnChange: |-
                =UpdateContext({workingCapital: Self.Text})
            OnSelect: |-
                =Set(assignDealLeadValueOldIDPEVC, assignDealLeadValue.id);
                Set(assignDealOwnerShowDropdown, !assignDealOwnerShowDropdown);
                Set(assignDealLeadValue, Blank());
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            Size: =If(App.Width > 600, 10.5, 12)
            Tooltip: =
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignDealOwner_Label_1.X
            Y: =AssignDealOwner_Label_1.Y + AssignDealOwner_Label_1.Height
            ZIndex: =34

        AssignMentor_Label_1 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Semibold
            Height: =30
            Size: =10.5
            Text: ="Deal Mentor"
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignTitle_1.X
            Y: =AssignDealOwner_InputBg_1.Y + AssignDealOwner_InputBg_1.Height + 10
            ZIndex: =35

        AssignDealMentor_InputBg_1 As text:
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Default: =assignDealMentorValue.name
            DelayOutput: =true
            DisabledColor: =If(App.Width > 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
            DisplayMode: =If(isDirectorPEVCUser && DealDetailTab <> 3, DisplayMode.Edit, DisplayMode.Disabled)
            FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Font: =Font.Arial
            Height: =44
            HoverBorderColor: =RGBA(191, 191, 192, 1)
            HoverFill: =RGBA(255, 255, 255, 1)
            OnSelect: |-
                =Set(assignDealMentorValueOldIDPEVC, assignDealMentorValue.id);
                Set(assignDealMentorShowDropdown, !assignDealMentorShowDropdown);
                Set(assignDealMentorValue, Blank());
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            Size: =If(App.Width > 600, 10.5, 12)
            Tooltip: =
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignMentor_Label_1.X
            Y: =AssignMentor_Label_1.Y + AssignMentor_Label_1.Height
            ZIndex: =36

        AssignSupport_Label_2 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Semibold
            Height: =30
            Size: =10.5
            Text: ="Deal Support"
            Visible: =showAssignPopup
            Width: =(AssignPopupBg_1.Width - 10) / 2
            X: =AssignTitle_1.X
            Y: =AssignDealMentor_InputBg_1.Y + AssignDealMentor_InputBg_1.Height + 10
            ZIndex: =37

        AssignDealSupport_InputBg_1 As text:
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Default: =""
            DelayOutput: =true
            DisabledColor: =If(App.Width > 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
            DisplayMode: =If(isDirectorPEVCUser && DealDetailTab <> 3, DisplayMode.Edit, DisplayMode.Disabled)
            FocusedBorderThickness: =If(Self.DisplayMode = DisplayMode.Disabled, 0, 1)
            Font: =Font.Arial
            Height: =44
            HoverBorderColor: =RGBA(191, 191, 192, 1)
            HoverFill: =RGBA(255, 255, 255, 1)
            OnChange: |-
                =UpdateContext({workingCapital: Self.Text})
            OnSelect: =Set(assignDealSupportShowDropdown, !assignDealSupportShowDropdown);
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            Size: =If(App.Width > 600, 10.5, 12)
            Tooltip: =
            Visible: =showAssignPopup
            Width: =AssignPopupBg_1.Width - 40
            X: =AssignDealTitle1_Label_1.X
            Y: =AssignSupport_Label_2.Y + AssignSupport_Label_2.Height
            ZIndex: =38

        AssignDealCancelButton_1 As button:
            BorderThickness: =1
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderColor: =Self.HoverColor
            FocusedBorderThickness: =1
            Font: =Font.Arial
            FontWeight: =FontWeight.Lighter
            Height: =42
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: =Set(showAssignPopup, false)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: ="Cancel"
            Visible: =showAssignPopup
            Width: =120
            X: =AssignDealSaveButton_1.X - Self.Width - 10
            Y: =AssignDealSaveButton_1.Y
            ZIndex: =39

        AssignDealSaveButton_1 As button:
            BorderThickness: =1
            DisplayMode: =If(isDirectorPEVCUser && DealDetailTab <> 3, DisplayMode.Edit, DisplayMode.Disabled)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            FontWeight: =FontWeight.Lighter
            Height: =42
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =UpdateContext({ShowNotification: false });
                Set(isSubmittedAssignPopup, true);
                If(IsBlank(assignDealLeadValue), Set(IsError, true); Set(NoticationText,"Deal lead is required!");UpdateContext({ShowNotification: true});,
                //save user asign
                Set(isLoading, true);
                Clear(listUserAsignPEVCRes);
                If(!IsBlank(assignDealLeadValue),Collect(listUserAsignPEVCRes, {type:"deal_lead",employee_id:assignDealLeadValue.id}));
                If(!IsBlank(assignDealMentorValue),Collect(listUserAsignPEVCRes, {type:"deal_mentor",employee_id:assignDealMentorValue.id}));
                
                Set(isLoading, true);
                ForAll(assignDealSupport,Collect(listUserAsignPEVCRes,{type:"deal_support",employee_id:ThisRecord.id}));
                Set(createAsignPEVCRes,{share:assignServerValue,listUser:listUserAsignPEVCRes});
                If(isDivestment,
                    'TVS->InsertUpdateEmployeeDealDivestment-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,pvecId,JSON(createAsignPEVCRes,JSONFormat.IndentFour),First(currentUserV2Res).id);,
                    'TVS->InsertUpdateEmployeeDeal-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,pvecId,JSON(createAsignPEVCRes,JSONFormat.IndentFour),First(currentUserV2Res).id);
                );
                Set(isLoading, false);
                
                Set(NoticationText,"Assigned successfully!");UpdateContext({ShowNotification: true});
                Set(showAssignPopup, false);
                
                Select(CallGetAll_PEVC);
                ///Asign Noti -Last list
                Clear(listUserAsignLast);
                If(
                    !IsBlank(assignDealLeadValue.id),
                    Collect(
                        listUserAsignLast,
                        {
                            employee_id: assignDealLeadValue.id,
                            email:assignDealLeadValue.email,
                            internal_email:assignDealLeadValue.internal_email,
                            name:assignDealLeadValue.name,
                            type: "deal lead"
                        }
                    )
                );
                If(
                    !IsBlank(assignDealMentorValue.id),
                    Collect(
                        listUserAsignLast,
                        {
                            employee_id: assignDealMentorValue.id,
                            email:assignDealMentorValue.email,
                            internal_email:assignDealMentorValue.internal_email,
                            name:assignDealMentorValue.name,
                            type: "deal mentor"
                        }
                    )
                );
                ForAll(
                    assignDealSupport,
                    Collect(
                        listUserAsignLast,
                        {
                            employee_id: ThisRecord.id,
                            type: "deal support",
                             email:ThisRecord.email,
                            internal_email:ThisRecord.internal_email,
                            name:ThisRecord.name
                        }
                    )
                );
                ClearCollect(
                    listUserAsignAdd,
                    Filter(
                        listUserAsignLast,
                        !(ThisRecord.employee_id in listUserAsignFirst.employee_id)
                    )
                );
                ClearCollect(
                    listUserAsignRemove,
                    Filter(
                        listUserAsignFirst,
                        !(ThisRecord.employee_id in listUserAsignLast.employee_id)
                    )
                );
                
                Clear(listUserAsignChanged);
                
                ForAll(listUserAsignFirst As item, If(CountIf(listUserAsignLast, item.employee_id  = employee_id && item.type <> type) > 0, Collect(listUserAsignChanged, AddColumns(item, type_new, LookUp(listUserAsignLast, employee_id = item.employee_id).type)))) ;
                
                Set(resAsignMemberSendNoti , {
                    listMemberCurrent:listUserAsignLast,
                    listMemberAdd:listUserAsignAdd,
                    listMemberRemove:listUserAsignRemove,
                    listMemberChange:listUserAsignChanged
                });
                
                'TVS->SendNotiEmailAsignMember-Process5-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,JSON(resAsignMemberSendNoti,JSONFormat.IndentFour),pvecId,"",currenUserV2.name,envTEST,currenUserV2.id,dealType,companyName, "<a href='" & linkToApp & "?screen=detail-pevc&action=approve-pevc&pevc_id=" & pvecId & If(isDivestment, "D", "P") & "'>Link</a>",appProperty, emailFromConfix,!isDivestment);
                )
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: ="Save"
            Visible: =showAssignPopup
            Width: =120
            X: =AssignPopupBg_1.X + AssignPopupBg_1.Width - Self.Width - 20
            Y: =Max(AssignDealSpList_1.Y + AssignDealSpList_1.Height, AssignDealObserverList_1.Y + AssignDealObserverList_1.Height) + 10
            ZIndex: =40

        AssignDealServer_Chevron_6 As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(assignServerShowDropdown,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =Set(assignServerShowDropdown, !assignServerShowDropdown);
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =AssignDealServer_InputBg_1.Visible && isDirectorPEVCUser
            Width: =35
            X: =AssignDealServer_InputBg_1.X + AssignDealServer_InputBg_1.Width - 35
            Y: =AssignDealServer_InputBg_1.Y + 2
            ZIndex: =41

        AssignDealServer_Chevron_7 As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(assignDealOwnerShowDropdown,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =If(AssignDealOwner_InputBg_1.DisplayMode = DisplayMode.Edit, Select(AssignDealOwner_InputBg_1))
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =AssignDealServer_InputBg_1.Visible && isDirectorPEVCUser
            Width: =35
            X: =AssignDealOwner_InputBg_1.X + AssignDealOwner_InputBg_1.Width - 35
            Y: =AssignDealOwner_InputBg_1.Y + 2
            ZIndex: =42

        AssignDealServer_Chevron_8 As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(assignDealMentorShowDropdown,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =If(AssignDealMentor_InputBg_1.DisplayMode = DisplayMode.Edit, Select(AssignDealMentor_InputBg_1))
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =AssignDealServer_InputBg_1.Visible && isDirectorPEVCUser
            Width: =35
            X: =AssignDealMentor_InputBg_1.X + AssignDealMentor_InputBg_1.Width - 35
            Y: =AssignDealMentor_InputBg_1.Y + 2
            ZIndex: =43

        AssignDealServer_Chevron_9 As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(assignDealSupportShowDropdown,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =Set(assignDealSupportShowDropdown, !assignDealSupportShowDropdown);
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =false
            Width: =35
            X: =AssignDealSupport_InputBg_1.X + AssignDealSupport_InputBg_1.Width - 35
            Y: =AssignDealSupport_InputBg_1.Y + 2
            ZIndex: =44

        AssignDealServer_Chevron_10 As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(assignDealSupportShowDropdown,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =If(AssignDealSupport_InputBg_1.DisplayMode = DisplayMode.Edit, Select(AssignDealSupport_InputBg_1))
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =AssignDealServer_InputBg_1.Visible && isDirectorPEVCUser
            Width: =35
            X: =AssignDealSupport_InputBg_1.X + AssignDealSupport_InputBg_1.Width - 35
            Y: =AssignDealSupport_InputBg_1.Y + 2
            ZIndex: =45

        AssignDealServer_Chevron_11 As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(assignDealObserverShowDropdown,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =Set(assignDealObserverShowDropdown, !assignDealObserverShowDropdown);
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =AssignDealServer_InputBg_1.Visible && false
            Width: =35
            X: =AssignDealServer_Items_11.X + AssignDealServer_Items_11.Width - 35
            Y: =AssignDealServer_Items_11.Y + 2
            ZIndex: =46

        "AssignDealSpList_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            Default: =//Filter(DataProcess, dataProcess.Code in Split(empSelect.process_code, "/"))
            Height: =If(App.Width > 1500, Min(Self.AllItemsCount, 4), Min(Self.AllItemsCount, 2)) * 32
            Items: =assignDealSupport
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =32
            Visible: =AssignTitle_1.Visible
            Width: =AssignDealSupport_InputBg_1.Width
            X: =AssignDealSupport_InputBg_1.X
            Y: =AssignDealSupport_InputBg_1.Y + AssignDealSupport_InputBg_1.Height + 3
            ZIndex: =47

            Label7_17 As label:
                BorderColor: =RGBA(77, 77, 77, 1)
                Font: =Font.Arial
                Height: =32
                OnSelect: =Select(Parent)
                Size: =10.5
                Text: =ThisItem.name
                Width: =Parent.Width - HtmlText2_22.Width
                X: =HtmlText2_22.X + HtmlText2_22.Width
                ZIndex: =1

            HtmlText2_22 As htmlViewer:
                Font: =Font.Arial
                Height: =32
                HtmlText: |-
                    ="<svg xmlns=""http://www.w3.org/2000/svg"" width=""10"" height=""11"" viewBox=""0 0 10 11"" fill=""none"">
                      <g clip-path=""url(#clip0_5576_58443)"">
                        <path d=""M5 0.5C2.21429 0.5 0 2.71429 0 5.5C0 8.28571 2.21429 10.5 5 10.5C7.78571 10.5 10 8.28571 10 5.5C10 2.71429 7.78571 0.5 5 0.5ZM6.92857 8L5 6.07143L3.07143 8L2.5 7.42857L4.42857 5.5L2.5 3.57143L3.07143 3L5 4.92857L6.92857 3L7.5 3.57143L5.57143 5.5L7.5 7.42857L6.92857 8Z"" fill=""black""/>
                      </g>
                      <defs>
                        <clipPath id=""clip0_5576_58443"">
                          <rect width=""10"" height=""10"" fill=""white"" transform=""translate(0 0.5)""/>
                        </clipPath>
                      </defs>
                    </svg>"
                OnSelect: |-
                    =RemoveIf(assignDealSupport, id = ThisItem.id);
                    If(!(ThisItem in assignDealSupportRemove), Collect(assignDealSupportRemove, ThisItem));
                Width: =25
                ZIndex: =2

        "AssignDealObserverList_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            Default: =//Filter(DataProcess, dataProcess.Code in Split(empSelect.process_code, "/"))
            Height: =If(App.Width > 1500, Self.AllItemsCount, Min(Self.AllItemsCount, 2)) * 32
            Items: =assignDealObserver
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =32
            Visible: =AssignTitle_1.Visible
            Width: =AssignDealServer_Items_11.Width
            X: =AssignDealServer_Items_11.X
            Y: =AssignDealSupport_InputBg_1.Y + AssignDealSupport_InputBg_1.Height + 3
            ZIndex: =48

            Label7_18 As label:
                BorderColor: =RGBA(77, 77, 77, 1)
                Font: =Font.Arial
                Height: =32
                OnSelect: =Select(Parent)
                Size: =10.5
                Text: |-
                    =//LookUp(getAllHasTag, id = ThisItem.value).value
                    ThisItem.name
                Width: =Parent.Width - HtmlText2_23.Width
                X: =HtmlText2_23.X + HtmlText2_23.Width
                ZIndex: =1

            HtmlText2_23 As htmlViewer:
                Font: =Font.Arial
                Height: =32
                HtmlText: |-
                    ="<svg xmlns=""http://www.w3.org/2000/svg"" width=""10"" height=""11"" viewBox=""0 0 10 11"" fill=""none"">
                      <g clip-path=""url(#clip0_5576_58443)"">
                        <path d=""M5 0.5C2.21429 0.5 0 2.71429 0 5.5C0 8.28571 2.21429 10.5 5 10.5C7.78571 10.5 10 8.28571 10 5.5C10 2.71429 7.78571 0.5 5 0.5ZM6.92857 8L5 6.07143L3.07143 8L2.5 7.42857L4.42857 5.5L2.5 3.57143L3.07143 3L5 4.92857L6.92857 3L7.5 3.57143L5.57143 5.5L7.5 7.42857L6.92857 8Z"" fill=""black""/>
                      </g>
                      <defs>
                        <clipPath id=""clip0_5576_58443"">
                          <rect width=""10"" height=""10"" fill=""white"" transform=""translate(0 0.5)""/>
                        </clipPath>
                      </defs>
                    </svg>"
                OnSelect: |-
                    =RemoveIf(assignDealObserver, id = ThisItem.id);
                    If(!(ThisItem in assignDealObserverRemove), Collect(assignDealObserverRemove, ThisItem));
                Width: =25
                ZIndex: =2

        MA_CloseDropdown_2 As rectangle:
            Fill: =RGBA(255, 255, 255, 0)
            Height: =Parent.Height - Self.Y
            OnSelect: |-
                =If(assignDealOwnerShowDropdown && !IsBlank(assignDealLeadValueOldIDPEVC),
                    Set(assignDealLeadValue, First(Filter(listUserAsignPEVC, id = assignDealLeadValueOldIDPEVC))));
                If(assignDealMentorShowDropdown && !IsBlank(assignDealMentorValueOldIDPEVC),
                    Set(assignDealMentorValue, First(Filter(listUserAsignPEVC, id = assignDealMentorValueOldIDPEVC))));
                Set(assignServerShowDropdown, false);
                Set(assignDealOwnerShowDropdown, false);
                Set(assignDealMentorShowDropdown, false);
                Set(assignDealSupportShowDropdown, false);
                Set(assignDealSupportShowDropdown, false);
                Set(assignDealObserverShowDropdown, false);
            Visible: =assignServerShowDropdown || assignDealOwnerShowDropdown || assignDealMentorShowDropdown || assignDealSupportShowDropdown || assignDealSupportShowDropdown || assignDealObserverShowDropdown
            Width: =Parent.Width
            Y: =40
            ZIndex: =49

        "AssignDealServer_Items_6 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =0.5
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Self.AllItemsCount * Self.TemplateHeight + 10
            Items: |-
                =[{value: "General"}, {value: "Restricted"}]
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =40
            Visible: =assignServerShowDropdown && AssignDealServer_InputBg_1.Visible
            Width: =AssignDealServer_InputBg_1.Width
            X: =AssignDealServer_InputBg_1.X
            Y: =AssignDealServer_InputBg_1.Y + 45
            ZIndex: =50

            Button6_76 As button:
                Align: =Align.Left
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                Fill: =If(ThisItem.value = assignServerValue, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: |-
                    =Set(assignServerValue, ThisItem.value);
                    Set(assignServerShowDropdown, false);
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =ThisItem.value
                Width: =Parent.Width
                X: =0.00
                ZIndex: =1

        "AssignDealServer_Items_7 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =0.5
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
            Items: |-
                =Filter(listUserAsignPEVC,
                    (IsBlank(assignDealLeadValue) || id <> assignDealLeadValue.id) &&
                    (IsBlank(assignDealMentorValue) || id <> assignDealMentorValue.id) &&
                    (IsEmpty(assignDealSupport) || !(id in assignDealSupport.id)) &&
                    Text(If(IsBlank(AssignDealOwner_InputBg_1.Text), "", AssignDealOwner_InputBg_1.Text)) in name
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =40
            Visible: =assignDealOwnerShowDropdown && AssignDealServer_InputBg_1.Visible
            Width: =AssignDealOwner_InputBg_1.Width
            X: =AssignDealOwner_InputBg_1.X
            Y: =AssignDealOwner_InputBg_1.Y + 45
            ZIndex: =51

            Button6_77 As button:
                Align: =Align.Left
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                Fill: =If(ThisItem.id = assignDealLeadValue.id, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: |-
                    =Set(assignDealLeadValue, ThisItem);
                    Set(assignDealOwnerShowDropdown, false);
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =ThisItem.name
                Width: =Parent.Width
                X: =0.00
                ZIndex: =1

        "AssignDealServer_Items_8 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =0.5
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
            Items: |-
                =If(
                    !IsEmpty(
                        Filter(listUserAsignPEVC,
                            (IsBlank(assignDealLeadValue) || id <> assignDealLeadValue.id) &&
                            (IsBlank(assignDealMentorValue) || id <> assignDealMentorValue.id) &&
                            (IsEmpty(assignDealSupport) || !(id in assignDealSupport.id)) &&
                            If(IsBlank(AssignDealMentor_InputBg_1.Text), "", AssignDealMentor_InputBg_1.Text) in name
                        )
                    ),
                    Filter(listUserAsignPEVC,
                            (IsBlank(assignDealLeadValue) || id <> assignDealLeadValue.id) &&
                            (IsBlank(assignDealMentorValue) || id <> assignDealMentorValue.id) &&
                            (IsEmpty(assignDealSupport) || !(id in assignDealSupport.id)) &&
                            If(IsBlank(AssignDealMentor_InputBg_1.Text), "", AssignDealMentor_InputBg_1.Text) in name
                    ),
                    [{id: "emptydata", name: "Empty data."}]
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =40
            Visible: =assignDealMentorShowDropdown && AssignDealServer_InputBg_1.Visible
            Width: =AssignDealOwner_InputBg_1.Width
            X: =AssignDealMentor_InputBg_1.X
            Y: =AssignDealMentor_InputBg_1.Y + 45
            ZIndex: =52

            Button6_78 As button:
                Align: =Align.Left
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                Fill: =If(ThisItem.id = assignDealMentorValue.id, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: |-
                    =If(Self.Text = "Empty data.",
                        Select(MA_CloseDropdown_2);,
                        Set(assignDealMentorValue, ThisItem);
                        Set(assignDealMentorShowDropdown, false);
                    )
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =ThisItem.name
                Width: =Parent.Width
                X: =0.00
                ZIndex: =1

        "AssignDealServer_Items_9 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =0.5
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Self.AllItemsCount * Self.TemplateHeight + 10
            Items: |-
                =Filter(listUserAsignPEVC,
                    (IsBlank(assignDealLeadValue) || id <> assignDealLeadValue.id) &&
                    (IsBlank(assignDealMentorValue) || id <> assignDealMentorValue.id) &&
                    (IsEmpty(assignDealSupport) || !(id in assignDealSupport.id)) 
                  
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =40
            Visible: =assignDealSupportShowDropdown && AssignDealServer_InputBg_1.Visible && false
            Width: =AssignDealSupport_InputBg_1.Width
            X: =AssignDealSupport_InputBg_1.X
            Y: =440
            ZIndex: =53

            Button6_79 As button:
                Align: =Align.Left
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                Fill: =If(true, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: |-
                    =// Set(assignDealMentorValue, ThisItem.value);
                    Set(assignDealMentorShowDropdown, false);
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =ThisItem.name
                Width: =Parent.Width
                X: =0.00
                ZIndex: =1

        "AssignDealServer_Items_10 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =0.5
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
            Items: |-
                =If(
                    !IsEmpty(
                        Filter(listUserAsignPEVC,
                            (IsBlank(assignDealLeadValue) || id <> assignDealLeadValue.id) &&
                            (IsBlank(assignDealMentorValue) || id <> assignDealMentorValue.id) &&
                            (IsEmpty(assignDealSupport) || !(id in assignDealSupport.id)) &&
                            If(IsBlank(AssignDealSupport_InputBg_1.Text), "", AssignDealSupport_InputBg_1.Text) in name
                        )
                    ),
                    Filter(listUserAsignPEVC,
                            (IsBlank(assignDealLeadValue) || id <> assignDealLeadValue.id) &&
                            (IsBlank(assignDealMentorValue) || id <> assignDealMentorValue.id) &&
                            (IsEmpty(assignDealSupport) || !(id in assignDealSupport.id)) &&
                            If(IsBlank(AssignDealSupport_InputBg_1.Text), "", AssignDealSupport_InputBg_1.Text) in name
                    ),
                    [{id: "emptydata", name: "Empty data."}]
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =40
            Visible: =assignDealSupportShowDropdown && AssignDealServer_InputBg_1.Visible
            Width: =AssignDealSupport_InputBg_1.Width
            X: =AssignDealSupport_InputBg_1.X
            Y: =AssignDealSupport_InputBg_1.Y + 45
            ZIndex: =54

            Button6_80 As button:
                Align: =Align.Left
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                Fill: =If(ThisItem in assignDealSupport, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: |-
                    =If(Self.Text = "Empty data.",
                        Select(MA_CloseDropdown_2);,
                        If(!(ThisItem in assignDealSupport), Collect(assignDealSupport, ThisItem), RemoveIf(assignDealSupport, ThisItem.id = id));
                        Set(assignDealSupportShowDropdown, false);
                    )
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =ThisItem.name
                Width: =Parent.Width
                X: =0.00
                ZIndex: =1

        "AssignDealServer_Items_11 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =0.5
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Self.AllItemsCount * Self.TemplateHeight + 10
            Items: |-
                =Filter(listUserAsignPEVC,
                    (IsBlank(assignDealOwnerValue) || id <> assignDealLeadValue.id) &&
                    (IsBlank(assignDealMentorValue) || id <> assignDealMentorValue.id) &&
                    (IsEmpty(assignDealSupport) || !(id in assignDealSupport.id)) &&
                    (IsEmpty(assignDealObserver) || !(id in assignDealObserver.id))
                )
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =40
            Visible: =assignDealObserverShowDropdown && AssignDealServer_InputBg_1.Visible
            Width: =AssignDealServer_InputBg_1.Width
            X: =AssignDealServer_InputBg_1.X
            Y: =AssignDealServer_InputBg_1.Y + 45
            ZIndex: =55

            Button6_81 As button:
                Align: =Align.Left
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                Fill: =If(ThisItem in assignDealObserver, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: |-
                    =If(!(ThisItem in assignDealObserver), Collect(assignDealObserver, ThisItem), RemoveIf(assignDealObserver, ThisItem.id = id));
                    Set(assignDealObserverShowDropdown, false);
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =ThisItem.name
                Width: =Parent.Width
                X: =0.00
                ZIndex: =1

        AssignDealName_MobileTextPEVC As label:
            Color: =RGBA(166, 166, 166, 1)
            Font: =Font.Arial
            Height: =AssignDealTitle_Input_1.Height
            PaddingBottom: =AssignDealTitle_Input_1.PaddingBottom
            PaddingLeft: =AssignDealTitle_Input_1.PaddingLeft
            PaddingRight: =AssignDealTitle_Input_1.PaddingRight
            PaddingTop: =AssignDealTitle_Input_1.PaddingTop
            Size: =12
            Text: =AssignDealTitle_Input_1.Text
            Visible: =showAssignPopup && AssignDealTitle_Input_1.Visible && AssignDealTitle_Input_1.DisplayMode = DisplayMode.Disabled && App.Width < 600
            Width: =AssignDealTitle_Input_1.Width
            X: =AssignDealTitle_Input_1.X
            Y: =AssignDealTitle_Input_1.Y
            ZIndex: =56

        AssignServer_MobileTextPEVC As label:
            Color: =RGBA(166, 166, 166, 1)
            Font: =Font.Arial
            Height: =AssignDealServer_InputBg_1.Height
            PaddingBottom: =AssignDealServer_InputBg_1.PaddingBottom
            PaddingLeft: =AssignDealTitle_Input_1.PaddingLeft
            PaddingRight: =AssignDealTitle_Input_1.PaddingRight
            PaddingTop: =AssignDealServer_InputBg_1.PaddingTop
            Size: =12
            Text: =AssignDealServer_InputBg_1.Text
            Visible: =showAssignPopup && AssignDealServer_InputBg_1.Visible && AssignDealServer_InputBg_1.DisplayMode = DisplayMode.Disabled && App.Width < 600
            Width: =AssignDealServer_InputBg_1.Width
            X: =AssignDealServer_InputBg_1.X
            Y: =AssignDealServer_InputBg_1.Y
            ZIndex: =57

        AssignDealLead_MobileTextPEVC As label:
            Color: =RGBA(166, 166, 166, 1)
            Font: =Font.Arial
            Height: =AssignDealOwner_InputBg_1.Height
            PaddingBottom: =AssignDealOwner_InputBg_1.PaddingBottom
            PaddingLeft: =AssignDealOwner_InputBg_1.PaddingLeft
            PaddingRight: =AssignDealOwner_InputBg_1.PaddingRight
            PaddingTop: =AssignDealOwner_InputBg_1.PaddingTop
            Size: =12
            Text: =AssignDealOwner_InputBg_1.Text
            Visible: =showAssignPopup && AssignDealOwner_InputBg_1.Visible && AssignDealOwner_InputBg_1.DisplayMode = DisplayMode.Disabled && App.Width < 600
            Width: =AssignDealOwner_InputBg_1.Width
            X: =AssignDealOwner_InputBg_1.X
            Y: =AssignDealOwner_InputBg_1.Y
            ZIndex: =58

        AssignMentor_MobileTextPEVC As label:
            Color: =RGBA(166, 166, 166, 1)
            Font: =Font.Arial
            Height: =AssignDealMentor_InputBg_1.Height
            PaddingBottom: =AssignDealMentor_InputBg_1.PaddingBottom
            PaddingLeft: =AssignDealMentor_InputBg_1.PaddingLeft
            PaddingRight: =AssignDealMentor_InputBg_1.PaddingRight
            PaddingTop: =AssignDealMentor_InputBg_1.PaddingTop
            Size: =12
            Text: =AssignDealMentor_InputBg_1.Text
            Visible: =showAssignPopup && AssignDealMentor_InputBg_1.Visible && AssignDealMentor_InputBg_1.DisplayMode = DisplayMode.Disabled && App.Width < 600
            Width: =AssignDealMentor_InputBg_1.Width
            X: =AssignDealMentor_InputBg_1.X
            Y: =AssignDealMentor_InputBg_1.Y
            ZIndex: =59

        RemoveMentorIcon As icon.Cancel:
            Color: =RGBA(0, 0, 0, 1)
            Height: =15
            Icon: =Icon.Cancel
            OnSelect: |-
                =Set(assignDealMentorValue, Blank());
                Set(assignDealMentorValueOldIDPEVC, Blank());
            Visible: =!IsBlank(assignDealMentorValue) && AssignDealMentor_InputBg_1.Visible
            Width: =15
            X: =AssignDealMentor_InputBg_1.X + AssignDealMentor_InputBg_1.Width - 50
            Y: =AssignDealMentor_InputBg_1.Y + 12
            ZIndex: =60

    CreatePEVCPopup As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =85

        CreatePEVCPopupBack As rectangle:
            Fill: =RGBA(166, 166, 166, 0.5)
            Height: =App.Height
            Visible: =isShowCreateProposalPopup
            Width: =App.Width
            ZIndex: =6

        CreatePEVCPopupBg As htmlViewer:
            Font: =Font.Arial
            Height: =240
            HtmlText: |-
                ="<div style='width: calc(100% - 10px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingRight: =5.00
            PaddingTop: =5.00
            Size: =11.00
            Visible: =isShowCreateProposalPopup
            Width: =If(Parent.Width > 600, 600, Parent.Width)
            X: =If(Parent.Width > 600, App.Width / 2 - Self.Width / 2, 5)
            Y: =If(Parent.Width > 600, 72, (App.Height - Self.Height) / 2)
            ZIndex: =7

        CreatePEVC_Title As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Height: =43
            LineHeight: =2.2
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =12
            Text: ="Create"
            Visible: =isShowCreateProposalPopup
            Width: =299
            X: =CreatePEVCPopupBg.X + 25
            Y: =CreatePEVCPopupBg.Y + 10
            ZIndex: =8

        CreatePEVCEntity_Title As label:
            Font: =Font.Arial
            Height: =30
            LineHeight: =2.2
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =10.5
            Text: ="Type"
            Visible: =isShowCreateProposalPopup
            Width: =299
            X: =CreatePEVC_Title.X
            Y: =CreatePEVC_Title.Y + CreatePEVC_Title.Height
            ZIndex: =9

        CreatePEVCCreateButton As button:
            BorderThickness: =0
            Fill: =RGBA(17, 79, 144, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =UpdateContext({ShowNotification: false});
                Set(isPEVCCreatePopupSubmitted, true);
                Set(calledFindByID, true);
                Set(estimatedLegalFeeValue, Blank());
                If(IsBlank(PEVCTypeValue),
                    Set(IsError, true);Set(NoticationText,"Type is required!");UpdateContext({ShowNotification: true}),
                    Set(prePEVCInfoEdit, Blank());
                    ClearCollect(levelOfApprovalList, []);
                    Set(CompanyNameSelectedValue, Blank());
                    Set(dealTypeSelectedValue, Blank());
                    Set(estimatedDDFeeValue, Blank());
                    Set(estimatedLegalFeeValue, Blank());
                    Set(isDivestment, PEVCTypeValue = "Divestment");
                
                    // Clear notes and files
                    Set(noteListValue, Blank());
                    ClearCollect(pevcListDeleteFiles, []);
                    ClearCollect(noteOfPEVC, []);
                    Set(PEVCgroups, []);
                    Set(PEVClogs, []);
                    Select(SetUpProgressTree);
                
                    ClearCollect(note_NEW_LEAD_CREATION,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "NEW_LEAD_CREATION" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_NEW_LEAD_CREATION), ClearCollect(note_NEW_LEAD_CREATION, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NEW_LEAD_CREATION", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_NEW_LEAD_CREATION_PENDING,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "NEW_LEAD_CREATION_PENDING" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_NEW_LEAD_CREATION_PENDING), ClearCollect(note_NEW_LEAD_CREATION_PENDING, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NEW_LEAD_CREATION_PENDING", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_NDA_APPROVAL,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "NDA_APPROVAL" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_NDA_APPROVAL), ClearCollect(note_NDA_APPROVAL, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "NDA_APPROVAL", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_COMPLETE_DISCUSSION_PAPER,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_DISCUSSION_PAPER" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_COMPLETE_DISCUSSION_PAPER), ClearCollect(note_COMPLETE_DISCUSSION_PAPER, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_DISCUSSION_PAPER", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_INVESTMENT_MEMO_PENDING,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_MEMO_PENDING" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_INVESTMENT_MEMO_PENDING), ClearCollect(note_INVESTMENT_MEMO_PENDING, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_MEMO_PENDING", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_COMPLETE_TERM_SHEET,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_TERM_SHEET" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_COMPLETE_TERM_SHEET), ClearCollect(note_COMPLETE_TERM_SHEET, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_TERM_SHEET", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_INVESTMENT_MEMO,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_MEMO" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_INVESTMENT_MEMO), ClearCollect(note_INVESTMENT_MEMO, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_MEMO", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_DD_CONTRACT,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "DD_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_DD_CONTRACT), ClearCollect(note_DD_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "DD_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_LEGAL_CONTRACT,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "LEGAL_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_LEGAL_CONTRACT), ClearCollect(note_LEGAL_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "LEGAL_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_INVESTMENT_CONTRACT,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "INVESTMENT_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_INVESTMENT_CONTRACT), ClearCollect(note_INVESTMENT_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "INVESTMENT_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_COMPLETE_DISBURSEMENT,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETE_DISBURSEMENT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_COMPLETE_DISBURSEMENT), ClearCollect(note_COMPLETE_DISBURSEMENT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETE_DISBURSEMENT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_APPROVE_RESOLUTIONS,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_RESOLUTIONS" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_APPROVE_RESOLUTIONS), ClearCollect(note_APPROVE_RESOLUTIONS, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_RESOLUTIONS", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_LEGAL_CONTRACTS,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "LEGAL_CONTRACTS" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_LEGAL_CONTRACTS), ClearCollect(note_LEGAL_CONTRACTS, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "LEGAL_CONTRACTS", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_APPROVE_THE_DIVESTMENT_CONTRACT,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "APPROVE_THE_DIVESTMENT_CONTRACT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_APPROVE_THE_DIVESTMENT_CONTRACT), ClearCollect(note_APPROVE_THE_DIVESTMENT_CONTRACT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "APPROVE_THE_DIVESTMENT_CONTRACT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                    ClearCollect(note_COMPLETED_DIVESTMENT,
                        Sort(AddColumns(Filter(noteOfPEVC, screen = "COMPLETED_DIVESTMENT" && Len(Trim(note)) > 0), guid_mark, GUID(), isSelected, If(isLastest = "true", true, false), note_old, note), write_date)
                    );
                    If(IsEmpty(note_COMPLETED_DIVESTMENT), ClearCollect(note_COMPLETED_DIVESTMENT, [{created_by: "", created_date: "", id_deal_note: "", isSelected: true, isLastest: "true", location: "1", note: "", screen: "COMPLETED_DIVESTMENT", write_by: "", write_date: "", guid_mark: GUID(), note_old: ""}]));
                
                    If(!IsBlank(prePEVCInfoEdit),
                        Set(currentStatus, If(prePEVCInfoEdit.status = "APPROVED",
                            If(isDivestment, "PROPOSED_DIVESTMENT", "NEW_LEAD_CREATION_NEW"), prePEVCInfoEdit.status)); Set(PEVCCurrentStatus, prePEVCInfoEdit.status);,
                        Set(currentStatus, "BLANK"); Set(PEVCCurrentStatus, "BLANK");
                    ); 
                    Set(isShowSubmit, PEVCCurrentStatus in ["BLANK", "NEW_LEAD_CREATION_NEW", "NEW_LEAD_CREATION_DONE", "NDA_APPROVAL_ATTACH_FILE", "NDA_APPROVAL_DONE", "COMPLETE_DISCUSSION_PAPER_DONE", "INVESTMENT_MEMO_DONE", "COMPLETE_TERM_SHEET_DONE", "INVESTMENT_MEMO_ADJUSTED_DONE", "DD_CONTRACT_ATTACH_FILE", "DD_CONTRACT_DONE", "LEGAL_CONTRACT_PENDING_DONE", "INVESTMENT_CONTRACT_ATTACH_FILE", "INVESTMENT_CONTRACT_DONE", "COMPLETE_DISBURSEMENT_ATTACH_FILE"]);
                
                    Set(companyPEVC, 'TVS->FindAllCompanyPEVC-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, envDEV, envTEST, envUAT1, envUAT2));
                    If(!IsBlank(CompanyNameSelectedValue),
                        Set(PEVCFouderSharehoderData, 'TVS->FindByIdPVECLeadCreationFounderAndShareHolder-V1'.Run(CompanyNameSelectedValue,resKeyOpenAll.open, resKeyOpenAll.close, envDEV, envTEST, envUAT1, envUAT2));
                        ClearCollect(PEVC_founderData, AddColumns(PEVCFouderSharehoderData.listFounder, isTotal, false));
                        Collect(PEVC_founderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_founderData, ownership))});
                        ClearCollect(PEVC_shareholderData, AddColumns(PEVCFouderSharehoderData.listShareholder, isTotal, false));
                        Collect(PEVC_shareholderData, {id: "", name: "Total", isTotal: true, ownership: Text(Sum(PEVC_shareholderData, ownership))});
                    );
                    // End clear notes and files
                
                    Set(pevcUpdateStatusRes, Blank());
                    Navigate(DetailPEVC);
                    Set(ShowHideButton, true);
                );
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            PressedColor: =Self.Color 
            PressedFill: =Self.Fill
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="Create"
            Visible: =isShowCreateProposalPopup
            Width: =120
            X: =CreatePEVCPopupBg.X + CreatePEVCPopupBg.Width - 160
            Y: =CreatePEVCPopupBg.Y + CreatePEVCPopupBg.Height - 70
            ZIndex: =10

        CreatePEVCCancelButton As button:
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: =Set(isShowCreateProposalPopup, false)
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            PressedColor: =Self.Color 
            PressedFill: =Self.Fill
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="Cancel"
            Visible: =isShowCreateProposalPopup
            Width: =120
            X: =CreatePEVCCreateButton.X - 130 
            Y: =CreatePEVCPopupBg.Y + CreatePEVCPopupBg.Height - 70
            ZIndex: =11

        CreatePEVCPopupCloseIcon As icon.Cancel:
            Color: =RGBA(0, 0, 0, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: =Set(isShowCreateProposalPopup, false)
            Visible: =isShowCreateProposalPopup
            Width: =20
            X: =CreatePEVCPopupBg.X + CreatePEVCPopupBg.Width - 55
            Y: =CreatePEVC_Title.Y + 10
            ZIndex: =12

        PEVC_Type_Dropdown As button:
            Align: =Align.Left
            BorderColor: =If(isPEVCCreatePopupSubmitted && IsBlank(Self.Text), Color.Red, ShowStatusSelectPopup, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
            BorderThickness: =1
            Color: =RGBA(82, 82, 82, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =44
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =RGBA(241, 244, 249, 1)
            OnSelect: =Set(ShowStatusSelectPopup, !ShowStatusSelectPopup)
            PaddingLeft: =15
            PaddingRight: =5.27
            PaddingTop: =5.27
            PressedBorderColor: =
            PressedColor: =
            PressedFill: =
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =PEVCTypeValue
            Visible: =isShowCreateProposalPopup
            Width: =CreatePEVCPopupBg.Width - 60
            X: =CreatePEVCEntity_Title.X
            Y: =CreatePEVCEntity_Title.Y + CreatePEVCEntity_Title.Height
            ZIndex: =13

        PEVC_Type_Chevron As htmlViewer:
            Font: =Font.Arial
            Height: =44
            HtmlText: |-
                =If(ShowStatusSelectPopup,
                "<div style=""cursor: pointer""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                <g clip-path=""url(#clip0_1760_3688)"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                </g>
                <defs>
                <clipPath id=""clip0_1760_3688"">
                <rect width=""24"" height=""24"" fill=""white""/>
                </clipPath>
                </defs>
                </svg></div>"
                , "<div style=""cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                </svg></div>")
            OnSelect: =Set(ShowStatusSelectPopup, !ShowStatusSelectPopup)
            PaddingRight: =5.27
            PaddingTop: =5.27
            Size: =11.60
            Visible: =isShowCreateProposalPopup
            Width: =35
            X: =PEVC_Type_Dropdown.X + PEVC_Type_Dropdown.Width - 40
            Y: =PEVC_Type_Dropdown.Y + 5
            ZIndex: =14

        SearchCloseDropdown_4 As rectangle:
            Fill: =RGBA(255, 255, 255, 0)
            Height: =App.Height - 100
            OnSelect: =Set(ShowStatusSelectPopup, false)
            Visible: =ShowStatusSelectPopup && isShowCreateProposalPopup
            Width: =Parent.Width
            Y: =60
            ZIndex: =15

        "PEVC_Type_Items As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(191, 191, 192, 1)
            BorderThickness: =0.5
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Self.AllItemsCount * Self.TemplateHeight + 2
            Items: |-
                =[{value: "Pre-Investment"}, {value: "Divestment"}]
            Layout: =Layout.Vertical
            LoadingSpinner: =LoadingSpinner.Data
            TemplatePadding: =0
            TemplateSize: =40
            Visible: =ShowStatusSelectPopup && isShowCreateProposalPopup
            Width: =PEVC_Type_Dropdown.Width
            X: =PEVC_Type_Dropdown.X
            Y: =PEVC_Type_Dropdown.Y + 50
            ZIndex: =16

            Button6_75 As button:
                Align: =Align.Left
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                Fill: =If(PEVCTypeValue = ThisItem.value, Self.HoverFill, RGBA(0, 0, 0, 0))
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: |-
                    =Set(PEVCTypeValue, ThisItem.value);
                    Set(ShowStatusSelectPopup, false);
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =ThisItem.value
                Width: =Parent.Width
                X: =0.00
                ZIndex: =1

    DeleteConfirm_8 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =86

        RejectPopupBack_21 As rectangle:
            Fill: =RGBA(0.3, 0.3, 0.3, 0.3)
            Height: =Parent.Height
            Visible: =isShowPopupDelete
            Width: =Parent.Width
            ZIndex: =17

        DeleteConfirmBg_18 As htmlViewer:
            Font: =Font.Arial
            Height: =If(Parent.Width > 600, 170, 170 )
            HtmlText: |-
                ="<div style='margin-left: 8px; width: calc(100% - 16px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingRight: =5.00
            PaddingTop: =5.00
            Size: =11.00
            Visible: =isShowPopupDelete
            Width: =If(App.Width > 600, 550, App.Width + 5)
            X: =If(App.Width > 600, App.Width * 0.5 - DeleteConfirmBg_18.Width *0.5, -3)
            Y: =App.Height / 2 - Self.Height
            ZIndex: =18

        CancelResearchOpinionButton_15 As button:
            BorderColor: =Self.Color
            BorderThickness: =1
            Color: =RGBA(214, 27, 27, 1)
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(214, 27, 27, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            Height: =44
            HoverColor: =RGBA(214, 27, 27, 1)
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            PressedBorderColor: =RGBA(214, 27, 27, 1)
            PressedColor: =RGBA(214, 27, 27, 1)
            PressedFill: =
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="No"
            Visible: =isShowPopupDelete
            Width: =120
            X: =DeleteResearchOpinionButton_15.X - Self.Width - 10
            Y: =DeleteResearchOpinionButton_15.Y
            ZIndex: =19

        DeleteResearchOpinionButton_15 As button:
            BorderThickness: =
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(214, 27, 27, 1)
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderThickness: =
            Font: =Font.Arial
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(isLoading, true);
                Set(IsError, false);
                UpdateContext({ShowNotification: false});
                
                If(isDivestment,
                Set(deleteStatus, 'TVS->DeleteDivestPevc-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, idProposalDelete).status);,
                Set(deleteStatus, 'TVS->DeletePrePevc-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, idProposalDelete).status););
                Set(isLoading, false);
                
                If(Value(deleteStatus) = 200,
                Select(CancelResearchOpinionButton_15);
                Select(CallGetAll_PEVC);
                Set(NoticationText,"Delete successfully!");UpdateContext({ShowNotification: true});,
                Set(IsError, true);Set(NoticationText,"System error, please reload this page again.");UpdateContext({ShowNotification: true});
                );
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(214, 27, 27, 1)
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="Yes"
            Visible: =isShowPopupDelete
            Width: =120
            X: =DeleteConfirmBg_18.X + DeleteConfirmBg_18.Width - 150
            Y: =DeleteConfirmBg_18.Y + DeleteConfirmBg_18.Height - Self.Height - 30
            ZIndex: =20

        DeleteConfirmCloseIcon_20 As icon.Cancel:
            Color: =RGBA(26, 26, 26, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            Visible: =isShowPopupDelete
            Width: =20
            X: =DeleteConfirmBg_18. X + DeleteConfirmBg_18.Width -50
            Y: =DeleteConfirmBg_18.Y + 20
            ZIndex: =21

        DeleteConfirmLabel_21 As label:
            Font: =Font.Arial
            Size: =10.5
            Text: ="Are you sure to delete this deal ?"
            Visible: =isShowPopupDelete
            Width: =DeleteConfirmBg_18.Width - 100 - DeleteConfirmCloseIcon_20.Width
            X: =Label2_14.X
            Y: =Label2_14.Y + Label2_14.Height
            ZIndex: =22

        Label2_14 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Size: =12
            Text: ="Delete"
            Visible: =isShowPopupDelete
            X: =DeleteConfirmBg_18.X + 30
            Y: =DeleteConfirmBg_18.Y + 10
            ZIndex: =23

