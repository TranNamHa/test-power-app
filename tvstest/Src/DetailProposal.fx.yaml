"DetailProposal As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    Fill: =RGBA(248, 248, 249, 1)
    OnHidden: |-
        =Set(
            showRejectPopup,
            false
        );
        Set(
            showApprovePopup,
            false
        );
        Set(
            showRevisePopup,
            false
        );
        Set(
            isFromDetailFI,
            true
        );
    OnVisible: |-
        =// Check access when click from link 
        Set(isDisable, true);
        Set(IsSuccess, false);
        Set(issuerChanged, false);
        Set(FIIssuerShowDropdown, false);
        Set(FITypeShowDropdown, false);
        Set(FILimitShowDropdown, false);
        Set(FIPFShowDropdown, false);
        Reset(Timer1_11);
        If(IsBlank(currenUserV2),
        If(IsBlank(env), Set(env, "TEST");Set(envDEV, false);Set(envTEST, true);Set(envUAT1, false);Set(envUAT2, false););
        If(IsBlank(resKeyOpenAll),Set(resKeyOpenAll,'TVS->GetOpenAndCloseFinal-V1'.Run(envDEV,envTEST, envUAT1, envUAT2)));
        If(!IsBlank(resKeyOpenAll), ClearCollect(currentUserV2Res,'TVS->GetCurrentUser-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, User().Email, envDEV,envTEST, envUAT1, envUAT2)));
        Clear(permissionLst);
        ForAll(currentUserV2Res,Collect(permissionLst,{
            process_code:ThisRecord.process_code,
            role:Distinct(Split(ThisRecord.role,"#"),Value),
            company:Distinct(Split(ThisRecord.company,"#"),Value),
            division:Distinct(Split(ThisRecord.division,"#"),Value),
            action:Distinct(Split(ThisRecord.action,"#"),Value),
            name_team:Distinct(Split(ThisRecord.name_team,"#"),Value)
        }));
        Set(currenUserV2,{
            id:First(currentUserV2Res).id,
            name:First(currentUserV2Res).name,
            email:First(currentUserV2Res).email,
            internal_email:First(currentUserV2Res).internal_email,
            phone_number:First(currentUserV2Res).phone_number,
            permissionList:permissionLst,
            status:First(currentUserV2Res).status
        });
        );
        If(!("VIEW" in LookUp(currenUserV2.permissionList, process_code = "Process3", action) && currenUserV2.status = "ACTIVE"), Select(Button2));
        
        If(IsBlank(issuersList) || IsEmpty(Filter(issuersList, !IsBlank(short_name))),
            ClearCollect(issuersList, 'TVS->GetIssuerListCurrent-V1'.Run(resKeyOpenAll.open, resKeyOpenAll.close, envDEV,envTEST, envUAT1, envUAT2).list_issuer);
        );
        
        Set(StatusCreateProposal, Blank());
        Set(IdCreateProposal, Blank());
        Set(isVisibleCalling, true);
        Set(ShowNotification,false);
        Set(isInactiveProposal, If(IsBlank(proposalInfoEdit), false, proposalInfoEdit.status = "INACTIVE"));
        If(!IsBlank(proposalInfoEdit), Set(fileAndlistIC,'TVS->GetFileAndInvestmentBoard-V1'.Run(proposalInfoEdit.id,resKeyOpenAll.open,resKeyOpenAll.close,proposalInfoEdit.principal,proposalInfoEdit.limit_on_aum,envDEV,envTEST, envUAT1, envUAT2)));
        If(
            IsBlank(proposalInfoEdit) || proposalInfoEdit.proposal_status = "DRAFT" || proposalInfoEdit.proposal_status = "PARTIALLY_REJECTED",
            ClearCollect(issuerObjectDetail,
            If(!IsBlank(proposalInfoEdit) && !IsBlank(proposalInfoEdit.issuer),Filter(issuersList,issuer_name = proposalInfoEdit.issuer),Blank()));
            Set(principalValue,If(IsBlank(proposalInfoEdit), "", proposalInfoEdit.principal));
            Reset(input_sector);
            Reset(input_issuerName);
            Reset(input_prin);
            Reset(input_limit_aum);
            Reset(input_interest);
            Reset(input_interest_rate);
            Reset(input_term_min);
            Reset(input_term_max);
            Reset(DateStart_DatePicker_3);
            Reset(DateTo_DatePicker_4);
            Reset(input_note);
            ClearCollect(issuerObjectDetail,If(!IsBlank(proposalInfoEdit.issuer),Filter(issuersList,short_name = proposalInfoEdit.short_name),Blank()));
            Set(FITypeValue, proposalInfoEdit.type);
            Set(FILimitValue, proposalInfoEdit.limit_on_aum);
            Set(FIPFValue, proposalInfoEdit.payment_frequency);
            ,
            Set(principalValue,Text(Value(Substitute(Substitute(proposalInfoEdit.principal,".",""),",","")),"[$-en-GB]#,###"));
            ClearCollect(issuerObjectDetail,If(!IsBlank(proposalInfoEdit.issuer),Filter(issuersList,short_name = proposalInfoEdit.short_name),Blank()));
            Set(FITypeValue, proposalInfoEdit.type);
            Set(FILimitValue, proposalInfoEdit.limit_on_aum);
            Set(FIPFValue, proposalInfoEdit.payment_frequency);
        );
        Set(MenuSelect,"Business process");
        Set(MenuSelect2,"Fix income investment process");
        Set(HeaderText,
            If(IsError(proposalInfoEdit) || IsBlank(proposalInfoEdit),
                "Create proposal",
                (proposalInfoEdit.proposal_status = "DRAFT" || proposalInfoEdit.proposal_status = "PARTIALLY_REJECTED") && "CREATE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                "Update",
                "View "
            )
        );
        Reset(AttachFile_1);
        UpdateContext({ShowNotification: false});
        Set(isSubmited,false);
        Set(DealDetailTab,1);
        ClearCollect(issuersListDropdown,[]);
        ForAll(issuersList,
            Collect(issuersListDropdown,
                {Value: ThisRecord.short_name, short_name: ThisRecord.short_name, issuer_name: ThisRecord.issuer_name}
            )
        );
        Set(listAumChanged, false);
        Set(listInterestChanged, false);
        Set(listInterest2Changed, false);
        Set(listFromChanged, false);
        Set(listToChanged, false);
        Set(isVisibleCalling, false);
        Set(isDisable,
            !(IsBlank(proposalInfoEdit) || (proposalInfoEdit.proposal_status in ["DRAFT","PARTIALLY_REJECTED"])) || isInactiveProposal
        );

    Canvas3 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =App.Height
        Width: =Parent.Width
        Y: =
        ZIndex: =1

        DataCard3 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =1000
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            White_Background_2 As htmlViewer:
                Font: =Font.Arial
                Height: =If(DealDetailTab = 1, listAttachFileItems.Y + listAttachFileItems.Height - Self.Y + 40, proposalDetailLogsItems.Y + proposalDetailLogsItems.Height - Self.Y + 40)
                HtmlText: |-
                    ="<div style='width: calc(100% - 16px); height: "& Self.Height - 20 &"px; background-color: white;border-radius: 12px;box-shadow: "& If(Parent.Width > 800, "7px 5px 7px 0px rgba(0, 0, 0, 0.10)", "none") & ";
                    '></div>"
                PaddingRight: =5.00
                PaddingTop: =5.00
                Size: =14.00
                Width: |-
                    =If(
                        App.Width > 1050,
                        App.Width - If(MobileShowMenu, MenuItemsSideBar_18.Width, MenuItemsSideBar_Small_3.Width) - 325,
                        App.Width > 800,
                        App.Width - ListProgessItems.Width - If(MobileShowMenu, MenuItemsSideBar_18.Width, MenuItemsSideBar_Small_3.Width) - 45,
                        App.Width + 10
                    )
                X: =If(App.Width > 800, ListProgessItems.X + ListProgessItems.Width + 30, ListProgessItems.X)
                Y: |-
                    =If(
                        App.Width > 800,
                        SubHeaderBg.Y + SubHeaderBg.Height + 10,
                        !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT"),
                        ListInvestmentCommitteeItemsHozi.Y + ListInvestmentCommitteeItemsHozi.Height,
                        ListProgessItemsHozi.Y + ListProgessItemsHozi.Height - 10
                    )
                ZIndex: =1

            Label5 As label:
                Color: =RGBA(14, 63, 115, 1)
                Font: =Font.Arial
                FontWeight: =FontWeight.Bold
                Size: =12
                Text: ="ISSUANCE INFORMATION"
                Visible: =DealDetailTab = 1
                Width: =285
                X: =QT2Tabs_1.X
                Y: =QT2Tabs_1.Y + QT2Tabs_1.Height - 2
                ZIndex: =4

            QT2TabsGroup_1 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =-10
                ZIndex: =4

                HrQT2_1 As rectangle:
                    BorderColor: =RGBA(176, 176, 176, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(246, 246, 246, 1)
                    Height: =0.5
                    Width: =If(App.Width > 600, layout_ip_issuer.X + layout_ip_issuer.Width - Self.X, QT2Tabs_1.AllItemsCount * QT2Tabs_1.TemplateWidth - 2)
                    X: =QT2Tabs_1.X
                    Y: =QT2Tabs_1.Y + QT2Tabs_1.Height - 7
                    ZIndex: =2

                QT2Tabs_1 As gallery.galleryHorizontal:
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =47
                    Items: |-
                        =If(!IsBlank(proposalInfoEdit) && proposalInfoEdit.proposal_status = "FINISHED",
                        [{text: "Issuance Information", tab: 1},
                        {text: "Approval Log", tab: 3},
                        {text: "Send email", tab: 4}],
                        !IsBlank(proposalInfoEdit) && proposalInfoEdit.proposal_status <> "FINISHED",
                        [{text: "Issuance Information", tab: 1},
                        {text: "Approval Log", tab: 3}],
                        [{text: "Issuance Information", tab: 1}])
                    ShowScrollbar: =false
                    TemplatePadding: =0
                    TemplateSize: =If(App.Width > 600, 175, 175)
                    Width: =If(Parent.Width > 600,1100, Parent.Width - 20)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 10)
                    Y: =White_Background_2.Y + 10
                    ZIndex: =3

                    Button8_2 As button:
                        BorderStyle: =BorderStyle.None
                        Color: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.Arial
                        Height: =35
                        HoverColor: =If(DealDetailTab = ThisItem.tab, RGBA(14, 63, 115, 1), RGBA(176, 176, 176, 1))
                        HoverFill: =RGBA(248, 248, 249, 1)
                        OnSelect: |-
                            =Select(Parent);
                            Set(DealDetailTab, ThisItem.tab);
                        PaddingLeft: =0
                        PaddingRight: =0
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(App.Width > 600, 12, 10.5)
                        Text: =ThisItem.text
                        Tooltip: =ThisItem.text
                        Width: =QT2Tabs_1.TemplateWidth
                        Y: =5
                        ZIndex: =1

                    BottomBorder1_9 As rectangle:
                        BorderColor: =If(DealDetailTab = ThisItem.tab, RGBA(14,63,115,1),RGBA(176, 176, 176, 1))
                        BorderThickness: =If(DealDetailTab = ThisItem.tab, 2, 1)
                        Fill: =RGBA(246, 246, 246, 1)
                        Height: =If(ThisItem.tab = DealDetailTab, 2, 0)
                        Width: =QT2Tabs_1.TemplateWidth
                        Y: =40
                        ZIndex: =2

            "ListProgessItems As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =Self.AllItemsCount * Self.TemplateHeight
                Items: =ListProgress
                Layout: =Layout.Vertical
                TemplatePadding: =0
                TemplateSize: =50
                Visible: =App.Width > 800
                Width: =If(Parent.Width > 1050, 260, Parent.Width > 1000, 200, 150)
                X: =If(Parent.Width > 800, If(MobileShowMenu, 256, 66), 0)
                Y: =138
                ZIndex: =71

                Label9 As label:
                    Align: =Align.Right
                    Color: |-
                        =If(IsBlank(proposalInfoEdit) && "DRAFT" in ThisItem.currentStatus ||
                            If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.currentStatus,
                            If(proposalInfoEdit.proposal_status = "REJECTED", RGBA(255, 0, 0, 1), RGBA(17,79,144,1)),
                            If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.activeArray,
                            RGBA(36,201,72,1),
                            If(proposalInfoEdit.proposal_status = "REJECTED" && proposalInfoEdit.old_status = "PENDING_REVIEW_BY_CEO", RGBA(255, 0, 0, 1), RGBA(0,0,0,1))
                        )
                    Fill: =If(IsBlank(proposalInfoEdit) && "DRAFT" in ThisItem.currentStatus || proposalInfoEdit.proposal_status in ThisItem.currentStatus, RGBA(209, 221, 255, 0.5), RGBA(209, 221, 255, 0))
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Height: =41
                    OnSelect: =Select(Parent)
                    PaddingLeft: =0
                    PaddingRight: =If(ThisItem.Text = "CEO", 0, 10)
                    Size: =If(App.Width > 1000, 10, 9)
                    Text: =If(ThisItem.Text = "CEO", "Investment Committee - Executive", ThisItem.Text)
                    VerticalAlign: =If(Label9_5.Visible, VerticalAlign.Top, VerticalAlign.Middle)
                    Visible: =If(ThisItem.Text = "CEO" && !IsBlank(proposalInfoEdit), If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "PENDING_REVIEW_BY_CEO", "APPROVED"], ThisItem.Text <> "CEO")
                    Width: =Parent.Width - HtmlText5.Width - Self.X
                    Y: =10
                    ZIndex: =1

                HtmlText5 As htmlViewer:
                    Fill: =If(IsBlank(proposalInfoEdit) && "DRAFT" in ThisItem.currentStatus || proposalInfoEdit.proposal_status in ThisItem.currentStatus, RGBA(209, 221, 255, 0.5), RGBA(209, 221, 255, 0))
                    Font: =Font.Arial
                    Height: =41
                    HtmlText: |-
                        =If(
                            IsBlank(proposalInfoEdit) && "DRAFT" in ThisItem.currentStatus || If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.currentStatus,
                            If(proposalInfoEdit.proposal_status = "REJECTED",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#FF0000""/>
                        <rect x=""6.75684"" y=""7.46484"" width=""1"" height=""11"" transform=""rotate(-45 6.75684 7.46484)"" fill=""#FF0000""/>
                        <rect x=""7.46387"" y=""15.2422"" width=""1"" height=""11"" transform=""rotate(-135 7.46387 15.2422)"" fill=""#FF0000""/>
                        </svg>",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                          <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#114F90""/>
                          <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#114F90""/>
                        </svg>"),
                            !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.activeArray,
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                          <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#24C948""/>
                          <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#24C948""/>
                        </svg>",
                            If(proposalInfoEdit.proposal_status = "REJECTED" && proposalInfoEdit.old_status = "PENDING_REVIEW_BY_CEO",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#FF0000""/>
                        <rect x=""6.75684"" y=""7.46484"" width=""1"" height=""11"" transform=""rotate(-45 6.75684 7.46484)"" fill=""#FF0000""/>
                        <rect x=""7.46387"" y=""15.2422"" width=""1"" height=""11"" transform=""rotate(-135 7.46387 15.2422)"" fill=""#FF0000""/>
                        </svg>",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#7E8299""/>
                        <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#7E8299""/>
                        </svg>")
                        )
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingTop: =8
                    Visible: =If(ThisItem.Text = "CEO" && !IsBlank(proposalInfoEdit), If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "PENDING_REVIEW_BY_CEO", "APPROVED"], ThisItem.Text <> "CEO")
                    Width: =36
                    X: =Label9.X + Label9.Width
                    Y: =10
                    ZIndex: =2

                Label9_5 As label:
                    Align: =Align.Right
                    Color: |-
                        =If(IsBlank(proposalInfoEdit) && "DRAFT" in ThisItem.currentStatus ||
                            If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.currentStatus,
                            If(proposalInfoEdit.proposal_status = "REJECTED", RGBA(255, 0, 0, 1), RGBA(17,79,144,1)),
                            If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.activeArray,
                            RGBA(36,201,72,1),
                            If(proposalInfoEdit.proposal_status = "REJECTED" && proposalInfoEdit.old_status = "PENDING_REVIEW_BY_CEO", RGBA(255, 0, 0, 1), RGBA(0,0,0,1))
                        )
                    Fill: =RGBA(0,0,0,0)
                    Font: =Font.Arial
                    Height: =17
                    Italic: =true
                    OnSelect: =Select(Parent)
                    PaddingRight: =10
                    PaddingTop: =0
                    Size: =8
                    Text: =Switch(LookUp(fileAndlistIC.list_time_status, level = ThisItem.level, status), "APPROVE", "Approved", "REJECT", "Rejected", "REVISE", "Revised", If(fileAndlistIC.isResubmit, "Resubmitted", "Submitted")) & " on " & Text(DateValue(LookUp(fileAndlistIC.list_time_status, level = ThisItem.level, created_date)), "dd/mm/yyyy")
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =Label9.Visible && App.Width > 1200 && !IsBlank(LookUp(fileAndlistIC.list_time_status, level = ThisItem.level, created_date)) && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["DRAFT", "PARTIALLY_REJECTED"]) && Self.Color <>  RGBA(0,0,0,1)
                    Width: =Parent.Width - HtmlText5.Width - Self.X
                    X: =40
                    Y: =33
                    ZIndex: =3

            "proposalDetailLogsItems As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =Self.AllItemsCount * Self.TemplateHeight + 10
                Items: =proposalDetailLogs
                Layout: =Layout.Vertical
                TemplatePadding: =0
                TemplateSize: =If(App.Width > 1100, 95, 110)
                Visible: =DealDetailTab = 3
                Width: =If(App.Width > 1400, 800, App.Width > 1300, 780, App.Width > 1000, 690, App.Width > 600, 450 , App.Width)
                X: =White_Background_2.X + 10
                Y: =QT2Tabs_1.Y + QT2Tabs_1.Height + 10
                ZIndex: =72

                Title5 As label:
                    Font: =Font.Arial
                    Height: =If(App.Width > 1100, 26, 40)
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: |-
                        ="Step " &
                        Switch(Value(ThisItem.level), 1, "Review by Head of Division - ", 2, "Review by Risk Management - ", 3, "Review by CIO - ", 4, "Review by Investment Committee - Executive - ", 5, "Investment Committee - ")
                        &If("PARTIALLY_REJECTED" in ThisItem.status || "REVISE" in ThisItem.status, "Revised", "REJECT" in ThisItem.status || "REJECTED" in ThisItem.status, "Rejected", "APPROVE" in ThisItem.status || "APPROVED" in ThisItem.status, "Approved", "Review") &" by "& Proper(ThisItem.name) &" on "& Text(DateTimeValue(ThisItem.created_date), "dd/mm/yyyy hh:mm:ss")  & " with comments"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.Width - 10
                    X: =10
                    Y: =4
                    ZIndex: =2

                TextInput4 As text:
                    BorderThickness: =0
                    Default: =ThisItem.comment
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =DisplayMode.Disabled
                    Font: =Font.Arial
                    Height: =60
                    HintText: ="N/A"
                    LineHeight: =1.5
                    Mode: =TextMode.MultiLine
                    OnSelect: =Select(Parent)
                    PaddingBottom: =8
                    PaddingLeft: =8
                    PaddingRight: =8
                    PaddingTop: =8
                    Size: =10.5
                    Width: =Parent.Width - 40
                    X: =Title5.X
                    Y: =Title5.Y + Title5.Height
                    ZIndex: =3

                Label3 As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =TextInput4.Height
                    OnSelect: =Select(Parent)
                    PaddingBottom: =TextInput4.PaddingBottom
                    PaddingLeft: =TextInput4.PaddingLeft
                    PaddingRight: =TextInput4.PaddingRight
                    PaddingTop: =TextInput4.PaddingTop
                    Size: =TextInput4.Size
                    Text: =ThisItem.comment
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =App.Width <= 600
                    Width: =TextInput4.Width
                    X: =TextInput4.X
                    Y: =TextInput4.Y
                    ZIndex: =4

            Note As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =81

                Label_Note As label:
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Height: =50
                    PaddingBottom: =20
                    PaddingTop: =20
                    Size: =10.5
                    Text: ="Note"
                    Visible: =DealDetailTab = 1
                    X: =label_to_date.X
                    Y: =label_to_date.Y + label_to_date.Height + 10
                    ZIndex: =67

                input_note As text:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =If(isDisable, 0, 1)
                    Default: =If(IsBlank(proposalInfoEdit),"",proposalInfoEdit.note)
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    FocusedBorderColor: =Self.HoverBorderColor
                    FocusedBorderThickness: =If(isDisable, 0, 1)
                    Font: =Font.Arial
                    Height: =105
                    HoverFill: =Self.Fill
                    LineHeight: =1.5
                    MaxLength: =3500
                    Mode: =TextMode.MultiLine
                    PaddingTop: =10
                    RadiusBottomLeft: =10
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_to_date.X + layout_ip_to_date.Width - Self.X
                    X: =Label_Note.X
                    Y: =Label_Note.Y + Label_Note.Height
                    ZIndex: =68

            DetailProposalAttachmentGroup As group:
                Height: =5
                Width: =5
                X: =60
                Y: =60
                ZIndex: =83

                AttachFile_1 As attachments:
                    AddAttachmentText: ="Click here to attach file"
                    BorderColor: =
                    BorderThickness: =0
                    DisplayMode: =If(isProposalView || (!IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["PARTIALLY_REJECTED", "DRAFT"])) && "UPLOADFILE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action), DisplayMode.Disabled, DisplayMode.Edit)
                    DropTargetBorderThickness: =0
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =85 + Max(If(CountRows(Self.Attachments) = 1, 0, CountRows(Self.Attachments) * 15))
                    IsInDataCard: =true
                    Items: =
                    MaxAttachments: =9999
                    MaxAttachmentSize: =maxSizeFile
                    NoAttachmentsText: =If(CountRows(Filter(listAttachFile, IsDeleted <> true)) = 0, "There is nothing attached.", "")
                    OnAddFile: =
                    OnRemoveFile: =
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 0, 0)
                    PaddingRight: =5
                    Size: =10.5
                    Tooltip: =
                    Visible: =DealDetailTab = 1 && !(isProposalView || (!IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["PARTIALLY_REJECTED", "DRAFT"])))
                    Width: =If(App.Width > 1600, input_note.Width * 2/ 3, App.Width > 1400, input_note.Width * 2.3/ 3, input_note.Width)
                    X: =White_Background_2.X + 20
                    Y: =AttachmentLabel.Y + AttachmentLabel.Height - 5
                    ZIndex: =69

                "listAttachFileItems As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    DelayItemLoading: =true
                    Height: =listAttachFileItems.AllItemsCount * listAttachFileItems.TemplateHeight
                    Items: =Filter(listAttachFile, IsDeleted <> true)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =If(App.Width > 600, 50, 60)
                    Visible: =DealDetailTab = 1
                    Width: =AttachFile_1.Width + 3
                    X: =AttachFile_1.X
                    Y: =If(!(isProposalView || (!IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["PARTIALLY_REJECTED", "DRAFT"]))), AttachFile_1.Y + AttachFile_1.Height, AttachmentLabel.Y + AttachmentLabel.Height)
                    ZIndex: =70

                    Rectangle5 As rectangle:
                        Height: =
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =1

                    HtmlText7 As htmlViewer:
                        Font: =Font.Arial
                        Height: =listAttachFileItems.TemplateHeight
                        HtmlText: |-
                            ="<svg xmlns=""http://www.w3.org/2000/svg"" width=""16"" height=""20"" viewBox=""0 0 16 20"" fill=""none"">
                              <path d=""M10.7503 2.66732H2.50033V17.334H13.5003V5.41732H10.7503V2.66732ZM2.50033 0.833984H11.667L15.3337 4.50065V17.334C15.3337 17.8202 15.1405 18.2865 14.7967 18.6303C14.4529 18.9742 13.9866 19.1673 13.5003 19.1673H2.50033C2.0141 19.1673 1.54778 18.9742 1.20396 18.6303C0.860146 18.2865 0.666992 17.8202 0.666992 17.334V2.66732C0.666992 2.18109 0.860146 1.71477 1.20396 1.37096C1.54778 1.02714 2.0141 0.833984 2.50033 0.833984ZM4.33366 9.08398H11.667V10.9173H4.33366V9.08398ZM4.33366 12.7507H11.667V14.584H4.33366V12.7507Z"" fill=""#114F90""/>
                            </svg>"
                        OnSelect: =Select(Parent)
                        PaddingLeft: =10
                        PaddingTop: =If(App.Width > 600, 13, 25)
                        Width: =If(App.Width > 600, 40, 30)
                        ZIndex: =2

                    Image1 As image:
                        Height: =listAttachFileItems.TemplateHeight
                        Image: =ThisItem.Value
                        OnSelect: =Select(Parent)
                        Visible: =false
                        X: =646
                        ZIndex: =3

                    SizeAttIssuer As label:
                        Font: =Font.Arial
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =listAttachFileItems.TemplateHeight
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10.5
                        Text: =ThisItem.Size
                        Width: =50
                        X: =449
                        ZIndex: =4

                    FileName_Link As button:
                        Align: =Align.Left
                        BorderThickness: =0
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(202, 202, 202, 1)
                        DisabledFill: =Self.Fill
                        DisplayMode: =If("DOWNLOADFILE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action), DisplayMode.Edit, DisplayMode.Disabled)
                        Fill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =0
                        Font: =Font.Arial
                        FontWeight: =FontWeight.Lighter
                        Height: =FileName_LinkText.Height
                        HoverColor: =RGBA(56, 96, 178, 1)
                        HoverFill: =Self.Fill
                        OnSelect: |
                            =If(!IsBlank(proposalInfoEdit) && "DOWNLOADFILE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                                Set(urlFI,'TVS->DownloadFileExpTime-V1'.Run(bucketFixInAttach,ThisItem.Name).url);
                                Launch(urlFI);
                            );
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedBorderColor: =Self.Color
                        PressedColor: =Self.Color
                        PressedFill: =Self.Fill
                        Size: =10.5
                        Text: =If(Len(ThisItem.Name) < If(App.Width > 800, 150, 80), ThisItem.Name, Left(ThisItem.Name, If(App.Width > 800, 150, 80)) & "...")
                        Tooltip: =urlUploadFixInHead & ThisItem.Name & urlUploadFixInTail
                        Visible: ="DOWNLOADFILE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action) && !(IsBlank(proposalInfoEdit) && IsBlank(IdCreateProposal))
                        Width: =Min(If(App.Width > 1550 || App.Width < 1300, 600, 550), Parent.Width - 80)
                        X: =HtmlText7.X + HtmlText7.Width
                        ZIndex: =5

                    FileName_LinkText As label:
                        Color: =RGBA(202, 202, 202, 1)
                        Font: =Font.Arial
                        Height: =listAttachFileItems.TemplateHeight
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =If(App.Width > 800, 0, 5)
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10.5
                        Text: =If(Len(ThisItem.Name) < If(App.Width > 800, 150, 80), ThisItem.Name, Left(ThisItem.Name, If(App.Width > 800, 150, 80)) & "...")
                        Visible: =!("DOWNLOADFILE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action) && !(IsBlank(proposalInfoEdit) && IsBlank(IdCreateProposal)))
                        Width: =Min(If(App.Width > 1550 || App.Width < 1300, 600, 550), Parent.Width - 80)
                        X: =HtmlText7.X + HtmlText7.Width
                        ZIndex: =7

                    RemoveAttachmentIcon As icon.Cancel:
                        Color: =RGBA(0, 0, 0, 1)
                        FocusedBorderThickness: =3
                        Height: =18
                        Icon: =Icon.Cancel
                        OnSelect: |-
                            =Patch(listAttachFile, ThisItem, {IsDeleted: true});
                            If(!IsBlank(ThisItem.Id),Collect(listAttachDelete,ThisItem));
                        Visible: =!isDisable
                        Width: =18
                        X: =Parent.Width - If(App.Width > 800, 33, 30)
                        Y: =If(App.Width > 600, 17.5, 17.5)
                        ZIndex: =8

                    CreatedDate_Text As label:
                        Align: =Align.Right
                        Font: =Font.Arial
                        Height: =FileName_LinkText.Height
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingRight: =10
                        PaddingTop: =0
                        Size: =10.5
                        Text: =ThisItem.By
                        Visible: =App.Width > 1300 
                        Width: =Parent.Width - 80 - FileName_LinkText.Width
                        X: =FileName_LinkText.X + FileName_LinkText.Width
                        ZIndex: =9

                ProposalUploadButton As button:
                    BorderThickness: =0
                    DisplayMode: =If(!IsEmpty(AttachFile_1.Attachments), DisplayMode.Edit, DisplayMode.Disabled)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Height: =33
                    OnSelect: |+
                        =ForAll(AttachFile_1.Attachments As att,
                            Collect(colAttachments,{Id:"",Date: nowV1,By: User().FullName,Name: att.Name,NameGroup: att.Name,Value: att.Value,File: {file: {contentBytes: att.Value,name: att.Name}},IsDeleted:false,Size: ""})
                        );
                        
                        //check duplicate
                        ClearCollect(GroupedItems,GroupBy(colAttachments,NameGroup,Group));
                        //Clear(listAttachFile);
                        ForAll(GroupedItems,Collect(listAttachFileNonPrefix,First(ThisRecord.Group)););
                        UpdateIf(listAttachFileNonPrefix, true, {Name: Text(Now(), "ddmmyyyy_hhmmss_") & Name});
                        Collect(listAttachFile,listAttachFileNonPrefix);
                        Clear(listAttachFileNonPrefix);
                        Clear(colAttachments);
                        
                        //
                        Reset(AttachFile_1);
                        
                    Size: =10.5
                    Text: ="Upload"
                    Visible: =!isDisable && DealDetailTab = 1 && false
                    Width: =100
                    X: =AttachFile_1.X + AttachFile_1.Width - Self.Width
                    Y: =AttachmentLabel.Y + 3
                    ZIndex: =73

                AttachmentLabel As label:
                    Color: =RGBA(14, 63, 115, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Bold
                    Height: =50
                    PaddingBottom: =20
                    PaddingTop: =20
                    Size: =12
                    Text: ="Attachment"
                    Visible: =DealDetailTab = 1
                    Width: =130
                    X: =label_to_date.X
                    Y: =input_note.Y + input_note.Height + 10
                    ZIndex: =74

                AttachmentIcon As htmlViewer:
                    Font: =Font.Arial
                    HtmlText: |-
                        ="<svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                          <path d=""M18.0204 5.16384C17.2691 4.41686 16.2539 3.99591 15.1945 3.99217C14.1351 3.98842 13.1169 4.40219 12.3604 5.14384L5.70036 11.6878C5.51152 11.8738 5.25671 11.9773 4.99171 11.9758C4.7267 11.9743 4.47309 11.8679 4.28636 11.6798C4.19407 11.5868 4.12109 11.4764 4.07161 11.3551C4.02213 11.2337 3.99714 11.1038 3.99807 10.9728C3.999 10.8417 4.02583 10.7122 4.07703 10.5915C4.12822 10.4709 4.20276 10.3616 4.29636 10.2698L10.9544 3.72784C12.0871 2.61594 13.6124 1.99516 15.1997 2.00003C16.787 2.0049 18.3084 2.63501 19.4344 3.75384C19.9929 4.30904 20.4362 4.96921 20.7387 5.69635C21.0412 6.4235 21.1969 7.20329 21.1969 7.99084C21.1969 8.7784 21.0412 9.55818 20.7387 10.2853C20.4362 11.0125 19.9929 11.6726 19.4344 12.2278L10.7704 20.8558C10.0337 21.5881 9.03711 21.9992 7.99836 21.9992C6.95961 21.9992 5.96306 21.5881 5.22636 20.8558C4.86251 20.494 4.57377 20.0638 4.37674 19.5899C4.17972 19.1161 4.07829 18.608 4.07829 18.0948C4.07829 17.5817 4.17972 17.0736 4.37674 16.5997C4.57377 16.1259 4.86251 15.6957 5.22636 15.3338L13.3064 7.28784C13.4941 7.10147 13.7478 6.99687 14.0124 6.99687C14.2769 6.99687 14.5307 7.10147 14.7184 7.28784C14.811 7.38018 14.8845 7.4899 14.9347 7.61071C14.9848 7.73152 15.0106 7.86104 15.0106 7.99184C15.0106 8.12265 14.9848 8.25216 14.9347 8.37297C14.8845 8.49378 14.811 8.6035 14.7184 8.69584L6.64036 16.7418C6.46203 16.9192 6.32052 17.13 6.22395 17.3622C6.12738 17.5944 6.07767 17.8434 6.07767 18.0948C6.07767 18.3463 6.12738 18.5953 6.22395 18.8275C6.32052 19.0597 6.46203 19.2705 6.64036 19.4478C7.0014 19.8079 7.49048 20.0101 8.00036 20.0101C8.51024 20.0101 8.99932 19.8079 9.36036 19.4478L18.0204 10.8198C18.3931 10.4492 18.6889 10.0086 18.8907 9.52325C19.0926 9.03792 19.1965 8.51747 19.1965 7.99184C19.1965 7.46621 19.0926 6.94576 18.8907 6.46043C18.6889 5.9751 18.3931 5.53445 18.0204 5.16384Z"" fill=""#606060""/>
                        </svg>"
                    OnSelect: =Select(AttachFile_1)
                    Visible: =DealDetailTab = 1 && false
                    Width: =40
                    X: =AttachmentLabel.X + AttachmentLabel.Width - 40
                    Y: =AttachmentLabel.Y + 5
                    ZIndex: =75

            "ListInvestmentCommittee As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =Self.AllItemsCount * Self.TemplateHeight
                Items: =fileAndlistIC.list_investment_board
                Layout: =Layout.Vertical
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =App.Width > 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =ListProgessItems.Width
                X: =ListProgessItems.X
                Y: =Label9_2.Y + Label9_2.Height
                ZIndex: =89

                Label9_1 As label:
                    Align: =Align.Right
                    Color: =Switch(ThisItem.action, "APPROVED", RGBA(36, 201, 72, 1), "REJECT", RGBA(255, 0, 0, 1) , RGBA(126, 130, 153, 1))
                    Fill: =RGBA(209, 221, 255, 0)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Height: =ListInvestmentCommittee.TemplateHeight
                    OnSelect: =Select(Parent)
                    PaddingLeft: =10
                    PaddingRight: =10
                    Size: =If(App.Width > 1000, 10, 9)
                    Text: =ThisItem.name_user
                    VerticalAlign: =If(Label9_6.Visible, VerticalAlign.Top, VerticalAlign.Middle)
                    Width: =ListInvestmentCommittee.Width - HtmlText5_1.Width - Self.X
                    X: =20
                    ZIndex: =1

                HtmlText5_1 As htmlViewer:
                    Fill: =RGBA(209, 221, 255, 0)
                    Font: =Font.Arial
                    Height: =41
                    HtmlText: |-
                        =Switch(ThisItem.action,
                            "APPROVED", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#24C948""/>
                        <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#24C948""/>
                        </svg>",
                            "REJECT", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#FF0000""/>
                        <rect x=""6.75684"" y=""7.46484"" width=""1"" height=""11"" transform=""rotate(-45 6.75684 7.46484)"" fill=""#FF0000""/>
                        <rect x=""7.46387"" y=""15.2422"" width=""1"" height=""11"" transform=""rotate(-135 7.46387 15.2422)"" fill=""#FF0000""/>
                        </svg>",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#7E8299""/>
                        <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#7E8299""/>
                        </svg>"
                        )
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingTop: =8
                    Width: =36
                    X: =Label9_1.X + Label9_1.Width - 1
                    ZIndex: =2

                Label9_6 As label:
                    Align: =Align.Right
                    Color: =Switch(ThisItem.action, "APPROVED", RGBA(36, 201, 72, 1), "REJECT", RGBA(255, 0, 0, 1) , RGBA(126, 130, 153, 1))
                    Fill: =RGBA(209, 221, 255, 0)
                    Font: =Font.Arial
                    Height: =ListInvestmentCommittee.TemplateHeight - Self.Y
                    Italic: =true
                    OnSelect: =Select(Parent)
                    PaddingLeft: =10
                    PaddingRight: =10
                    Size: =8
                    Text: =Switch(ThisItem.action, "APPROVED", "Approved", "REJECT", "Rejected", "REJECTED", "Rejected") & " on " & Text(DateValue(ThisItem.created_date), "dd/mm/yyyy")
                    Visible: =App.Width > 1200 && !IsBlank(ThisItem.action)
                    Width: =ListInvestmentCommittee.Width - HtmlText5_1.Width - Self.X
                    X: =40
                    Y: =20
                    ZIndex: =3

            Rectangle3 As rectangle:
                Fill: =RGBA(202, 202, 202, 1)
                Height: =27
                Visible: =App.Width > 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =2
                X: =ListInvestmentCommittee.X + ListInvestmentCommittee.Width - 22
                Y: =ListProgessItems.Y + ListProgessItems.Height + 5
                ZIndex: =90

            TableGroup As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =90

                layout_issuer As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =Label5.Y + Label5.Height + 3
                    ZIndex: =5

                layout_ip_issuer As rectangle:
                    BorderColor: =If(IsBlank(input_issuerShortName.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_issuer.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_issuer.X + layout_issuer.Width
                    Y: =layout_issuer.Y
                    ZIndex: =6

                label_issuer As label:
                    Font: =Font.Arial
                    Height: =layout_issuer.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Issuer"
                    Visible: =DealDetailTab = 1
                    Width: =layout_issuer.Width
                    X: =layout_issuer.X
                    Y: =layout_issuer.Y
                    ZIndex: =7

                layout_shortName As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_issuer.Y + layout_issuer.Height
                    ZIndex: =8

                layout_ip_shortName As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_shortName.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_shortName.X + layout_shortName.Width
                    Y: =layout_shortName.Y
                    ZIndex: =9

                label_shortName As label:
                    Font: =Font.Arial
                    Height: =layout_shortName.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Short name"
                    Visible: =DealDetailTab = 1
                    Width: =layout_shortName.Width
                    X: =layout_shortName.X
                    Y: =layout_shortName.Y
                    ZIndex: =10

                input_issuerName As text:
                    BorderColor: =If(IsBlank(input_issuerName.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =If(IsBlank(input_issuerName.Text) && isSubmited, 1, 0)
                    Default: =If(!IsBlank(proposalInfoEdit) && !issuerChanged, proposalInfoEdit.issuer, IsBlank(issuerObjectDetail), "", First(issuerObjectDetail).issuer_name)
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =DisplayMode.Disabled
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_issuer.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =If(
                            IsNumeric(Substitute(input_issuerName.Text, ",","")),
                            Set(InvestmentMomoDefaultQT2, Text(Value(Substitute(input_issuerName.Text, ",","")), "[$-en-GB]#,###")),
                            Reset(input_issuerName));
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 10.5)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_issuer.Width - 2
                    X: =layout_ip_issuer.X + 1
                    Y: =layout_ip_issuer.Y + 1
                    ZIndex: =11

                layout_sector As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_shortName.Y + layout_shortName.Height
                    ZIndex: =12

                layout_ip_sector As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_sector.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_sector.X + layout_sector.Width
                    Y: =layout_sector.Y
                    ZIndex: =13

                label_sector As label:
                    Font: =Font.Arial
                    Height: =layout_sector.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Sector"
                    Visible: =DealDetailTab = 1
                    Width: =layout_sector.Width
                    X: =layout_sector.X
                    Y: =layout_sector.Y
                    ZIndex: =14

                layout_type As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_sector.Y + layout_sector.Height
                    ZIndex: =15

                layout_ip_type As rectangle:
                    BorderColor: =If(IsBlank(FI_TypeDropdown.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_type.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_type.X + layout_type.Width
                    Y: =layout_type.Y
                    ZIndex: =16

                label_type As label:
                    Font: =Font.Arial
                    Height: =layout_type.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Type"
                    Visible: =DealDetailTab = 1
                    Width: =layout_type.Width
                    X: =layout_type.X
                    Y: =layout_type.Y
                    ZIndex: =17

                layout_prin As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_type.Y + layout_type.Height
                    ZIndex: =19

                layout_ip_prin As rectangle:
                    BorderColor: =If(IsBlank(principalValue) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_prin.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_prin.X + layout_prin.Width
                    Y: =layout_prin.Y
                    ZIndex: =20

                label_prin As label:
                    Font: =Font.Arial
                    Height: =layout_prin.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Principal (VND bn)"
                    Visible: =DealDetailTab = 1
                    Width: =layout_prin.Width
                    X: =layout_prin.X
                    Y: =layout_prin.Y
                    ZIndex: =21

                input_prin As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(input_prin.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: |-
                        =Text(Value(Substitute(principalValue, ",","")), "[$-en-GB]#,###")
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_prin.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =If(
                            Len(Self.Text) = 0,
                            Set(principalValue, Blank()); Reset(Self),
                            IsNumeric(Substitute(Self.Text, ",","")) && Value(Substitute(Self.Text, ",","")) > 0,
                            Set(principalValue, Text(Value(Substitute(Self.Text, ",","")), "[$-en-GB]#,###")),
                            Set(principalValue, Blank()); Reset(Self));
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_prin.Width - 2
                    X: =layout_ip_prin.X + 1
                    Y: =layout_ip_prin.Y + 1
                    ZIndex: =22

                layout_aum As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_prin.Y + layout_prin.Height
                    ZIndex: =23

                layout_ip_aum As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_aum.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width * 0.5
                    X: =layout_aum.X + layout_aum.Width
                    Y: =layout_aum.Y
                    ZIndex: =24

                label_aum As label:
                    Font: =Font.Arial
                    Height: =layout_aum.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: =""
                    Visible: =DealDetailTab = 1
                    Width: =layout_aum.Width
                    X: =layout_aum.X
                    Y: =layout_aum.Y
                    ZIndex: =25

                input_percent_aum As text:
                    BorderColor: =If(IsBlank(input_percent_aum.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =If(IsBlank(input_percent_aum.Text) && isSubmited, 1, 0)
                    Default: ="% of AUM"
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(0, 0, 0, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.Disabled
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_aum.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =If(
                            IsNumeric(Substitute(input_percent_aum.Text, ",","")),
                            Set(InvestmentMomoDefaultQT2, Text(Value(Substitute(input_percent_aum.Text, ",","")), "[$-en-GB]#,###")),
                            Reset(input_percent_aum));
                    PaddingLeft: =If(App.Width > 600, 12, 5)
                    PaddingRight: =If(App.Width > 600, 12, 5)
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 10)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_aum.Width - 2
                    X: =layout_ip_aum.X + 1
                    Y: =layout_ip_aum.Y + 1
                    ZIndex: =26

                layout_ip_aum_1 As rectangle:
                    BorderColor: =If(IsBlank(input_limit_aum.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_aum.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width - layout_ip_aum.Width + 2
                    X: =layout_ip_aum.X + layout_ip_aum.Width
                    Y: =layout_ip_aum.Y
                    ZIndex: =27

                layout_aum_limit As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_aum.Y + layout_aum.Height
                    ZIndex: =28

                layout_ip_aum_limit As rectangle:
                    BorderColor: =RGBA(191, 191, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_aum_limit.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width * 0.5
                    X: =layout_aum_limit.X + layout_aum_limit.Width
                    Y: =layout_aum_limit.Y
                    ZIndex: =29

                label_aum_limit As label:
                    Font: =Font.Arial
                    Height: =layout_aum_limit.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: =""
                    Visible: =DealDetailTab = 1
                    Width: =layout_aum_limit.Width
                    X: =layout_aum_limit.X
                    Y: =layout_aum_limit.Y
                    ZIndex: =30

                input_aum_limit As text:
                    BorderColor: =If(IsBlank(input_aum_limit.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =If(IsBlank(input_aum_limit.Text) && isSubmited, 1, 0)
                    Default: ="Limit on % AUM"
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(0, 0, 0, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.Disabled
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_aum_limit.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =If(
                            IsNumeric(Substitute(input_aum_limit.Text, ",","")),
                            Set(InvestmentMomoDefaultQT2, Text(Value(Substitute(input_aum_limit.Text, ",","")), "[$-en-GB]#,###")),
                            Reset(input_aum_limit));
                    PaddingLeft: =If(App.Width > 600, 12, 5)
                    PaddingRight: =If(App.Width > 600, 12, 5)
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 10)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_aum_limit.Width - 2
                    X: =layout_ip_aum_limit.X + 1
                    Y: =layout_ip_aum_limit.Y + 1
                    ZIndex: =31

                layout_ip_aum_limit_1 As rectangle:
                    BorderColor: =If(IsBlank(LimitOnAUMDropdown.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_aum_limit.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width - layout_ip_aum_limit.Width + 2
                    X: =layout_ip_aum_limit.X + layout_ip_aum_limit.Width
                    Y: =layout_ip_aum_limit.Y
                    ZIndex: =32

                layout_interest As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =label_aum_limit.Y + label_aum_limit.Height
                    ZIndex: =34

                layout_ip_interest As rectangle:
                    BorderColor: =If(IsBlank(input_interest.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_interest.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width * 0.5
                    X: =layout_interest.X + layout_interest.Width
                    Y: =layout_interest.Y
                    ZIndex: =35

                label_interest As label:
                    Font: =Font.Arial
                    Height: =layout_interest.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Interest (p.a)"
                    Visible: =DealDetailTab = 1
                    Width: =layout_interest.Width
                    X: =layout_interest.X
                    Y: =layout_interest.Y
                    ZIndex: =36

                layout_ip_interest_1 As rectangle:
                    BorderColor: =If(IsBlank(input_interest_rate.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_interest.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width - layout_ip_interest.Width + 2
                    X: =layout_ip_interest.X + layout_ip_interest.Width
                    Y: =layout_ip_interest.Y
                    ZIndex: =37

                layout_term As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_interest.Y + layout_interest.Height
                    ZIndex: =38

                layout_ip_term As rectangle:
                    BorderColor: =If((IsBlank(input_term_min.Text) || Value(input_term_max.Text) < Value(input_term_min.Text)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_term.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width * 0.5
                    X: =layout_term.X + layout_term.Width
                    Y: =layout_term.Y
                    ZIndex: =39

                label_term As label:
                    Font: =Font.Arial
                    Height: =layout_term.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Term (months)"
                    Visible: =DealDetailTab = 1
                    Width: =layout_term.Width
                    X: =layout_term.X
                    Y: =layout_term.Y
                    ZIndex: =40

                layout_ip_term_1 As rectangle:
                    BorderColor: =If((IsBlank(input_term_max.Text) || Value(input_term_max.Text) < Value(input_term_min.Text)) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_term.Height
                    Visible: =DealDetailTab = 1
                    Width: =input_prin.Width - layout_ip_term.Width + 2
                    X: =layout_ip_term.X + layout_ip_term.Width
                    Y: =layout_ip_term.Y
                    ZIndex: =41

                layout_payment As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_term.Y + layout_term.Height
                    ZIndex: =42

                layout_ip_payment As rectangle:
                    BorderColor: =If(IsBlank(PaymentFrequencyDropdown.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_payment.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_payment.X + layout_payment.Width
                    Y: =layout_payment.Y
                    ZIndex: =43

                label_payment As label:
                    Font: =Font.Arial
                    Height: =layout_payment.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =10.5
                    Text: ="Payment frequency"
                    Visible: =DealDetailTab = 1
                    Width: =layout_payment.Width
                    X: =layout_payment.X
                    Y: =layout_payment.Y
                    ZIndex: =44

                layout_start_date As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_payment.Y + layout_payment.Height
                    ZIndex: =46

                layout_ip_start_date As rectangle:
                    BorderColor: |-
                        =If(
                            (IsBlank(DateStart_DatePicker_3.SelectedDate) || DateDiff(
                                DateStart_DatePicker_3.SelectedDate,
                                DateTo_DatePicker_4.SelectedDate
                            ) < 0 || DateDiff(
                                Today(),
                                DateStart_DatePicker_3.SelectedDate
                            ) < 0) && isSubmited,
                            RGBA(
                                214,
                                27,
                                27,
                                1
                            ),
                            RGBA(
                                191,
                                191,
                                192,
                                1
                            )
                        )
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_start_date.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_start_date.X + layout_start_date.Width
                    Y: =layout_start_date.Y
                    ZIndex: =47

                label_start_date As label:
                    Font: =Font.Arial
                    Height: =layout_start_date.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =If(App.Width > 600, 10, 0)
                    PaddingTop: =10
                    Size: =If(App.Width > 600, 10.5, 10.5)
                    Text: ="Validity starting time"
                    Visible: =DealDetailTab = 1
                    Width: =layout_start_date.Width
                    X: =layout_start_date.X
                    Y: =layout_start_date.Y
                    ZIndex: =48

                DateStart_DatePicker_3 As datepicker:
                    BorderThickness: =0
                    DefaultDate: =If(IsBlank(proposalInfoEdit), Blank(), proposalInfoEdit.validity_starting_time)
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Format: ="dd/mm/yyyy"
                    Height: =layout_ip_start_date.Height - 2
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =RGBA(0, 0, 0, 1)
                    InputTextPlaceholder: =If(IsBlank(Self.SelectedDate), Text("dd/mm/yyyy", Self.Format, Self.Language))
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =If(App.Width > 600, 10.5, 10.5)
                    StartYear: =If(IsBlank(DateFrom_Datepicker.SelectedDate), 1970, Year(DateFrom_Datepicker.SelectedDate))
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_start_date.Width - 2
                    X: =layout_ip_start_date.X + 1
                    Y: =layout_ip_start_date.Y + 1
                    ZIndex: =49

                layout_to_date As rectangle:
                    BorderColor: =RGBA(192, 192, 192, 1)
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =44
                    Visible: =DealDetailTab = 1
                    Width: =If(Parent.Width > 1025 , White_Background_2.Width * 0.25 - 50, White_Background_2.Width * 0.45 - 50)
                    X: =White_Background_2.X + If(App.Width > 600, 20, 15)
                    Y: =layout_start_date.Y + layout_start_date.Height
                    ZIndex: =50

                layout_ip_to_date As rectangle:
                    BorderColor: =If((IsBlank(DateTo_DatePicker_4.SelectedDate) || DateDiff(DateStart_DatePicker_3.SelectedDate, DateTo_DatePicker_4.SelectedDate) < 0) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0.5
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =layout_to_date.Height
                    Visible: =DealDetailTab = 1
                    Width: =White_Background_2.Width * If(Parent.Width > 1025, 0.745, 0.55) + If(App.Width > 600, 0, 8)
                    X: =layout_to_date.X + layout_to_date.Width
                    Y: =layout_to_date.Y
                    ZIndex: =51

                label_to_date As label:
                    Font: =Font.Arial
                    Height: =layout_to_date.Height
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =If(App.Width > 600, 10, 0)
                    PaddingTop: =10
                    Size: =If(App.Width > 600, 10.5, 10.5)
                    Text: ="Validity ending time"
                    Visible: =DealDetailTab = 1
                    Width: =layout_to_date.Width
                    X: =layout_to_date.X
                    Y: =layout_to_date.Y
                    ZIndex: =52

                DateTo_DatePicker_4 As datepicker:
                    BorderThickness: =0
                    DefaultDate: =If(IsBlank(proposalInfoEdit), Blank(), proposalInfoEdit.validity_ending_time)
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    Format: ="dd/mm/yyyy"
                    Height: =layout_ip_to_date.Height - 2
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =RGBA(0, 0, 0, 1)
                    InputTextPlaceholder: =If(IsBlank(Self.SelectedDate), Text("dd/mm/yyyy", Self.Format, Self.Language))
                    PaddingBottom: =10
                    PaddingLeft: =10
                    PaddingRight: =10
                    PaddingTop: =10
                    Size: =If(App.Width > 600, 10.5, 10.5)
                    StartYear: =If(IsBlank(DateFrom_Datepicker.SelectedDate), 1970, Year(DateFrom_Datepicker.SelectedDate))
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_to_date.Width - 2
                    X: =layout_ip_to_date.X + 1
                    Y: =layout_ip_to_date.Y + 1
                    ZIndex: =53

                input_sector As text:
                    BorderColor: =If(IsBlank(input_sector.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =If(IsBlank(input_sector.Text) && isSubmited, 1, 0)
                    Default: =If(!IsBlank(proposalInfoEdit) && !issuerChanged, proposalInfoEdit.sector, IsBlank(issuerObjectDetail), "", First(issuerObjectDetail).sector)
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =DisplayMode.Disabled
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_sector.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =If(
                            IsNumeric(Substitute(input_sector.Text, ",","")),
                            Set(InvestmentMomoDefaultQT2, Text(Value(Substitute(input_sector.Text, ",","")), "[$-en-GB]#,###")),
                            Reset(input_sector));
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 10.5)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_sector.Width - 2
                    X: =layout_ip_sector.X + 1
                    Y: =layout_ip_sector.Y + 1
                    ZIndex: =54

                PecentIcon As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="%"
                    Visible: =DealDetailTab = 1
                    Width: =25
                    X: =input_limit_aum.X + input_limit_aum.Width - Self.Width
                    Y: =input_limit_aum.Y
                    ZIndex: =56

                PecentIcon_1 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_interest.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="%"
                    Visible: =DealDetailTab = 1
                    Width: =25
                    X: =input_interest.X + input_interest.Width - Self.Width
                    Y: =input_interest.Y
                    ZIndex: =57

                PecentIcon_2 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="%"
                    Visible: =DealDetailTab = 1
                    Width: =25
                    X: =input_interest_rate.X + input_interest_rate.Width - Self.Width
                    Y: =input_interest_rate.Y
                    ZIndex: =58

                CongTruIcon As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: =""
                    Visible: =DealDetailTab = 1
                    Width: =25
                    X: =input_interest_rate.X + input_interest_rate.Width - 75
                    Y: =input_interest_rate.Y
                    ZIndex: =59

                FromText As label:
                    Align: =Align.Center
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    Italic: =true
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="From"
                    Visible: =DealDetailTab = 1
                    Width: =50
                    X: =input_term_min.X
                    Y: =input_term_min.Y
                    ZIndex: =60

                ToText As label:
                    Align: =Align.Center
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    Italic: =true
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="to"
                    Visible: =DealDetailTab = 1
                    Width: =20
                    X: =input_term_max.X + 5
                    Y: =input_term_max.Y
                    ZIndex: =61

                input_limit_aum As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(input_limit_aum.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =If(IsBlank(proposalInfoEdit), "", If(listAumChanged && IsBlank(proposalInfoEdit.percent_aum), "", proposalInfoEdit.percent_aum))
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_aum_1.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(listAumChanged, true);
                        If(IsNumeric(input_limit_aum.Text) && Value(Self.Text) > 0,
                        Set(InvestmentMomoDefaultQT2,Text(Value(Substitute(input_limit_aum.Text,",","")),"[$-en-GB]#,###")),
                        Reset(input_limit_aum));
                        If("," in Self.Text, Reset(Self));
                    PaddingRight: =20
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_aum_1.Width - 2
                    X: =layout_ip_aum_1.X + 1
                    Y: =layout_ip_aum_1.Y + 1
                    ZIndex: =62

                input_interest As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(input_interest.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =If(IsBlank(proposalInfoEdit), "", If(listInterestChanged, "", proposalInfoEdit.interest))
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_interest.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(listInterestChanged, true);
                        If(IsNumeric(input_interest.Text) && Value(Self.Text) > 0,
                        Set(InvestmentMomoDefaultQT2,Text(Value(Substitute(input_interest.Text,",","")),"[$-en-GB]#,###")),
                        Reset(input_interest));
                        If("," in Self.Text, Reset(Self));
                    PaddingRight: =20
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_interest.Width - 2
                    X: =layout_ip_interest.X + 1
                    Y: =layout_ip_interest.Y + 1
                    ZIndex: =63

                input_interest_rate As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(input_interest_rate.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =If(IsBlank(input_interest_rate.Text) && isSubmited, 1, 0)
                    Default: =If(IsBlank(proposalInfoEdit), "0.5", If(listInterest2Changed && IsBlank(proposalInfoEdit.interest_rate), "", proposalInfoEdit.interest_rate))
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =layout_ip_interest_1.Height - 2
                    HoverFill: =
                    MaxLength: =5
                    OnChange: |-
                        =Set(listInterest2Changed, true);
                        If(IsNumeric(input_interest_rate.Text) && Value(input_interest_rate.Text) > 0,
                        Set(InvestmentMomoDefaultQT2,Text(Value(Substitute(input_interest_rate.Text,",","")),"[$-en-GB]#,###")),
                        Reset(input_interest_rate));
                        If("," in Self.Text, Reset(Self));
                    PaddingRight: =20
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_interest_1.Width - 2
                    X: =layout_ip_interest_1.X + 1
                    Y: =layout_ip_interest_1.Y + 1
                    ZIndex: =64

                input_term_min As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(input_term_min.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =If(IsBlank(proposalInfoEdit), "", If(listFromChanged && IsBlank(proposalInfoEdit.term_min), "", proposalInfoEdit.term_min))
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Format: =TextFormat.Number
                    Height: =layout_ip_term.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(listFromChanged, true);
                        If(IsNumeric(Substitute(input_term_min.Text,",","")) && Value(Substitute(Self.Text, ",","")) > 0,
                        Set(InvestmentMomoDefaultQT2,Text(Value(Substitute(input_term_min.Text,",","")),"[$-en-GB]#,###")),
                        Reset(input_term_min));
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_term.Width - 2
                    X: =layout_ip_term.X + 1
                    Y: =layout_ip_term.Y + 1
                    ZIndex: =65

                input_term_max As text:
                    Align: =Align.Right
                    BorderColor: =If(IsBlank(input_term_max.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                    BorderThickness: =0
                    Default: =If(IsBlank(proposalInfoEdit), "", If(listToChanged && IsBlank(proposalInfoEdit.term_max), "", proposalInfoEdit.term_max))
                    DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                    DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =RGBA(0, 18, 107, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Format: =TextFormat.Number
                    Height: =layout_ip_term_1.Height - 2
                    HoverFill: =
                    OnChange: |-
                        =Set(listToChanged, true);
                        If(IsNumeric(Substitute(input_term_max.Text,",","")) && Value(Substitute(Self.Text, ",","")) > 0,
                        Set(InvestmentMomoDefaultQT2,Text(Value(Substitute(input_term_max.Text,",","")),"[$-en-GB]#,###")),
                        Reset(input_term_max));
                    PaddingRight: =12
                    PaddingTop: =5.27
                    PressedBorderColor: =RGBA(0, 18, 107, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =If(App.Width > 600, 10.5, 12)
                    Visible: =DealDetailTab = 1
                    Width: =layout_ip_term_1.Width - 2
                    X: =layout_ip_term_1.X + 1
                    Y: =layout_ip_term_1.Y + 1
                    ZIndex: =66

            Label9_2 As label:
                Align: =Align.Right
                Color: =Switch(proposalInfoEdit.proposal_status, "APPROVED", RGBA(36, 201, 72, 1), "REJECTED", RGBA(255, 0, 0, 1) , RGBA(126, 130, 153, 1))
                Fill: =RGBA(209, 221, 255, 0)
                Font: =Font.Arial
                FontWeight: =FontWeight.Semibold
                Height: =ListInvestmentCommittee.TemplateHeight
                PaddingLeft: =10
                PaddingRight: =10
                Size: =If(App.Width > 1000, 10, 9)
                Text: ="Investment Committee"
                Visible: =App.Width > 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =HtmlText5_2.X - SubHeaderHr.X
                X: =HtmlText5_2.X - Self.Width
                Y: =HtmlText5_2.Y
                ZIndex: =91

            HtmlText5_2 As htmlViewer:
                Fill: =RGBA(209, 221, 255, 0)
                Font: =Font.Arial
                Height: =41
                HtmlText: |-
                    =Switch(proposalInfoEdit.proposal_status,
                        "APPROVED", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                    <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#24C948""/>
                    <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#24C948""/>
                    </svg>",
                        "REJECTED", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                    <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#FF0000""/>
                    <rect x=""6.75684"" y=""7.46484"" width=""1"" height=""11"" transform=""rotate(-45 6.75684 7.46484)"" fill=""#FF0000""/>
                    <rect x=""7.46387"" y=""15.2422"" width=""1"" height=""11"" transform=""rotate(-135 7.46387 15.2422)"" fill=""#FF0000""/>
                    </svg>",
                        "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                      <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#7E8299""/>
                      <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#7E8299""/>
                    </svg>"
                    )
                PaddingBottom: =0
                PaddingTop: =8
                Visible: =App.Width > 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =36
                X: =Rectangle3.X - 15
                Y: =Rectangle3.Y + Rectangle3.Height + 5
                ZIndex: =92

            HrProgress As rectangle:
                Fill: =RGBA(191, 191, 192, 1)
                Height: =If(!IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"] && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT"), ListInvestmentCommittee.Y + ListInvestmentCommittee.Height - Self.Y, 300)
                Visible: =App.Width > 800
                Width: =1
                X: =ListProgessItems.X + ListProgessItems.Width + 17
                Y: =SubHeaderBg.Y + SubHeaderBg.Height
                ZIndex: =99

            ShowIfDisable As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =99

                PecentIcon_3 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="%"
                    Visible: =DealDetailTab = 1 && isDisable
                    Width: =25
                    X: =input_limit_aum.X + input_limit_aum.Width - Self.Width
                    Y: =input_limit_aum.Y
                    ZIndex: =93

                PecentIcon_4 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_interest.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="%"
                    Visible: =DealDetailTab = 1 && isDisable
                    Width: =25
                    X: =input_interest.X + input_interest.Width - Self.Width
                    Y: =input_interest.Y
                    ZIndex: =94

                PecentIcon_5 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="%"
                    Visible: =DealDetailTab = 1 && isDisable
                    Width: =25
                    X: =input_interest_rate.X + input_interest_rate.Width - Self.Width
                    Y: =input_interest_rate.Y
                    ZIndex: =95

                CongTruIcon_1 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: =""
                    Visible: =DealDetailTab = 1 && isDisable
                    Width: =25
                    X: =input_interest_rate.X + input_interest_rate.Width - 75
                    Y: =input_interest_rate.Y
                    ZIndex: =96

                FromText_1 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    Italic: =true
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="From"
                    Visible: =DealDetailTab = 1 && isDisable
                    Width: =50
                    X: =input_term_min.X
                    Y: =input_term_min.Y
                    ZIndex: =97

                ToText_1 As label:
                    Align: =Align.Center
                    Color: =If(isDisable, RGBA(166, 166, 166, 1), RGBA(0,0,0,1))
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    Italic: =true
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10.5
                    Text: ="to"
                    Visible: =DealDetailTab = 1 && isDisable
                    Width: =20
                    X: =input_term_max.X + 5
                    Y: =input_term_max.Y
                    ZIndex: =98

            "ListProgessItemsHozi As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =80
                Items: =Filter(ListProgress, Text <> "CEO")
                LoadingSpinner: =LoadingSpinner.None 
                TemplatePadding: =0
                TemplateSize: =Self.Width / 5
                Visible: =App.Width < 800
                Width: =App.Width
                Y: =SubHeaderBg.Y + SubHeaderBg.Height
                ZIndex: =100

                Label9_3 As label:
                    Align: =Align.Center
                    Color: |-
                        =If(IsBlank(proposalInfoEdit) && "DRAFT" in ThisItem.currentStatus ||
                            If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.currentStatus,
                            If(proposalInfoEdit.proposal_status = "REJECTED", RGBA(255, 0, 0, 1), RGBA(17,79,144,1)),
                            If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.activeArray,
                            RGBA(36,201,72,1),
                            RGBA(0,0,0,1)
                        )
                    Fill: =RGBA(209, 221, 255, 0)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    OnSelect: =Select(Parent)
                    PaddingRight: =10
                    Size: =7
                    Text: =ThisItem.Text
                    Visible: =If(ThisItem.Text = "CEO" && !IsBlank(proposalInfoEdit), proposalInfoEdit.proposal_status in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "PENDING_REVIEW_BY_CEO", "APPROVED"], ThisItem.Text <> "CEO")
                    Width: =Parent.TemplateWidth
                    Y: =HtmlText5_3.Height - 12
                    ZIndex: =3

                HtmlText5_3 As htmlViewer:
                    Fill: =RGBA(209, 221, 255, 0)
                    Font: =Font.Arial
                    Height: =41
                    HtmlText: |-
                        =If(
                            IsBlank(proposalInfoEdit) && "DRAFT" in ThisItem.currentStatus || If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.currentStatus,
                            If(proposalInfoEdit.proposal_status = "REJECTED",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#FF0000""/>
                        <rect x=""6.75684"" y=""7.46484"" width=""1"" height=""11"" transform=""rotate(-45 6.75684 7.46484)"" fill=""#FF0000""/>
                        <rect x=""7.46387"" y=""15.2422"" width=""1"" height=""11"" transform=""rotate(-135 7.46387 15.2422)"" fill=""#FF0000""/>
                        </svg>",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                          <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#114F90""/>
                          <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#114F90""/>
                        </svg>"),
                            !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ThisItem.activeArray,
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                          <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#24C948""/>
                          <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#24C948""/>
                        </svg>",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#7E8299""/>
                        <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#7E8299""/>
                        </svg>"
                        )
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingTop: =8
                    Visible: =If(ThisItem.Text = "CEO" && !IsBlank(proposalInfoEdit), proposalInfoEdit.proposal_status in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "PENDING_REVIEW_BY_CEO", "APPROVED"], ThisItem.Text <> "CEO")
                    Width: =36
                    X: =(ListProgessItemsHozi.TemplateWidth - Self.Width) / 2
                    ZIndex: =4

            "ListInvestmentCommitteeItemsHozi As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                DelayItemLoading: =true
                Height: =80
                Items: =fileAndlistIC.list_investment_board
                LoadingSpinner: =LoadingSpinner.None 
                TemplatePadding: =0
                TemplateSize: =Self.Width / 3
                Visible: =App.Width <= 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =App.Width - Self.X
                X: =ListProgessItemsHozi.TemplateWidth * 2
                Y: =ListProgessItemsHozi.Y + ListProgessItemsHozi.Height
                ZIndex: =101

                HtmlText5_5 As htmlViewer:
                    Fill: =RGBA(209, 221, 255, 0)
                    Font: =Font.Arial
                    Height: =41
                    HtmlText: |-
                        =Switch(ThisItem.action,
                            "APPROVED", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#24C948""/>
                        <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#24C948""/>
                        </svg>",
                            "REJECT", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#FF0000""/>
                        <rect x=""6.75684"" y=""7.46484"" width=""1"" height=""11"" transform=""rotate(-45 6.75684 7.46484)"" fill=""#FF0000""/>
                        <rect x=""7.46387"" y=""15.2422"" width=""1"" height=""11"" transform=""rotate(-135 7.46387 15.2422)"" fill=""#FF0000""/>
                        </svg>",
                            "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                        <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#7E8299""/>
                        <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#7E8299""/>
                        </svg>"
                        )
                    OnSelect: =Select(Parent)
                    PaddingLeft: =8
                    Width: =36
                    X: =(ListInvestmentCommitteeItemsHozi.TemplateWidth - Self.Width) / 2
                    ZIndex: =5

                Label9_4 As label:
                    Align: =Align.Center
                    Color: =Switch(ThisItem.action, "APPROVED", RGBA(36, 201, 72, 1), "REJECT", RGBA(255, 0, 0, 1) , RGBA(126, 130, 153, 1))
                    Fill: =RGBA(209, 221, 255, 0)
                    Font: =Font.Arial
                    Height: =ListInvestmentCommittee.TemplateHeight
                    OnSelect: =Select(Parent)
                    PaddingLeft: =10
                    PaddingRight: =10
                    Size: =8
                    Text: =ThisItem.name_user
                    Width: =ListInvestmentCommitteeItemsHozi.TemplateWidth
                    Y: =HtmlText5_5.Height - 12
                    ZIndex: =6

            HrProgress_1 As rectangle:
                Fill: =RGBA(191, 191, 192, 1)
                Height: =1
                Visible: =App.Width <= 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =App.Width - 20
                X: =10
                Y: =ListProgessItemsHozi.Y + ListProgessItemsHozi.Height - 5
                ZIndex: =102

            CEO_Label_Mobile As label:
                Align: =Align.Center
                Color: =If(IsBlank(proposalInfoEdit) && "DRAFT" in ["PENDING_REVIEW_BY_CEO"] || If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_CEO"], RGBA(17, 79, 144, 1), If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "APPROVE"], RGBA(36, 201, 72, 1), RGBA(0, 0, 0, 1))
                Fill: =RGBA(209, 221, 255, 0)
                Font: =Font.Arial
                FontWeight: =FontWeight.Semibold
                PaddingRight: =10
                Size: =7
                Text: ="CEO"
                Visible: =App.Width < 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =ListProgessItemsHozi.TemplateWidth
                Y: =CEO_Icon_Mobile.Y + CEO_Icon_Mobile.Height - 12
                ZIndex: =103

            CEO_Icon_Mobile As htmlViewer:
                Fill: =RGBA(209, 221, 255, 0)
                Font: =Font.Arial
                Height: =41
                HtmlText: |-
                    =If(
                        IsBlank(proposalInfoEdit) && "DRAFT" in ["PENDING_REVIEW_BY_CEO"] || If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_CEO"],
                        "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                      <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#114F90""/>
                      <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#114F90""/>
                    </svg>",
                        !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE","APPROVED","APPROVE"],
                        "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                      <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#24C948""/>
                      <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#24C948""/>
                    </svg>",
                        "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                    <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#7E8299""/>
                    <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#7E8299""/>
                    </svg>"
                    )
                PaddingBottom: =0
                PaddingTop: =8
                Visible: =App.Width < 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =36
                X: =(ListProgessItemsHozi.TemplateWidth - Self.Width) / 2
                Y: =ListInvestmentCommitteeItemsHozi.Y
                ZIndex: =104

            IC_Label_Mobile As label:
                Align: =Align.Center
                Color: =Switch(proposalInfoEdit.proposal_status, "APPROVED", RGBA(36, 201, 72, 1), "REJECTED", RGBA(255, 0, 0, 1) , RGBA(126, 130, 153, 1))
                Fill: =RGBA(209, 221, 255, 0)
                Font: =Font.Arial
                FontWeight: =FontWeight.Semibold
                PaddingRight: =10
                Size: =7
                Text: ="Investment Committee"
                Visible: =App.Width < 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =ListProgessItemsHozi.TemplateWidth
                X: =ListProgessItemsHozi.TemplateWidth
                Y: =IC_Icon_Mobile.Y + IC_Icon_Mobile.Height - 12
                ZIndex: =105

            IC_Icon_Mobile As htmlViewer:
                Fill: =RGBA(209, 221, 255, 0)
                Font: =Font.Arial
                Height: =41
                HtmlText: |-
                    =Switch(proposalInfoEdit.proposal_status,
                        "APPROVED", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                    <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#24C948""/>
                    <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#24C948""/>
                    </svg>",
                        "REJECTED", "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                    <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#FF0000""/>
                    <rect x=""6.75684"" y=""7.46484"" width=""1"" height=""11"" transform=""rotate(-45 6.75684 7.46484)"" fill=""#FF0000""/>
                    <rect x=""7.46387"" y=""15.2422"" width=""1"" height=""11"" transform=""rotate(-135 7.46387 15.2422)"" fill=""#FF0000""/>
                    </svg>",
                        "<svg xmlns=""http://www.w3.org/2000/svg"" width=""22"" height=""22"" viewBox=""0 0 22 22"" fill=""none"">
                      <circle cx=""11"" cy=""11"" r=""10.5"" stroke=""#7E8299""/>
                      <path d=""M15.3368 7.73041L14.362 7.04782L10.6072 12.4092L7.68277 10.3616L7.00028 11.3365L10.9001 14.0671L15.3368 7.73041Z"" fill=""#7E8299""/>
                    </svg>"
                    )
                PaddingBottom: =0
                PaddingTop: =8
                Visible: =App.Width < 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =36
                X: =(ListProgessItemsHozi.TemplateWidth - Self.Width) / 2 + ListProgessItemsHozi.TemplateWidth
                Y: =ListInvestmentCommitteeItemsHozi.Y
                ZIndex: =106

            HrProgress_2 As rectangle:
                Fill: =RGBA(191, 191, 192, 1)
                Height: =1
                Visible: =App.Width < 800 && !IsBlank(proposalInfoEdit) && If(proposalInfoEdit.proposal_status = "REJECTED",proposalInfoEdit.old_status,proposalInfoEdit.proposal_status) in If(proposalInfoEdit.proposal_status = "REJECTED", ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"], ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED", "PENDING_REVIEW_BY_CEO"]) && (Value(proposalInfoEdit.principal) > 1000 || Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) <> "WITHIN_LIMIT")
                Width: =IC_Icon_Mobile.X - Self.X - 3
                X: =CEO_Icon_Mobile.X + CEO_Icon_Mobile.Width + 3
                Y: =CEO_Icon_Mobile.Y + 17
                ZIndex: =107

            NoData_Label As label:
                Align: =Align.Center
                Font: =Font.Arial
                Size: =10.5
                Text: ="There is no items."
                Visible: =DealDetailTab = 3 &&  CountRows(proposalDetailLogs) <= 0
                Width: =QT2Tabs_1.AllItemsCount * QT2Tabs_1.TemplateWidth + 20
                X: =proposalDetailLogsItems.X
                Y: =proposalDetailLogsItems.Y - 10
                ZIndex: =108

            input_issuerShortName As text:
                BorderColor: =If(IsBlank(input_issuerShortName.Text) && isSubmited, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                BorderThickness: =0
                Default: =If(IsEmpty(issuerObjectDetail) || IsBlank(issuerObjectDetail), "", First(issuerObjectDetail).short_name)
                DisabledColor: =If(App.Width >= 600, RGBA(166, 166, 166, 1), RGBA(0,0,0,0))
                DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                Fill: =RGBA(0, 0, 0, 0)
                FocusedBorderColor: =RGBA(0, 18, 107, 1)
                FocusedBorderThickness: =2
                Font: =Font.Arial
                Height: =layout_ip_shortName.Height - 2
                HoverFill: =
                OnSelect: |-
                    =Set(issuerChanged, true);
                    If(!IsBlank(issuerObjectDetail) && !IsEmpty(issuerObjectDetail), ClearCollect(issuerObjectDetailLast, issuerObjectDetail));
                    Clear(issuerObjectDetail);
                    Reset(Self);
                    Set(FIIssuerShowDropdown, !FIIssuerShowDropdown);
                PaddingRight: =12
                PaddingTop: =5.27
                PressedBorderColor: =RGBA(0, 18, 107, 1)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =If(App.Width > 600, 10.5, 12)
                Visible: =DealDetailTab = 1
                Width: =layout_ip_shortName.Width - 2
                X: =layout_ip_shortName.X + 1
                Y: =layout_ip_shortName.Y + 1
                ZIndex: =120

            OnlyShowInMobileAndDisabled As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =120

                ShortName_InputMobile As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_issuerName.Height
                    PaddingLeft: =input_issuerName.PaddingLeft
                    PaddingTop: =input_issuerName.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(!IsBlank(proposalInfoEdit) && !issuerChanged, proposalInfoEdit.short_name, IsBlank(issuerObjectDetail), "", First(issuerObjectDetail).short_name)
                    Visible: =App.Width < 600 && DealDetailTab = 1
                    Width: =input_issuerName.Width
                    X: =input_issuerName.X
                    Y: =input_issuerName.Y
                    ZIndex: =109

                Sector_InputMobile As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_sector.Height
                    PaddingLeft: =input_sector.PaddingLeft
                    PaddingTop: =input_sector.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(!IsBlank(proposalInfoEdit) && !issuerChanged, proposalInfoEdit.sector, IsBlank(issuerObjectDetail), "", First(issuerObjectDetail).sector)
                    Visible: =App.Width < 600 && DealDetailTab = 1
                    Width: =input_sector.Width
                    X: =input_sector.X
                    Y: =input_sector.Y
                    ZIndex: =110

                principal_InputMobile As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_prin.Height
                    PaddingLeft: =input_prin.PaddingLeft
                    PaddingRight: =input_prin.PaddingRight
                    PaddingTop: =input_prin.PaddingTop
                    Size: =input_issuerName.Size
                    Text: |-
                        =Text(Value(Substitute(principalValue, ",","")), "[$-en-GB]#,###")
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =input_prin.Width
                    X: =input_prin.X
                    Y: =input_prin.Y
                    ZIndex: =111

                principal_InputMobile_1 As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_limit_aum.Height
                    PaddingBottom: =input_limit_aum.PaddingBottom
                    PaddingLeft: =input_limit_aum.PaddingLeft
                    PaddingRight: =input_limit_aum.PaddingRight
                    PaddingTop: =input_limit_aum.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(IsBlank(proposalInfoEdit), "", If(listAumChanged, "", proposalInfoEdit.percent_aum))
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =input_limit_aum.Width
                    X: =input_limit_aum.X
                    Y: =input_limit_aum.Y
                    ZIndex: =112

                principal_InputMobile_2 As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_interest.Height
                    PaddingBottom: =input_interest.PaddingBottom
                    PaddingLeft: =input_interest.PaddingLeft
                    PaddingRight: =input_interest.PaddingRight
                    PaddingTop: =input_interest.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(IsBlank(proposalInfoEdit), "", If(listInterestChanged, "", proposalInfoEdit.interest))
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =input_interest.Width
                    X: =input_interest.X
                    Y: =input_interest.Y
                    ZIndex: =113

                principal_InputMobile_3 As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_interest_rate.Height
                    PaddingBottom: =input_interest_rate.PaddingBottom
                    PaddingLeft: =input_interest_rate.PaddingLeft
                    PaddingRight: =input_interest_rate.PaddingRight
                    PaddingTop: =input_interest_rate.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(IsBlank(proposalInfoEdit), "0.5", If(listInterest2Changed, "", proposalInfoEdit.interest_rate))
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =input_interest_rate.Width
                    X: =input_interest_rate.X
                    Y: =input_interest_rate.Y
                    ZIndex: =114

                principal_InputMobile_4 As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_term_min.Height
                    PaddingBottom: =input_term_min.PaddingBottom
                    PaddingLeft: =input_term_min.PaddingLeft
                    PaddingRight: =input_term_min.PaddingRight
                    PaddingTop: =input_term_min.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(IsBlank(proposalInfoEdit), "", If(listFromChanged, "", proposalInfoEdit.term_min))
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =input_term_min.Width
                    X: =input_term_min.X
                    Y: =input_term_min.Y
                    ZIndex: =115

                principal_InputMobile_5 As label:
                    Align: =Align.Right
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_term_max.Height
                    PaddingBottom: =input_term_max.PaddingBottom
                    PaddingLeft: =input_term_max.PaddingLeft
                    PaddingRight: =input_term_min.PaddingRight
                    PaddingTop: =input_term_max.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(IsBlank(proposalInfoEdit), "", If(listToChanged, "", proposalInfoEdit.term_max))
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =input_term_max.Width
                    X: =input_term_max.X
                    Y: =input_term_max.Y
                    ZIndex: =116

                principal_InputMobile_6 As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =DateStart_DatePicker_3.Height
                    PaddingBottom: =DateStart_DatePicker_3.PaddingBottom
                    PaddingLeft: =DateStart_DatePicker_3.PaddingLeft
                    PaddingRight: =DateStart_DatePicker_3.PaddingRight
                    PaddingTop: =DateStart_DatePicker_3.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =Text(DateValue(If(IsBlank(proposalInfoEdit), Blank(), proposalInfoEdit.validity_starting_time)), DateStart_DatePicker_3.Format)
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =DateStart_DatePicker_3.Width
                    X: =DateStart_DatePicker_3.X
                    Y: =DateStart_DatePicker_3.Y
                    ZIndex: =117

                principal_InputMobile_7 As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =DateTo_DatePicker_4.Height
                    PaddingBottom: =DateTo_DatePicker_4.PaddingBottom
                    PaddingLeft: =DateTo_DatePicker_4.PaddingLeft
                    PaddingRight: =DateTo_DatePicker_4.PaddingRight
                    PaddingTop: =DateTo_DatePicker_4.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =Text(DateValue(If(IsBlank(proposalInfoEdit), Blank(), proposalInfoEdit.validity_ending_time)), DateStart_DatePicker_3.Format)
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =DateTo_DatePicker_4.Width
                    X: =DateTo_DatePicker_4.X
                    Y: =DateTo_DatePicker_4.Y
                    ZIndex: =118

                principal_InputMobile_8 As label:
                    Color: =RGBA(166, 166, 166, 1)
                    Font: =Font.Arial
                    Height: =input_note.Height
                    PaddingBottom: =input_note.PaddingBottom
                    PaddingLeft: =input_note.PaddingLeft
                    PaddingRight: =input_note.PaddingRight
                    PaddingTop: =input_note.PaddingTop
                    Size: =input_issuerName.Size
                    Text: =If(IsBlank(proposalInfoEdit),"",proposalInfoEdit.note)
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =isDisable && App.Width < 600 && DealDetailTab = 1
                    Width: =input_note.Width
                    X: =input_note.X
                    Y: =input_note.Y
                    ZIndex: =119

            IssuerShorNameChevron As htmlViewer:
                Font: =Font.Arial
                Height: =44
                HtmlText: |-
                    =If(reportYearShowDropdown,
                    "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                    <g clip-path=""url(#clip0_1760_3688)"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                    </g>
                    <defs>
                    <clipPath id=""clip0_1760_3688"">
                    <rect width=""24"" height=""24"" fill=""white""/>
                    </clipPath>
                    </defs>
                    </svg></div>"
                    , "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                    </svg></div>")
                OnSelect: =If(!isDisable, Select(input_issuerShortName))
                PaddingRight: =5.27
                PaddingTop: =5.27
                Size: =11.60
                Visible: =DealDetailTab = 1
                Width: =35
                X: =input_issuerShortName.X + input_issuerShortName.Width - If(App.Width > 800, 40, 30)
                Y: =input_issuerShortName.Y + 5
                ZIndex: =121

            FI_TypeDropdown As button:
                Align: =Align.Left
                BorderColor: =If(reportYearShowDropdown, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderColor: =RGBA(0, 18, 107, 1)
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                Height: =layout_ip_type.Height - 2
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: =Set(FITypeShowDropdown, !FITypeShowDropdown)
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedBorderColor: =
                PressedColor: =
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =FITypeValue
                Visible: =DealDetailTab = 1
                Width: =layout_ip_type.Width - 2
                X: =layout_ip_type.X + 1
                Y: =layout_ip_type.Y + 1
                ZIndex: =122

            FI_TypeChevron As htmlViewer:
                Font: =Font.Arial
                Height: =44
                HtmlText: |-
                    =If(reportYearShowDropdown,
                    "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                    <g clip-path=""url(#clip0_1760_3688)"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                    </g>
                    <defs>
                    <clipPath id=""clip0_1760_3688"">
                    <rect width=""24"" height=""24"" fill=""white""/>
                    </clipPath>
                    </defs>
                    </svg></div>"
                    , "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                    </svg></div>")
                OnSelect: =If(!isDisable, Select(FI_TypeDropdown))
                PaddingRight: =5.27
                PaddingTop: =5.27
                Size: =11.60
                Visible: =DealDetailTab = 1
                Width: =35
                X: =FI_TypeDropdown.X + FI_TypeDropdown.Width - If(App.Width > 800, 40, 30)
                Y: =FI_TypeDropdown.Y + 5
                ZIndex: =123

            LimitOnAUMDropdown As button:
                Align: =Align.Left
                BorderColor: =If(reportYearShowDropdown, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderColor: =RGBA(0, 18, 107, 1)
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                Height: =layout_ip_aum_limit_1.Height - 2
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: =Set(FILimitShowDropdown, !FILimitShowDropdown)
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedBorderColor: =
                PressedColor: =
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =FILimitValue
                Visible: =DealDetailTab = 1
                Width: =layout_ip_aum_limit_1.Width - 2
                X: =layout_ip_aum_limit_1.X + 1
                Y: =layout_ip_aum_limit_1.Y + 1
                ZIndex: =124

            FI_LimitOnAUMChevron As htmlViewer:
                Font: =Font.Arial
                Height: =44
                HtmlText: |-
                    =If(reportYearShowDropdown,
                    "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                    <g clip-path=""url(#clip0_1760_3688)"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                    </g>
                    <defs>
                    <clipPath id=""clip0_1760_3688"">
                    <rect width=""24"" height=""24"" fill=""white""/>
                    </clipPath>
                    </defs>
                    </svg></div>"
                    , "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                    </svg></div>")
                OnSelect: =If(!isDisable, Select(LimitOnAUMDropdown))
                PaddingRight: =5.27
                PaddingTop: =5.27
                Size: =11.60
                Visible: =DealDetailTab = 1
                Width: =35
                X: =LimitOnAUMDropdown.X + LimitOnAUMDropdown.Width - If(App.Width > 800, 40, 30)
                Y: =LimitOnAUMDropdown.Y + 5
                ZIndex: =125

            PaymentFrequencyDropdown As button:
                Align: =Align.Left
                BorderColor: =If(reportYearShowDropdown, RGBA(0, 18, 107, 1), ColorFade(Self.Fill, -15%))
                BorderThickness: =0
                Color: =RGBA(82, 82, 82, 1)
                DisplayMode: =If(isDisable, DisplayMode.Disabled, DisplayMode.Edit)
                Fill: =RGBA(255, 255, 255, 1)
                FocusedBorderColor: =RGBA(0, 18, 107, 1)
                FocusedBorderThickness: =0
                Font: =Font.Arial
                FontWeight: =FontWeight.Normal
                Height: =layout_ip_payment.Height - 2
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =RGBA(241, 244, 249, 1)
                OnSelect: =Set(FIPFShowDropdown, !FIPFShowDropdown)
                PaddingLeft: =15
                PaddingRight: =5.27
                PaddingTop: =5.27
                PressedBorderColor: =
                PressedColor: =
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =10.5
                Text: =FIPFValue
                Visible: =DealDetailTab = 1
                Width: =layout_ip_payment.Width - 2.5
                X: =layout_ip_payment.X + 1
                Y: =layout_ip_payment.Y + 1
                ZIndex: =126

            PaymentFrequencyChevron As htmlViewer:
                Font: =Font.Arial
                Height: =44
                HtmlText: |-
                    =If(reportYearShowDropdown,
                    "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" xmlns=""http://www.w3.org/2000/svg"">
                    <g clip-path=""url(#clip0_1760_3688)"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M11.2682 8.62347C11.4558 8.436 11.7101 8.33068 11.9752 8.33068C12.2404 8.33068 12.4947 8.436 12.6822 8.62347L18.3392 14.2805C18.4348 14.3727 18.5109 14.4831 18.5633 14.6051C18.6158 14.7271 18.6433 14.8583 18.6445 14.9911C18.6456 15.1238 18.6203 15.2555 18.5701 15.3784C18.5198 15.5013 18.4455 15.613 18.3516 15.7069C18.2577 15.8008 18.1461 15.875 18.0232 15.9253C17.9003 15.9756 17.7686 16.0009 17.6358 15.9997C17.5031 15.9986 17.3718 15.971 17.2498 15.9186C17.1278 15.8662 17.0175 15.79 16.9252 15.6945L11.9752 10.7445L7.02524 15.6945C6.83664 15.8766 6.58404 15.9774 6.32184 15.9751C6.05965 15.9729 5.80883 15.8677 5.62342 15.6823C5.43802 15.4969 5.33285 15.2461 5.33057 14.9839C5.32829 14.7217 5.42908 14.4691 5.61124 14.2805L11.2682 8.62347Z"" fill=""#525252""/>
                    </g>
                    <defs>
                    <clipPath id=""clip0_1760_3688"">
                    <rect width=""24"" height=""24"" fill=""white""/>
                    </clipPath>
                    </defs>
                    </svg></div>"
                    , "<div style="""&If(!isDisable, "cursor: pointer")&"""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                    <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M12.7069 15.7071C12.5193 15.8946 12.265 15.9999 11.9999 15.9999C11.7347 15.9999 11.4804 15.8946 11.2929 15.7071L5.63585 10.0501C5.54034 9.95785 5.46416 9.84751 5.41175 9.7255C5.35934 9.6035 5.33176 9.47228 5.3306 9.3395C5.32945 9.20672 5.35475 9.07504 5.40503 8.95215C5.45531 8.82925 5.52957 8.7176 5.62346 8.6237C5.71735 8.52981 5.829 8.45556 5.9519 8.40528C6.0748 8.355 6.20648 8.32969 6.33926 8.33085C6.47204 8.332 6.60325 8.35959 6.72526 8.412C6.84726 8.46441 6.95761 8.54059 7.04985 8.6361L11.9999 13.5861L16.9499 8.6361C17.1385 8.45394 17.3911 8.35315 17.6533 8.35542C17.9155 8.3577 18.1663 8.46287 18.3517 8.64828C18.5371 8.83369 18.6423 9.0845 18.6445 9.3467C18.6468 9.60889 18.546 9.8615 18.3639 10.0501L12.7069 15.7071Z"" fill=""#525252""/>
                    </svg></div>")
                OnSelect: =If(!isDisable, Select(PaymentFrequencyDropdown))
                PaddingRight: =5.27
                PaddingTop: =5.27
                Size: =11.60
                Visible: =DealDetailTab = 1
                Width: =35
                X: =PaymentFrequencyDropdown.X + PaymentFrequencyDropdown.Width - If(App.Width > 800, 40, 30)
                Y: =PaymentFrequencyDropdown.Y + 5
                ZIndex: =127

            SearchCloseDropdown_7 As rectangle:
                Fill: =RGBA(255, 255, 255, 0)
                Height: =App.Height
                OnSelect: |-
                    =Set(FIIssuerShowDropdown, false);
                    Set(FITypeShowDropdown, false);
                    Set(FILimitShowDropdown, false);
                    Set(FIPFShowDropdown, false);
                    If(IsEmpty(issuerObjectDetail) || IsBlank(issuerObjectDetail), ClearCollect(issuerObjectDetail, issuerObjectDetailLast));
                    Clear(issuerObjectDetailLast);
                    // Reset(input_issuerShortName);
                Visible: =FIIssuerShowDropdown || FITypeShowDropdown || FILimitShowDropdown || FIPFShowDropdown
                Width: =Parent.Width
                ZIndex: =128

            "IssuerItems As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =0.5
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                Items: |-
                    =If(IsEmpty(Filter(issuersListDropdown, Text(input_issuerShortName.Text) in Value && !IsBlank(Value))),
                    [{Value: "Empty data.", issuer_name: "Empty data.", short_name: "Empty data."}],
                    Filter(issuersListDropdown, Text(input_issuerShortName.Text) in Value && !IsBlank(Value)))
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =FIIssuerShowDropdown
                Width: =layout_ip_shortName.Width
                X: =layout_ip_shortName.X
                Y: =layout_ip_shortName.Y + 45
                ZIndex: =129

                Button6_30 As button:
                    Align: =Align.Left
                    BorderThickness: =0
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: |-
                        =If(ThisItem.Value = "Empty data.",
                            Select(SearchCloseDropdown_7);
                            Reset(input_issuerShortName);,
                            ClearCollect(issuerObjectDetail, Filter(issuersList, ThisItem.Value = short_name));
                            Set(FIIssuerShowDropdown, false);
                        );
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedColor: =Self.Color
                    PressedFill: =
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =10.5
                    Text: =ThisItem.Value
                    Width: =Parent.Width
                    X: =0.00
                    ZIndex: =1

            "FI_TypeItems As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =0.5
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                Items: =["Term Deposit", "Certificate of Deposit", "Bond", "Sub-Debt", "Others"]
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =FITypeShowDropdown
                Width: =FI_TypeDropdown.Width
                X: =FI_TypeDropdown.X
                Y: =FI_TypeDropdown.Y + 45
                ZIndex: =130

                Button6_71 As button:
                    Align: =Align.Left
                    BorderThickness: =0
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =If(FITypeValue = ThisItem.Value, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: |-
                        =Set(FITypeValue, ThisItem.Value);
                        Set(FITypeShowDropdown, false);
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedColor: =Self.Color
                    PressedFill: =
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =10.5
                    Text: =ThisItem.Value
                    Width: =Parent.Width
                    X: =0.00
                    ZIndex: =1

            "FI_LimitOnAUMItems As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =0.5
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                Items: =["Within Limit", "Over Limit"]
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =FILimitShowDropdown
                Width: =LimitOnAUMDropdown.Width
                X: =LimitOnAUMDropdown.X
                Y: =LimitOnAUMDropdown.Y + 45
                ZIndex: =131

                Button6_72 As button:
                    Align: =Align.Left
                    BorderThickness: =0
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =If(FILimitValue = ThisItem.Value, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: |-
                        =Set(FILimitValue, ThisItem.Value);
                        Set(FILimitShowDropdown, false);
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedColor: =Self.Color
                    PressedFill: =
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =10.5
                    Text: =ThisItem.Value
                    Width: =Parent.Width
                    X: =0.00
                    ZIndex: =1

            "FI_PaymentFrequencyItems As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(191, 191, 192, 1)
                BorderThickness: =0.5
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Min(Self.AllItemsCount, 4) * Self.TemplateHeight + 10
                Items: =["Monthly", "Quarterly", "Semi-annually", "Annually", "At maturity", "Others"]
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =FIPFShowDropdown
                Width: =PaymentFrequencyDropdown.Width
                X: =PaymentFrequencyDropdown.X
                Y: =PaymentFrequencyDropdown.Y + 45
                ZIndex: =132

                Button6_73 As button:
                    Align: =Align.Left
                    BorderThickness: =0
                    Color: =RGBA(82, 82, 82, 1)
                    Fill: =If(FILimitValue = ThisItem.Value, RGBA(241, 244, 249, 1), RGBA(0, 0, 0, 0))
                    FocusedBorderThickness: =0
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Normal
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(241, 244, 249, 1)
                    OnSelect: |-
                        =Set(FIPFValue, ThisItem.Value);
                        Set(FIPFShowDropdown, false);
                    PaddingLeft: =15
                    PaddingRight: =5.27
                    PaddingTop: =5.27
                    PressedColor: =Self.Color
                    PressedFill: =
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =10.5
                    Text: =ThisItem.Value
                    Width: =Parent.Width
                    X: =0.00
                    ZIndex: =1

    DetailProposalPopupGroup As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =14

        DetailProposalPopupBack As rectangle:
            Fill: =RGBA(0.3, 0.3, 0.3, 0.3)
            Height: =App.Height
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =App.Width
            ZIndex: =25

        DetailProposalPopupBg As htmlViewer:
            Font: =Font.Arial
            Height: =330
            HtmlText: |-
                ="<div style='width: calc(100% - 10px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingRight: =5.00
            PaddingTop: =5.00
            Size: =11.00
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =If(Parent.Width > 600, 600, Parent.Width)
            X: =If(Parent.Width > 600, App.Width / 2 - Self.Width / 2, 0)
            Y: =(App.Height - Self.Height) / 2
            ZIndex: =26

        DetailProposal_Title As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Height: =43
            LineHeight: =2.2
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =12
            Text: =If(showRejectPopup, "Reject this proposal?", showRevisePopup, "Revise this proposal?", "Approve this proposal?")
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =299
            X: =DetailProposalPopupBg.X + 20
            Y: =DetailProposalPopupBg.Y + 10
            ZIndex: =27

        DetailProposalName_Title As label:
            Font: =Font.Arial
            Height: =43
            LineHeight: =2.2
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =10.5
            Text: ="Add your comment"
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =159
            X: =DetailProposal_Title.X
            Y: =DetailProposal_Title.Y + DetailProposal_Title.Height
            ZIndex: =28

        DetailProposalReason_Input As text:
            BorderColor: |-
                =// If(isSummitedPopup && Len(Self.Text) = 0, RGBA(214, 27, 27, 1), RGBA(191, 191, 192, 1))
                RGBA(191, 191, 192, 1)
            BorderThickness: =1
            Default: =
            FocusedBorderColor: =Self.HoverBorderColor
            FocusedBorderThickness: =1
            Font: =Font.Arial
            Height: =If(App.Width > 600, 140, 120)
            HintText: ="Input your comment."
            HoverFill: =RGBA(186, 202, 226, 0)
            Mode: =TextMode.MultiLine
            Size: =If(App.Width > 600, 10.5, 12)
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =DetailProposalPopupBg.Width - 50
            X: =DetailProposalName_Title.X
            Y: =DetailProposalName_Title.Y + DetailProposalName_Title.Height
            ZIndex: =29

        DetailProposalSubmitButton As button:
            BorderThickness: =0
            Fill: =If(showRejectPopup, RGBA(214, 27, 27, 1), showRevisePopup, RGBA(214, 117, 27, 1), RGBA(17, 79, 144, 1))
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(isLoading, true);
                Set(statusHandle, "STATUS_EXIST");
                Switch(
                    Self.Text,
                    "Reject",
                    If(
                        // !IsBlank(DetailProposalReason_Input.Text),
                        true,
                        If(
                            proposalInfoEdit.proposal_status in [
                                "PENDING_REVIEW_BY_INVESTMENT_COMMITEE",
                                "APPROVED"
                            ],
                            // Hoi dong bo phieu
                          
                            Set(statusHandle,'TVS->ApproveRejectInvestmentBoard-V2'.Run(
                                resKeyOpenAll.open,
                                resKeyOpenAll.close,
                                currenUserV2.id,
                                "REJECT",
                                proposalInfoEdit.id,
                                proposalInfoEdit.principal,
                                Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")),
                                If(IsBlank(DetailProposalReason_Input.Text), "", DetailProposalReason_Input.Text), envDEV,envTEST, envUAT1, envUAT2
                            ).status);
                            Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
                            Set(ShowNotificationCheck, If(statusHandle = "STATUS_EXIST", "SYSTEM_ERROR_APPROVED", "REJECTED_SUCCESS"));
                            Navigate(TableProposalQT2);
                            ,
                             Set(statusHandle,'TVS->AproveReject_Proposal-V1'.Run(
                                proposalInfoEdit.id,
                                proposalInfoEdit.proposal_status,
                                resKeyOpenAll.open,
                                resKeyOpenAll.close,
                                If(IsBlank(DetailProposalReason_Input.Text), "", DetailProposalReason_Input.Text),
                                currenUserV2.id,
                                proposalInfoEdit.principal,
                                Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")),
                                "REJECT",envDEV,envTEST, envUAT1, envUAT2
                            ).status);
                            Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
                            Set(ShowNotificationCheck, If(statusHandle = "STATUS_EXIST", "SYSTEM_ERROR_APPROVED", "REJECTED_SUCCESS"));
                            Navigate(TableProposalQT2);
                        ),
                        false
                    );
                    ,
                    "Revise",
                    If(
                        // !IsBlank(DetailProposalReason_Input.Text),
                        true,
                        Set(statusHandle, 'TVS->AproveReject_Proposal-V1'.Run(
                            proposalInfoEdit.id,
                                proposalInfoEdit.proposal_status,
                                resKeyOpenAll.open,
                                resKeyOpenAll.close,
                                If(IsBlank(DetailProposalReason_Input.Text), "", DetailProposalReason_Input.Text),
                                currenUserV2.id,
                                proposalInfoEdit.principal,
                                Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")),
                                "REVISE",envDEV,envTEST, envUAT1, envUAT2
                        ).status);
                        Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
                        Set(ShowNotificationCheck, If(statusHandle = "STATUS_EXIST", "SYSTEM_ERROR_APPROVED", "REVISED_SUCCESS"));
                        Navigate(TableProposalQT2);
                        ,
                        false
                    );
                    ,
                    "Approve",
                    If(
                        proposalInfoEdit.proposal_status in ["PENDING_REVIEW_BY_CEO"] && Value(proposalInfoEdit.principal) <= 1000 && Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")) = "WITHIN_LIMIT",
                        // Update Status
                        Set(statusHandle, 'TVS->AproveReject_Proposal-V1'.Run(
                            proposalInfoEdit.id,
                                proposalInfoEdit.proposal_status,
                                resKeyOpenAll.open,
                                resKeyOpenAll.close,
                                If(IsBlank(DetailProposalReason_Input.Text), "", DetailProposalReason_Input.Text),
                                currenUserV2.id,
                                proposalInfoEdit.principal,
                                Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")),
                                "APPROVE",envDEV,envTEST, envUAT1, envUAT2
                        ).status);
                        Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
                        Set(ShowNotificationCheck, If(statusHandle = "STATUS_EXIST", "SYSTEM_ERROR_APPROVED", "APPROVED_SUCCESS"));
                        Navigate(TableProposalQT2);
                        ,
                        proposalInfoEdit.proposal_status in ["PENDING_REVIEW_BY_INVESTMENT_COMMITEE", "APPROVED"],
                        // Hoi dong bo phieu
                         Set(statusHandle,'TVS->ApproveRejectInvestmentBoard-V2'.Run(
                            resKeyOpenAll.open,
                            resKeyOpenAll.close,
                            currenUserV2.id,
                            "APPROVED",
                            proposalInfoEdit.id,
                            proposalInfoEdit.principal,
                            Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")),
                            If(
                                IsBlank(DetailProposalReason_Input.Text),
                                "",
                                DetailProposalReason_Input.Text
                            ),envDEV,envTEST, envUAT1, envUAT2
                        ).status);
                        Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
                        Set(ShowNotificationCheck, If(statusHandle = "STATUS_EXIST", "SYSTEM_ERROR_APPROVED", "APPROVED_SUCCESS"));
                        Navigate(TableProposalQT2);
                        ,
                        // Update Status
                         Set(statusHandle,'TVS->AproveReject_Proposal-V1'.Run(
                            proposalInfoEdit.id,
                                proposalInfoEdit.proposal_status,
                                resKeyOpenAll.open,
                                resKeyOpenAll.close,
                                If(IsBlank(DetailProposalReason_Input.Text), "", DetailProposalReason_Input.Text),
                                currenUserV2.id,
                                proposalInfoEdit.principal,
                                Upper(Substitute(proposalInfoEdit.limit_on_aum, " ", "_")),
                                "APPROVE",envDEV,envTEST, envUAT1, envUAT2
                        ).status);
                        Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
                        Set(ShowNotificationCheck, If(statusHandle = "STATUS_EXIST", "SYSTEM_ERROR_APPROVED", "APPROVED_SUCCESS"));
                        Navigate(TableProposalQT2);
                    )
                );
                Set(linkToItem, "<a href='" & linkToApp & "?screen=detail-proposal&action=approve-proposal&proposalId=" & proposalInfoEdit.id & "'>Link to item</a>");
                //If(statusHandle = "STATUS_EXIST", Notify("Status is exist",NotificationType.Error),
                //'TVS->SendNotiEmailProposal'.Run(resKeyOpenAll.open,resKeyOpenAll.close,statusHandle,proposalInfoEdit.id,currenUserV2.id,currenUserV2.name,//proposalInfoEdit.proposal_name,proposalInfoEdit.short_name,proposalInfoEdit.principal,proposalInfoEdit.type, linkToItem,proposalInfoEdit.proposal_status, env));
                If(statusHandle = "STATUS_EXIST","",'TVS-SendNotiEmailProposal-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,statusHandle,
                proposalInfoEdit.id,currenUserV2.id,currenUserV2.name,proposalInfoEdit.proposal_status,proposalInfoEdit.short_name,Text(Value(proposalInfoEdit.principal), "[$-en-GB]#,###"),proposalInfoEdit.type,linkToItem,envDEV,envTEST, envUAT1, envUAT2,proposalInfoEdit.entity,appProperty, emailFromConfix));
                Set(isSummitedPopup, true);
                Set(isLoading, false);
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            PressedColor: =Self.Color 
            PressedFill: =Self.Fill
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: =If(showRejectPopup, "Reject", showRevisePopup, "Revise", "Approve")
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =120
            X: =DetailProposalPopupBg.X + DetailProposalPopupBg.Width - 150
            Y: =DetailProposalPopupBg.Y + DetailProposalPopupBg.Height - 70
            ZIndex: =30

        DetailProposalCancelButton As button:
            BorderColor: =Self.Color
            BorderThickness: =1
            Color: =RGBA(139, 139, 139, 1)
            DisabledFill: =Self.Fill
            Fill: =RGBA(255, 255, 255, 1)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            Height: =44
            HoverBorderColor: =Self.BorderColor
            HoverColor: =Self.Color
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: =Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            PressedBorderColor: =Self.BorderColor
            PressedColor: =Self.Color 
            PressedFill: =Self.Fill
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="Cancel"
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =120
            X: =DetailProposalSubmitButton.X - 130
            Y: =DetailProposalPopupBg.Y + DetailProposalPopupBg.Height - 70
            ZIndex: =31

        DetailProposalPopupCloseIcon As icon.Cancel:
            Color: =RGBA(0, 0, 0, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: =Set(showRejectPopup, false); Set(showApprovePopup, false); Set(showRevisePopup, false);
            Visible: =showRejectPopup || showApprovePopup || showRevisePopup
            Width: =20
            X: =DetailProposalPopupBg.X + DetailProposalPopupBg.Width - 50
            Y: =DetailProposal_Title.Y + 10
            ZIndex: =32

    Header_22 As Header:
        ZIndex: =19

    MenuItemsSideBar_18 As MenuItemsSideBar:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_18.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_18.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_18.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_18.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_18.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_18.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_18.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_18.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_18.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_18.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_18.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_18.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_18.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_18.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_18.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_18.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_18.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_18.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_18.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoiation&A",
                            MenuIcon: MenuItemsSideBar_18.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_18.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =MobileShowMenu
        Width: =If(App.Width > 800, 240, App.Width)
        Y: =56
        ZIndex: =20

    MenuItemsSideBar_Small_3 As MenuItemsSideBar_Small:
        Height: =Parent.Height - Self.Y
        MenuItems: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: MenuItemsSideBar_Small_3.IconDasboard,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 1,
                    MenuIconDropDown: MenuItemsSideBar_Small_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_3.IconDropUp,
                    Submenu: []
                },
                {
                    MenuLabel: "Portal",
                    MenuIcon: MenuItemsSideBar_Small_3.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 2,
                    MenuIconDropDown: MenuItemsSideBar_Small_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "'Information of non-listed compan",
                            MenuIcon: MenuItemsSideBar_Small_3.IconDasboard,
                            MenuScreenNavigate: Portal,
                            MenuID: 2.1
                        },
                        {
                            MenuLabel: "Comunication Records (Minutes of meeting)",
                            MenuIcon: MenuItemsSideBar_Small_3.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.2
                        },
                        {
                            MenuLabel: "Investment Research",
                            MenuIcon: MenuItemsSideBar_Small_3.IconDasboard,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 2.3
                        }
                    )
                },
                {
                    MenuLabel: "Business process",
                    MenuIcon: MenuItemsSideBar_Small_3.IconFile,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 3,
                    MenuIconDropDown: MenuItemsSideBar_Small_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "M&A",
                            MenuIcon: MenuItemsSideBar_Small_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.1
                        },
                        {
                            MenuLabel: "Fixed Income Investment ProcessA",
                            MenuIcon: MenuItemsSideBar_Small_3.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 3.2
                        },
                        {
                            MenuLabel: "Margin limit approvalprocess (ad-hoc)",
                            MenuIcon: MenuItemsSideBar_Small_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.3
                        },
                        {
                            MenuLabel: "PEVC",
                            MenuIcon: MenuItemsSideBar_Small_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 3.4
                        }
                    )
                },
                {
                    MenuLabel: "Admin",
                    MenuIcon: MenuItemsSideBar_Small_3.IconSettings,
                    MenuScreenNavigate: Dashboard,
                    MenuID: 4,
                    MenuIconDropDown: MenuItemsSideBar_Small_3.IconDropDown,
                    MenuIconDropUp: MenuItemsSideBar_Small_3.IconDropUp,
                    Submenu: Table(
                        {
                            MenuLabel: "Manager Authoiation&A",
                            MenuIcon: MenuItemsSideBar_Small_3.IconFile,
                            MenuScreenNavigate: Dashboard,
                            MenuID: 4.1
                        },
                        {
                            MenuLabel: "Decentralization",
                            MenuIcon: MenuItemsSideBar_Small_3.IconFile,
                            MenuScreenNavigate: TableProposalQT2,
                            MenuID: 4.2
                        }
                    )
                }
            )
        Visible: =App.Width > 800 && !MobileShowMenu
        Y: =56
        ZIndex: =21

    Timer1_11 As timer:
        Duration: =3000
        Font: =Font.Arial
        OnTimerEnd: |-
            =Reset(Timer1_11); UpdateContext({ShowNotification: false});
            Set(IsSuccess, false);
        Start: =ShowNotification
        Visible: =false
        X: =1135
        Y: =592
        ZIndex: =22

    NotificationBox_11 As button:
        Align: =Align.Left
        BorderColor: =RGBA(214, 27, 27, 1)
        BorderThickness: =0
        DisabledFill: =Self.Fill
        Fill: =If(IsSuccess, RGBA(40, 167, 69, 1), RGBA(209, 50, 50, 1))
        FocusedBorderThickness: =0
        Font: =Font.Arial
        Height: =50
        HoverBorderColor: =Self.Fill
        HoverFill: =Self.Fill
        PaddingLeft: =15
        PaddingRight: =30
        PressedColor: =RGBA(255, 255, 255, 1)
        PressedFill: =Self.Fill
        RadiusBottomLeft: =5
        RadiusBottomRight: =5
        RadiusTopLeft: =5
        RadiusTopRight: =5
        Size: =10.5
        Text: =NoticationText
        Visible: =Timer1_11.Value <> 0
        Width: =320
        X: =App.Width - Self.Width - 2
        Y: =25
        ZIndex: =23

    CloseNotiIcon_11 As icon.Cancel:
        Color: =RGBA(255, 255, 255, 1)
        Height: =15
        Icon: =Icon.Cancel
        OnSelect: =Reset(Timer1_11)
        Visible: =NotificationBox_11.Visible
        Width: =15
        X: =NotificationBox_11.X + NotificationBox_11.Width - 25
        Y: =NotificationBox_11.Y + 17.5
        ZIndex: =24

    DetailProposalName_Title_1 As label:
        Color: =RGBA(255, 0, 0, 1)
        Font: =Font.Arial
        Height: =20
        LineHeight: =2.2
        PaddingBottom: =0
        PaddingLeft: =0
        PaddingRight: =0
        PaddingTop: =0
        Size: =10.5
        Text: =LabelRequired.Text
        Visible: =(showRejectPopup || showApprovePopup || showRevisePopup) && (isSummitedPopup && Len(DetailProposalReason_Input.Text) = 0)
        Width: =159
        X: =DetailProposalReason_Input.X
        Y: =DetailProposalReason_Input.Y + DetailProposalReason_Input.Height
        ZIndex: =33

    SubHeaderGroup As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =37

        SubHeaderBg As rectangle:
            BorderColor: =RGBA(255, 255, 255, 1)
            Fill: =RGBA(255, 255, 255, 1)
            Height: =56
            Width: =Parent.Width - If(Parent.Width > 800, If(MobileShowMenu, 240, 50), 0)
            X: =If(Parent.Width > 800, If(MobileShowMenu, 240, 50), 0)
            Y: =56
            ZIndex: =2

        IconBack As icon.ArrowLeft:
            Color: =RGBA(0, 0, 0, 1)
            Height: =If(App.Width > 600, 25, 15)
            Icon: =If(App.Width > 600, Icon.ArrowLeft, Icon.ChevronLeft)
            OnSelect: |-
                =Reset(input_sector);
                Reset(input_issuerName);
                Reset(input_prin);
                Reset(input_limit_aum);
                Reset(input_interest);
                Reset(input_interest_rate);
                Reset(input_term_min);
                Reset(input_term_max);
                Reset(DateStart_DatePicker_3);
                Reset(DateTo_DatePicker_4);
                Reset(input_note);
                
                Clear(issuerObjectDetail);
                Set(FITypeValue, Blank());
                Set(FILimitValue, Blank());
                Set(FIPFValue, Blank());
                Navigate(TableProposalQT2, ScreenTransition.Fade);
            Width: =If(App.Width > 600, 25, 25)
            X: =SubHeaderBg.X + 5
            Y: =SubHeaderBg.Y + If(App.Width > 600, 16, 20)
            ZIndex: =3

        LabelTitle As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Height: =19
            Size: =If(App.Width > 600, 10.5, 9)
            Text: =If(IsBlank(proposalInfoEdit), If(IsBlank(IdCreateProposal), "",IdCreateProposal & " - "), proposalInfoEdit.id & " - ") & If(IsBlank(proposalInfoEdit), CreateProposalName_Input.Text, proposalInfoEdit.proposal_name)
            Tooltip: =If(Len(Self.Text) > 100, Self.Text, "")
            Width: =If(IsBlank(proposalInfoEdit) || proposalInfoEdit.proposal_status in ["DRAFT", "PARTIALLY_REJECTED"], btnDelete.X, btnReject.X) - Self.X - 10
            Wrap: =false
            X: =If(App.Width > 600, IconBack.X + IconBack.Width + 10, BackMobile_Label.X + BackMobile_Label.Width + 5)
            Y: =IconBack.Y - If(App.Width > 600, 5, 8)
            ZIndex: =4

        LabelSubTitle As label:
            Font: =Font.Arial
            Height: =19
            Size: =If(App.Width > 600, 10.5, 9)
            Text: |-
                =If(App.Width > 600, "Last edited user: ", "")& If(IsBlank(proposalInfoEdit), currenUserV2.name
                , proposalInfoEdit.write_by) &" "& If(IsBlank(proposalInfoEdit), Text(Now(), "dd/mm/yyyy hh:mm:ss"), Text(DateTimeValue(proposalInfoEdit.write_date),"dd/mm/yyyy hh:mm:ss")) &""
            Width: =LabelTitle.Width
            Wrap: =false
            X: =LabelTitle.X
            Y: =LabelTitle.Y + LabelTitle.Height
            ZIndex: =5

        SaveButton As htmlViewer:
            BorderStyle: =BorderStyle.Solid
            Font: =Font.Arial
            Height: =50
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; border: 1px solid black; border-radius: 5px; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                  <path d=""M21 7V19C21 19.55 20.804 20.021 20.412 20.413C20.02 20.805 19.5493 21.0007 19 21H5C4.45 21 3.979 20.804 3.587 20.412C3.195 20.02 2.99934 19.5493 3 19V5C3 4.45 3.196 3.979 3.588 3.587C3.98 3.195 4.45067 2.99934 5 3H17L21 7ZM19 7.85L16.15 5H5V19H19V7.85ZM12 18C12.8333 18 13.5417 17.7083 14.125 17.125C14.7083 16.5417 15 15.8333 15 15C15 14.1667 14.7083 13.4583 14.125 12.875C13.5417 12.2917 12.8333 12 12 12C11.1667 12 10.4583 12.2917 9.875 12.875C9.29167 13.4583 9 14.1667 9 15C9 15.8333 9.29167 16.5417 9.875 17.125C10.4583 17.7083 11.1667 18 12 18ZM6 10H15V6H6V10ZM5 7.85V19V5V7.85Z"" fill=""#525252""/>
                </svg></div>"
            OnSelect: |-
                =// Select Upload file
                Clear(listAttachmentInsert);
                Clear(listAttachmentDelete);
                ForAll(AttachFile_1.Attachments As att,
                    Collect(colAttachments,
                        {Id:"",
                        Date: nowV1,
                        By: User().FullName,
                        Name: att.Name,
                        NameGroup: att.Name,
                        Value: att.Value,
                        File: {file: {contentBytes: att.Value,name: att.Name}},
                        IsDeleted:false,
                        Size: "",
                        FilePath: "",
                        Container: ""
                        }
                    )
                );
                //check duplicate
                ClearCollect(GroupedItems,GroupBy(colAttachments,NameGroup,Group));
                //Clear(listAttachFile);
                ForAll(GroupedItems,Collect(listAttachFileNonPrefix,First(ThisRecord.Group)););
                UpdateIf(listAttachFileNonPrefix, true, {Name: Text(Now(), "ddmmyyyy_hhmmss_") & Name});
                UpdateIf(listAttachFileNonPrefix, true, {FilePath: urlUploadFixInHead & Name, Container: bucketFixInAttach});
                Collect(listAttachFile,listAttachFileNonPrefix);
                
                // Select Sav
                Set(isLoading, true);
                UpdateContext({ShowNotification: false});
                If(IsBlank(userInput),Set(userInput,currenUserV2.id));
                ForAll(listAttachFileNonPrefix,
                If(IsBlank(ThisRecord.Id)&&!ThisRecord.IsDeleted,
                      Collect(listAttachmentInsert,{
                          id:"",
                          file_name:If(IsBlank(ThisRecord.Name),"",ThisRecord.Name),
                          created_date:If(IsBlank(ThisRecord.Date),"",ThisRecord.Date),
                          created_by:If(IsBlank(ThisRecord.By),"",ThisRecord.By),
                          proposal_id:If(IsBlank(proposalInfoEdit),"",proposalInfoEdit.id),
                          FilePath: If(IsBlank(ThisRecord.FilePath),"",ThisRecord.FilePath),
                          Container: If(IsBlank(ThisRecord.Container),"",ThisRecord.Container)
                      });
                ));
                ForAll(listAttachDelete,
                      Collect(listAttachmentDelete,{
                          id:ThisRecord.Id,
                          file_name: If(IsBlank(ThisRecord.Name),"",ThisRecord.Name),
                          created_date:If(IsBlank(ThisRecord.Date),"",ThisRecord.Date),
                          created_by:If(IsBlank(ThisRecord.By),"",ThisRecord.By),
                          proposal_id:If(IsBlank(proposalInfoEdit),"",proposalInfoEdit.id)
                      });
                );
                Clear(listAttachFileNonPrefix);
                Clear(colAttachments);
                // Clear attachment files
                Reset(AttachFile_1);
                
                
                Set(proposalInsertReq,
                  {
                    proposal_id: If(IsBlank(IdCreateProposal), "",IdCreateProposal),
                    issuer: If(IsBlank(input_issuerName.Text), "", input_issuerName.Text),
                    short_name: If(IsBlank(input_issuerShortName.Text), "", Text(input_issuerShortName.Text)),
                    proposal_name: If(IsBlank(proposalInfoEdit),CreateProposalName_Input.Text, If(IsBlank(proposalInfoEdit.proposal_name),"""""",proposalInfoEdit.proposal_name)),
                    type: If(IsBlank(FI_TypeDropdown.Text), "", Text(FI_TypeDropdown.Text)),
                    sector: If(IsBlank(input_sector.Text), "", input_sector.Text),
                    principal: If(IsBlank(input_prin.Text), "",  Substitute(Substitute(input_prin.Text,".",""),",","")),
                    interest: If(IsBlank(input_interest.Text), "", Substitute(Value(input_interest.Text), ",", "")),
                    interest_rate: If(IsBlank(input_interest_rate.Text), "", Substitute(Value(input_interest_rate.Text), ",", "")),
                    term_min: If(IsBlank(input_term_min.Text), "", Text(Value(input_term_min.Text))),
                    term_max: If(IsBlank(input_term_max.Text), "", Text(Value(input_term_max.Text))),
                    payment_frequency: If(IsBlank(PaymentFrequencyDropdown.Text), "", Text(PaymentFrequencyDropdown.Text)),
                    validity_starting_time: If(IsBlank(DateStart_DatePicker_3.SelectedDate), "", Text(DateStart_DatePicker_3.SelectedDate,"yyyy-mm-dd hh:mm:ss")),
                    validity_ending_time: If(IsBlank(DateTo_DatePicker_4.SelectedDate), "", Text(DateTo_DatePicker_4.SelectedDate,"yyyy-mm-dd hh:mm:ss")),
                    limit_on_aum: If(IsBlank(LimitOnAUMDropdown.Text), "", Substitute(LimitOnAUMDropdown.Text, ",", "")),
                    percent_aum: If(IsBlank(input_limit_aum.Text), "", Substitute(Value(input_limit_aum.Text), ",", "")),
                    entity: If(IsBlank(proposalInfoEdit), Text(PaymentFrequencyDropdown_1.Text), If(IsBlank(proposalInfoEdit.entity), """""", proposalInfoEdit.entity)),
                    note: If(IsBlank(input_note.Text), "", input_note.Text),
                    created_by: userInput,
                    write_by: userInput,
                    write_date: Text(Now(), "yyyy-mm-dd hh:mm:ss"),
                    listAttachmentInsert: UpdateIf(listAttachmentInsert, true, {FilePath: urlUploadFixInHead & file_name, Container: bucketFixInAttach}),
                    listAttachmentDelete: listAttachmentDelete,
                    proposal_status: "DRAFT"
                  }  
                );
                Set(ProposalRes, 'TVS->CreateAndUpdateProposal_Process3-V1'.Run(resKeyOpenAll.open,resKeyOpenAll.close,currenUserV2.id,JSON(proposalInsertReq, JSONFormat.IndentFour),If(IsBlank(proposalInfoEdit),If(IsBlank(IdCreateProposal), "",IdCreateProposal),proposalInfoEdit.id),envDEV,envTEST, envUAT1, envUAT2));
                 ForAll(
                        listAttachFile,
                        If(
                            IsBlank(ThisRecord.Id) && !ThisRecord.IsDeleted,
                            AzureBlobStorage.CreateFile(
                                bucketFixInAttach,
                                ThisRecord.Name,
                                ThisRecord.Value
                            );
                        )
                    );
                
                Set(StatusCreateProposal, ProposalRes.status);
                Set(IdCreateProposal, ProposalRes.id);
                
                Set(IsSuccess, false);
                If(Value(StatusCreateProposal) = 200,
                    Set(IsSuccess, true);Set(NoticationText,"Saved successfully!");UpdateContext({ShowNotification: true});,
                    Value(StatusCreateProposal) = 301,
                    Set(IsSuccess, false);Set(NoticationText,"This proposal has been processed by another user, please reload this page.");UpdateContext({ShowNotification: true});,
                    Set(ShowNotificationCheck, "SYSTEM_ERROR")
                );
                // Navigate(TableProposalQT2, ScreenTransition.Fade);
                Set(isLoading, false);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =!isInactiveProposal && !isDisable && (IsBlank(proposalInfoEdit) || proposalInfoEdit.proposal_status in ["DRAFT"]) &&  "CREATE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action)
            Width: =43
            X: =btnSubmit.X - Self.Width - 8
            Y: =btnReject.Y + If(App.Width > 600, 1, 0)
            ZIndex: =6

        btnSubmit As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(17, 79, 144, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(StatusCreateProposal, "0");
                
                // Select Submit
                Set(isLoading,true);
                UpdateContext({ShowNotification: false});
                Set(IsSuccess, false);
                Set(isSubmited,true);
                UpdateContext({ShowNotification: false});
                If(IsBlank(userInput),Set(userInput,currenUserV2.id));
                If(
                    IsBlank(input_issuerShortName.Text),
                    Set(NoticationText,"Issuer is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(FI_TypeDropdown.Text),
                    Set(NoticationText,"Type is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(principalValue),
                    Set(NoticationText,"Principal is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(input_limit_aum.Text),
                    Set(NoticationText,"% of AUM is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(LimitOnAUMDropdown.Text),
                    Set(NoticationText,"Limit on % AUM is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(input_interest.Text),
                    Set(NoticationText,"Interest is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(input_interest_rate.Text),
                    Set(NoticationText,"Interest standard deviation is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(input_term_min.Text),
                    Set(NoticationText,"Term from is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(input_term_max.Text),
                    Set(NoticationText,"Term to is required!");
                    UpdateContext({ShowNotification: true});,
                    Value(input_term_max.Text) < Value(input_term_min.Text),
                    Set(NoticationText,"Term from must before Term to!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(PaymentFrequencyDropdown.Text),
                    Set(NoticationText,"Payment frequency is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(DateStart_DatePicker_3.SelectedDate),
                    Set(NoticationText,"Validity starting time is required!");
                    UpdateContext({ShowNotification: true});,
                    IsBlank(DateTo_DatePicker_4.SelectedDate),
                    Set(NoticationText,"Validity ending time is required!");
                    UpdateContext({ShowNotification: true});,
                    DateDiff(DateStart_DatePicker_3.SelectedDate,Today()) > 0,
                    Set(NoticationText,"Validity starting time must after today!");
                    UpdateContext({ShowNotification: true});,
                    DateDiff(DateStart_DatePicker_3.SelectedDate,DateTo_DatePicker_4.SelectedDate) < 0,
                    Set(NoticationText,"Validity starting time must before Validity ending time!");
                    UpdateContext({ShowNotification: true});,
                    IsEmpty(Filter(listAttachFile,IsDeleted <> true)) && IsEmpty(AttachFile_1.Attachments),
                    Set(NoticationText,"Attach file is required!");
                    UpdateContext({ShowNotification: true});
                    ,
                    Clear(listAttachFileNonPrefix);
                    Clear(colAttachments);
                    Clear(listAttachmentInsert);
                    Clear(listAttachmentDelete);
                    // Select Upload file
                    ForAll(AttachFile_1.Attachments As att,
                        Collect(colAttachments,
                            {Id:"",Date: nowV1,By: User().FullName,Name: att.Name,NameGroup: att.Name,Value: att.Value,
                            File: {file: {contentBytes: att.Value,name: att.Name}},
                            IsDeleted:false,Size: "",FilePath: "",Container: ""}
                        )
                    );
                    //check duplicate
                    ClearCollect(GroupedItems,GroupBy(colAttachments,NameGroup,Group));
                    //Clear(listAttachFile);
                    ForAll(GroupedItems,Collect(listAttachFileNonPrefix,First(ThisRecord.Group)););
                    UpdateIf(listAttachFileNonPrefix, true, {Name: Text(Now(), "ddmmyyyy_hhmmss_") & Name});
                    UpdateIf(listAttachFileNonPrefix, true, {FilePath: urlUploadFixInHead & Name, Container: bucketFixInAttach});
                    Collect(listAttachFile,listAttachFileNonPrefix);
                    ForAll(listAttachFileNonPrefix,
                        If(IsBlank(ThisRecord.Id) && !ThisRecord.IsDeleted,
                            Collect(listAttachmentInsert,
                                {
                                    id: "",
                                    file_name: If(IsBlank(ThisRecord.Name),"",ThisRecord.Name),
                                    created_date: If(IsBlank(ThisRecord.Date),"",ThisRecord.Date),
                                    created_by: If(IsBlank(ThisRecord.By),"",ThisRecord.By),
                                    proposal_id: If(IsBlank(proposalInfoEdit),"",proposalInfoEdit.id)
                                }
                            );
                        )
                    );
                    ForAll(listAttachDelete,
                        Collect(listAttachmentDelete,
                            {
                                id: ThisRecord.Id,
                                file_name: If(IsBlank(ThisRecord.Name),"",ThisRecord.Name),
                                created_date: If(IsBlank(ThisRecord.Date),"",ThisRecord.Date),
                                created_by: If(IsBlank(ThisRecord.By),"",ThisRecord.By),
                                proposal_id: If(IsBlank(proposalInfoEdit),"",proposalInfoEdit.id),
                                FilePath: If(IsBlank(ThisRecord.FilePath),"",ThisRecord.FilePath),
                                Container: If(IsBlank(ThisRecord.Container),"",ThisRecord.Container)
                            }
                        );
                    );
                    Clear(listAttachFileNonPrefix);
                    Clear(colAttachments);
                    // Clear attachment files
                    Reset(AttachFile_1);
                    Set(proposalInsertReq,
                        {
                            issuer: input_issuerName.Text,
                            short_name: Text(input_issuerShortName.Text),
                            proposal_name: If(IsBlank(proposalInfoEdit),CreateProposalName_Input.Text,
                                If(IsBlank(proposalInfoEdit.proposal_name),"""""",proposalInfoEdit.proposal_name)
                            ),
                            type: Text(FI_TypeDropdown.Text),
                            sector: input_sector.Text,
                            principal: Substitute(Substitute(input_prin.Text,".",""),",",""),
                            interest: Substitute(Value(input_interest.Text),",",""),
                            interest_rate: Substitute(Value(input_interest_rate.Text),",",""),
                            term_min: Text(Value(input_term_min.Text)),
                            term_max: Text(Value(input_term_max.Text)),
                            payment_frequency: Text(PaymentFrequencyDropdown.Text),
                            validity_starting_time: Text(DateStart_DatePicker_3.SelectedDate,"yyyy-mm-dd hh:mm:ss"),
                            validity_ending_time: Text(DateTo_DatePicker_4.SelectedDate,"yyyy-mm-dd hh:mm:ss"),
                            limit_on_aum: Substitute(LimitOnAUMDropdown.Text,",",""),
                            percent_aum: Substitute(Value(input_limit_aum.Text),",",""),
                            entity: If(IsBlank(proposalInfoEdit),
                                Text(PaymentFrequencyDropdown_1.Text),
                                If(IsBlank(proposalInfoEdit.entity),"""""",proposalInfoEdit.entity)
                            ),
                            note: input_note.Text,
                            created_by: userInput,
                            write_by: userInput,
                            write_date: Text(Now(),"yyyy-mm-dd hh:mm:ss"),
                            listAttachmentInsert: UpdateIf(listAttachmentInsert, true, {FilePath: urlUploadFixInHead & file_name, Container: bucketFixInAttach}), 
                            listAttachmentDelete: listAttachmentDelete,
                            proposal_status: If(
                                "HD_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3",action),
                                "PENDING_REVIEW_BY_RISK_MANAGEMENT",
                                "PENDING_REVIEW_BY_HEAD_OF_DIVISION"
                            )
                        }
                    );
                    Set(ProposalRes,
                        'TVS->CreateAndUpdateProposal_Process3-V1'.Run(
                            resKeyOpenAll.open,resKeyOpenAll.close,currenUserV2.id,
                            JSON(proposalInsertReq,JSONFormat.IndentFour),
                            If(IsBlank(proposalInfoEdit), If(IsBlank(IdCreateProposal), "",IdCreateProposal), proposalInfoEdit.id),
                            envDEV,envTEST, envUAT1, envUAT2
                        )
                    );
                    Set(StatusCreateProposal,ProposalRes.status);
                    Set(IdCreateProposal,ProposalRes.id);
                    ForAll(listAttachFile,
                        If(IsBlank(ThisRecord.Id) && !ThisRecord.IsDeleted,
                            AzureBlobStorage.CreateFile(bucketFixInAttach,ThisRecord.Name,ThisRecord.Value);
                        )
                    );
                
                If(Value(StatusCreateProposal) = 301,
                Set(IsSuccess, false);Set(NoticationText,"This proposal has been processed by another user, please reload this page.");UpdateContext({ShowNotification: true});
                );
                Set(ShowNotificationCheck,If(Value(StatusCreateProposal) = 200, If(!IsBlank(proposalInfoEdit),"UPDATED_SUCCESS","CREATED_SUCCESS"), If(Value(StatusCreateProposal) = 301, "", "SYSTEM_ERROR")));
                If(Value(StatusCreateProposal) <> 301,  Navigate(TableProposalQT2, ScreenTransition.Fade));
                );
                Set(isLoading,false);
                
                If(Value(StatusCreateProposal) = 200,
                    Set(linkToItem, "<a href='" & linkToApp & "?screen=detail-proposal&action=approve-proposal&proposalId=" & IdCreateProposal & "'>Link to item</a>");
                    'TVS-SendNotiEmailProposal-V1'.Run(
                        resKeyOpenAll.open,resKeyOpenAll.close,"SUBMIT",IdCreateProposal,currenUserV2.id,currenUserV2.name,
                        If("HD_APPROVE" in LookUp(currenUserV2.permissionList,process_code = "Process3",action),"PENDING_REVIEW_BY_HEAD_OF_DIVISION","SUBMIT"),
                        input_issuerShortName.Text,
                        input_prin.Text,
                        Text(FI_TypeDropdown.Text),
                        linkToItem,
                        envDEV,envTEST, envUAT1, envUAT2,
                        If(IsBlank(proposalInfoEdit),
                            Text(PaymentFrequencyDropdown_1.Text),
                            If(IsBlank(proposalInfoEdit.entity),"""""",proposalInfoEdit.entity)
                        ),
                        appProperty, emailFromConfix
                    )
                );
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =If(App.Width > 800, "Submit", "")
            Visible: =!isInactiveProposal && !isVisibleCalling && !isDisable && (IsBlank(proposalInfoEdit) || proposalInfoEdit.proposal_status in ["DRAFT", "PARTIALLY_REJECTED"]) && "CREATE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action)
            Width: =If(App.Width > 800, 90, 40)
            X: =App.Width - Self.Width - If(App.Width > 800, 40, 15)
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =7

        btnSubmitIcon As htmlViewer:
            Font: =Font.Arial
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""25"" height=""24"" viewBox=""0 0 25 24"" fill=""none"">
                  <path d=""M5 2.25V21.75H20V7.2L19.775 6.975L15.275 2.475L15.05 2.25H5ZM6.5 3.75H14V8.25H18.5V20.25H6.5V3.75ZM15.5 4.8L17.45 6.75H15.5V4.8ZM12.5 9.75L9.5 12.75H11.75V16.5H13.25V12.75H15.5L12.5 9.75ZM9.5 17.25V18.75H15.5V17.25H9.5Z"" fill=""#FEFEFE""/>
                </svg></div>"
            OnSelect: =Select(btnSubmit);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =!isInactiveProposal && !isVisibleCalling && !isDisable && (IsBlank(proposalInfoEdit) || proposalInfoEdit.proposal_status in ["DRAFT", "PARTIALLY_REJECTED"]) && "CREATE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action)
            Width: =40
            X: =btnSubmit.X
            Y: =btnSubmit.Y
            ZIndex: =8

        btnApprove As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(17, 79, 144, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(showApprovePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailProposalReason_Input);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =If(App.Width > 800, "Approve", "")
            Visible: |-
                =!isInactiveProposal && !isVisibleCalling && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["DRAFT","REJECTED","PARTIALLY_REJECTED","APPROVED"]) &&
                Switch(
                    proposalInfoEdit.proposal_status,
                    "PENDING_REVIEW_BY_HEAD_OF_DIVISION", "HD_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_RISK_MANAGEMENT", "RM_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CIO", "CIO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CEO", "CEO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    true
                ) && If(proposalInfoEdit.proposal_status = "PENDING_REVIEW_BY_INVESTMENT_COMMITEE", !IsEmpty(Filter(fileAndlistIC.list_investment_board, employee_id = currenUserV2.id && Len(action) = 0)), true)
            Width: =If(App.Width > 800, 90, 40)
            X: =App.Width - Self.Width - If(App.Width > 800, 40, 15)
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =9

        ApproveIcon As htmlViewer:
            Font: =Font.Arial
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                  <path fill-rule=""evenodd"" clip-rule=""evenodd"" d=""M21.546 5.11155C21.8272 5.39285 21.9852 5.77431 21.9852 6.17205C21.9852 6.5698 21.8272 6.95126 21.546 7.23255L10.303 18.4756C10.1544 18.6242 9.97805 18.7421 9.7839 18.8225C9.58976 18.9029 9.38167 18.9443 9.17153 18.9443C8.96138 18.9443 8.75329 18.9029 8.55915 18.8225C8.365 18.7421 8.1886 18.6242 8.04003 18.4756L2.45403 12.8906C2.31076 12.7522 2.19649 12.5867 2.11787 12.4037C2.03926 12.2207 1.99788 12.0238 1.99615 11.8247C1.99442 11.6255 2.03237 11.428 2.10779 11.2436C2.18322 11.0593 2.29459 10.8918 2.43543 10.751C2.57627 10.6101 2.74375 10.4987 2.92809 10.4233C3.11244 10.3479 3.30996 10.3099 3.50913 10.3117C3.7083 10.3134 3.90513 10.3548 4.08813 10.4334C4.27114 10.512 4.43666 10.6263 4.57503 10.7696L9.17103 15.3656L19.424 5.11155C19.5633 4.97216 19.7287 4.86159 19.9108 4.78615C20.0928 4.71071 20.288 4.67188 20.485 4.67188C20.6821 4.67188 20.8772 4.71071 21.0593 4.78615C21.2413 4.86159 21.4067 4.97216 21.546 5.11155Z"" fill=""#FEFEFE""/>
                </svg></div>"
            OnSelect: |-
                =Set(showApprovePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailProposalReason_Input);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: |-
                =!isInactiveProposal && !isVisibleCalling && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["DRAFT","REJECTED","PARTIALLY_REJECTED","APPROVED"]) &&
                Switch(
                    proposalInfoEdit.proposal_status,
                    "PENDING_REVIEW_BY_HEAD_OF_DIVISION", "HD_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_RISK_MANAGEMENT", "RM_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CIO", "CIO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CEO", "CEO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    true
                ) && If(proposalInfoEdit.proposal_status = "PENDING_REVIEW_BY_INVESTMENT_COMMITEE", !IsEmpty(Filter(fileAndlistIC.list_investment_board, employee_id = currenUserV2.id && Len(action) = 0)), true)
            Width: =40
            X: =btnApprove.X
            Y: =btnApprove.Y
            ZIndex: =10

        btnRevise As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(214, 117, 27, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(showRevisePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailProposalReason_Input);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =If(App.Width > 800, "Revise", "")
            Visible: |-
                =!isInactiveProposal && !isVisibleCalling && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in [
                    "DRAFT",
                    "REJECTED",
                    "PARTIALLY_REJECTED",
                    "APPROVED",
                    "PENDING_REVIEW_BY_INVESTMENT_COMMITEE"
                ]) &&
                Switch(
                    proposalInfoEdit.proposal_status,
                    "PENDING_REVIEW_BY_HEAD_OF_DIVISION", "HD_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_RISK_MANAGEMENT", "RM_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CIO", "CIO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CEO", "CEO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    true
                )
            Width: =If(App.Width > 800, 90, 40)
            X: =btnApprove.X - 8 - Self.Width
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =11

        ReviseIcon As htmlViewer:
            Font: =Font.Arial
            HtmlText: |-
                ="<div style=""width: 40px; height: 38px; display: flex; justify-content: center; align-items: center; cursor: pointer""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"">
                  <path d=""M9.505 21H4.5C4.10218 21 3.72064 20.842 3.43934 20.5607C3.15804 20.2794 3 19.8978 3 19.5V4.5C3 4.10218 3.15804 3.72064 3.43934 3.43934C3.72064 3.15804 4.10218 3 4.5 3H19.5C19.8978 3 20.2794 3.15804 20.5607 3.43934C20.842 3.72064 21 4.10218 21 4.5V9.515M14.5185 21H20.5C20.6326 21 20.7598 20.9473 20.8536 20.8536C20.9473 20.7598 21 20.6326 21 20.5V14.5175H9"" stroke=""white"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""/>
                  <path d=""M11.5 11.5L8.5 14.5L11.5 17.5"" stroke=""white"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""/>
                </svg></div>"
            OnSelect: |-
                =Set(showRevisePopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailProposalReason_Input);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: |-
                =!isInactiveProposal && !isVisibleCalling && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in [
                    "DRAFT",
                    "REJECTED",
                    "PARTIALLY_REJECTED",
                    "APPROVED",
                    "PENDING_REVIEW_BY_INVESTMENT_COMMITEE"
                ]) &&
                Switch(
                    proposalInfoEdit.proposal_status,
                    "PENDING_REVIEW_BY_HEAD_OF_DIVISION", "HD_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_RISK_MANAGEMENT", "RM_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CIO", "CIO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CEO", "CEO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    true
                )
            Width: =40
            X: =btnRevise.X + If(App.Width > 600, 2, 0)
            Y: =btnRevise.Y
            ZIndex: =12

        btnReject As button:
            BorderColor: =Self.Fill
            BorderThickness: =0
            DisabledFill: =Self.Fill
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(showRejectPopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailProposalReason_Input);
            PaddingLeft: =30
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =If(App.Width > 800, "Reject", "")
            Visible: |-
                =!isInactiveProposal && !isVisibleCalling && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["DRAFT", "REJECTED", "PARTIALLY_REJECTED", "APPROVED"]) &&
                Switch(
                    proposalInfoEdit.proposal_status,
                    "PENDING_REVIEW_BY_HEAD_OF_DIVISION", "HD_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_RISK_MANAGEMENT", "RM_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CIO", "CIO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CEO", "CEO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    true
                ) && If(proposalInfoEdit.proposal_status = "PENDING_REVIEW_BY_INVESTMENT_COMMITEE", !IsEmpty(Filter(fileAndlistIC.list_investment_board, employee_id = currenUserV2.id && Len(action) = 0)), true)
            Width: =If(App.Width > 800, 90, 40)
            X: =If(proposalInfoEdit.proposal_status <> "PENDING_REVIEW_BY_INVESTMENT_COMMITEE", btnRevise.X, btnApprove.X) - Self.Width - 8
            Y: =Header_22.Y + Header_22.Height + 8
            ZIndex: =13

        RejectIcon As icon.CancelBadge:
            Color: =RGBA(255, 255, 255, 1)
            Height: =20
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =Set(showRejectPopup, true);
                Set(isSummitedPopup, false);
                Reset(DetailProposalReason_Input);
            Visible: |-
                =!isInactiveProposal && !isVisibleCalling && !IsBlank(proposalInfoEdit) && !(proposalInfoEdit.proposal_status in ["DRAFT", "REJECTED", "PARTIALLY_REJECTED", "APPROVED"]) &&
                Switch(
                    proposalInfoEdit.proposal_status,
                    "PENDING_REVIEW_BY_HEAD_OF_DIVISION", "HD_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_RISK_MANAGEMENT", "RM_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CIO", "CIO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    "PENDING_REVIEW_BY_CEO", "CEO_APPROVE" in LookUp(currenUserV2.permissionList, process_code = "Process3", action),
                    true
                ) && If(proposalInfoEdit.proposal_status = "PENDING_REVIEW_BY_INVESTMENT_COMMITEE", !IsEmpty(Filter(fileAndlistIC.list_investment_board, employee_id = currenUserV2.id && Len(action) = 0)), true)
            Width: =20
            X: =btnReject.X + If(App.Width > 600, 12, 10)
            Y: =btnReject.Y + 10
            ZIndex: =14

        SubHeaderHr As rectangle:
            Fill: =RGBA(191, 191, 192, 1)
            Height: =IconBack.Height + 10
            Visible: =App.Width > 600
            Width: =0.5
            X: =IconBack.X + IconBack.Width + 5
            Y: =IconBack.Y - 5
            ZIndex: =15

        BackMobile_Label As label:
            Font: =Font.Arial
            Height: =30
            OnSelect: =Navigate(TableProposalQT2, ScreenTransition.Fade)
            Size: =10.5
            Text: ="Back"
            Visible: =App.Width < 600
            Width: =0
            X: =IconBack.X + IconBack.Width
            Y: =IconBack.Y - 7
            ZIndex: =16

        btnDelete As button:
            BorderColor: =RGBA(255, 0, 0, 1)
            BorderThickness: =1
            DisabledFill: =Self.Fill
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =0
            Font: =Font.Arial
            FontWeight: =FontWeight.Normal
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnSelect: |-
                =Set(idProposalDelete, If(IsBlank(proposalInfoEdit), IdCreateProposal, proposalInfoEdit.id));
                Set(isShowPopupDelete, true);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingTop: =0
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =10.5
            Text: =""
            Visible: =SaveButton.Visible && !(IsBlank(proposalInfoEdit) && IsBlank(IdCreateProposal))
            Width: =40
            X: =SaveButton.X - 8 - Self.Width
            Y: =btnSubmit.Y
            ZIndex: =17

        DeleteIcon As htmlViewer:
            Font: =Font.Arial
            Height: =42
            HtmlText: |-
                ="<div style=""cursor:pointer; width:40px; height: 37px; display:flex; justify-content:center; align-items:center""><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 16 16"" fill=""none"">
                  <path d=""M4.66683 2.66634C4.66683 2.31272 4.8073 1.97358 5.05735 1.72353C5.3074 1.47348 5.64654 1.33301 6.00016 1.33301H10.0002C10.3538 1.33301 10.6929 1.47348 10.943 1.72353C11.193 1.97358 11.3335 2.31272 11.3335 2.66634V3.99967H14.0002C14.177 3.99967 14.3465 4.06991 14.4716 4.19494C14.5966 4.31996 14.6668 4.48953 14.6668 4.66634C14.6668 4.84315 14.5966 5.01272 14.4716 5.13775C14.3465 5.26277 14.177 5.33301 14.0002 5.33301H13.2875L12.7095 13.4277C12.6856 13.7641 12.535 14.0789 12.2882 14.3087C12.0415 14.5386 11.7167 14.6663 11.3795 14.6663H4.62016C4.28292 14.6663 3.95821 14.5386 3.71142 14.3087C3.46463 14.0789 3.31411 13.7641 3.29016 13.4277L2.7135 5.33301H2.00016C1.82335 5.33301 1.65378 5.26277 1.52876 5.13775C1.40373 5.01272 1.3335 4.84315 1.3335 4.66634C1.3335 4.48953 1.40373 4.31996 1.52876 4.19494C1.65378 4.06991 1.82335 3.99967 2.00016 3.99967H4.66683V2.66634ZM6.00016 3.99967H10.0002V2.66634H6.00016V3.99967ZM4.0495 5.33301L4.62083 13.333H11.3802L11.9515 5.33301H4.0495ZM6.66683 6.66634C6.84364 6.66634 7.01321 6.73658 7.13823 6.8616C7.26326 6.98663 7.3335 7.1562 7.3335 7.33301V11.333C7.3335 11.5098 7.26326 11.6794 7.13823 11.8044C7.01321 11.9294 6.84364 11.9997 6.66683 11.9997C6.49002 11.9997 6.32045 11.9294 6.19542 11.8044C6.0704 11.6794 6.00016 11.5098 6.00016 11.333V7.33301C6.00016 7.1562 6.0704 6.98663 6.19542 6.8616C6.32045 6.73658 6.49002 6.66634 6.66683 6.66634ZM9.3335 6.66634C9.51031 6.66634 9.67988 6.73658 9.8049 6.8616C9.92992 6.98663 10.0002 7.1562 10.0002 7.33301V11.333C10.0002 11.5098 9.92992 11.6794 9.8049 11.8044C9.67988 11.9294 9.51031 11.9997 9.3335 11.9997C9.15668 11.9997 8.98712 11.9294 8.86209 11.8044C8.73707 11.6794 8.66683 11.5098 8.66683 11.333V7.33301C8.66683 7.1562 8.73707 6.98663 8.86209 6.8616C8.98712 6.73658 9.15668 6.66634 9.3335 6.66634Z"" fill=""#D00C0C""/>
                </svg></div>"
            OnSelect: |-
                =Set(idProposalDelete, If(IsBlank(proposalInfoEdit), IdCreateProposal, proposalInfoEdit.id));
                Set(isShowPopupDelete, true);
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Visible: =SaveButton.Visible && !(IsBlank(proposalInfoEdit) && IsBlank(IdCreateProposal))
            Width: =42
            X: =btnDelete.X
            Y: =btnDelete.Y
            ZIndex: =18

    NotificationScreen_4 As NotificationScreen:
        Visible: =ShowNotificationPopup
        ZIndex: =41

    LoadingComponent_3 As LoadingComponent:
        Visible: =isLoading
        ZIndex: =42

    Button2 As button:
        Font: =Font.Arial
        OnSelect: |-
            =Set(ShowNotificationCheck, "ACCESS_DENIED_PROPOSAL");
            Navigate(WelcomePage, ScreenTransition.Fade)
        Text: ="Button"
        Visible: =false
        X: =315
        Y: =564
        ZIndex: =43

    DeleteConfirm_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =44

        RejectPopupBack_6 As rectangle:
            Fill: =RGBA(0.3, 0.3, 0.3, 0.3)
            Height: =Parent.Height
            Visible: =isShowPopupDelete
            Width: =Parent.Width
            ZIndex: =34

        DeleteConfirmBg_4 As htmlViewer:
            Font: =Font.Arial
            Height: =If(Parent.Width > 600, 200, 200)
            HtmlText: |-
                ="<div style='margin-left: 8px; width: calc(100% - 16px); height: "& Self.Height - 20 &"px; background-color: white; border-radius: 12px;box-shadow: 5px 4px 8px 0px rgba(0, 0, 0, 0.10);
                '></div>"
            PaddingRight: =5.00
            PaddingTop: =5.00
            Size: =11.00
            Visible: =isShowPopupDelete
            Width: =If(App.Width > 600, 550, App.Width + 5)
            X: =If(App.Width > 600, App.Width * 0.5 - DeleteConfirmBg_4.Width *0.5, -3)
            Y: =App.Height / 2 - Self.Height
            ZIndex: =35

        CancelResearchOpinionButton_2 As button:
            BorderColor: =Self.Color
            BorderThickness: =1
            Color: =RGBA(214, 27, 27, 1)
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(214, 27, 27, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =1
            Font: =Font.Arial
            Height: =44
            HoverColor: =RGBA(214, 27, 27, 1)
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            PressedBorderColor: =RGBA(214, 27, 27, 1)
            PressedColor: =RGBA(214, 27, 27, 1)
            PressedFill: =
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="No"
            Visible: =isShowPopupDelete
            Width: =120
            X: =DeleteConfirmBg_4.X + DeleteConfirmBg_4.Width - 280
            Y: =DeleteConfirmBg_4.Y + DeleteConfirmBg_4.Height - 70
            ZIndex: =36

        DeleteResearchOpinionButton_2 As button:
            BorderThickness: =
            DisabledBorderColor: =RGBA(214, 27, 27, 1)
            DisabledColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(214, 27, 27, 1)
            Fill: =RGBA(214, 27, 27, 1)
            FocusedBorderThickness: =
            Font: =Font.Arial
            Height: =44
            HoverFill: =ColorFade(Self.Fill , -15%)
            OnSelect: |-
                =Set(isLoading, true);
                UpdateContext({ShowNotification: false});
                Set(deleteStatus, 'TVS->DeleteProposal_Process3-V1'.Run(idProposalDelete,  resKeyOpenAll.open, resKeyOpenAll.close,envDEV,envTEST, envUAT1, envUAT2).status);
                If(Value(deleteStatus) = 200,
                Set(ShowNotificationCheck, "DELETED_SUCCESS");
                Navigate(TableProposalQT2, ScreenTransition.Fade);,
                Set(isShowPopupDelete, false); Set(IsSuccess, false);Set(NoticationText,"This proposal has been processed by another user, please reload this page.");UpdateContext({ShowNotification: true});
                );
                Set(isLoading, false);
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(214, 27, 27, 1)
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Size: =10.5
            Text: ="Yes"
            Visible: =isShowPopupDelete
            Width: =120
            X: =DeleteConfirmBg_4.X + DeleteConfirmBg_4.Width - 150
            Y: =DeleteConfirmBg_4.Y + DeleteConfirmBg_4.Height - 70
            ZIndex: =37

        DeleteConfirmCloseIcon_5 As icon.Cancel:
            Color: =RGBA(26, 26, 26, 1)
            Height: =20
            Icon: =Icon.Cancel
            OnSelect: |-
                =Set(varEncryptionDeleteSelectedId, Blank());
                Set(isShowPopupDelete, false);
            Visible: =isShowPopupDelete
            Width: =20
            X: =DeleteConfirmBg_4. X + DeleteConfirmBg_4.Width -50
            Y: =DeleteConfirmBg_4.Y + 20
            ZIndex: =38

        DeleteConfirmLabel_6 As label:
            Font: =Font.Arial
            Size: =12
            Text: ="Are you sure to delete this proposal?"
            Visible: =isShowPopupDelete
            Width: =DeleteConfirmBg_4.Width - 100 - DeleteConfirmCloseIcon_5.Width
            X: =Label2_2.X
            Y: =Label2_2.Y + Label2_2.Height
            ZIndex: =39

        Label2_2 As label:
            Font: =Font.Arial
            FontWeight: =FontWeight.Bold
            Size: =14
            Text: ="Delete"
            Visible: =isShowPopupDelete
            X: =DeleteConfirmBg_4.X + 30
            Y: =DeleteConfirmBg_4.Y + 10
            ZIndex: =40

